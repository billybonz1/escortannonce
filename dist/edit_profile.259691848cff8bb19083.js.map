{"version":3,"sources":["webpack:///../node_modules/core-js/internals/fails.js","webpack:///../node_modules/core-js/internals/inspect-source.js","webpack:///../node_modules/core-js/internals/redefine.js","webpack:///../node_modules/core-js/internals/array-for-each.js","webpack:///../node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///../node_modules/core-js/internals/shared-key.js","webpack:///../node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///../node_modules/suneditor/src/lang/en.js","webpack:///../node_modules/core-js/internals/array-iteration.js","webpack:///../node_modules/core-js/internals/object-keys-internal.js","webpack:///../node_modules/core-js/internals/is-forced.js","webpack:///../node_modules/core-js/internals/to-object.js","webpack:///./edit_profile.js","webpack:///./js/common.js","webpack:///../node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///../node_modules/core-js/internals/indexed-object.js","webpack:///../node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///../node_modules/core-js/internals/well-known-symbol.js","webpack:///../node_modules/core-js/internals/document-create-element.js","webpack:///../node_modules/core-js/internals/descriptors.js","webpack:///../node_modules/core-js/internals/export.js","webpack:///../node_modules/core-js/internals/own-keys.js","webpack:///../node_modules/core-js/internals/to-indexed-object.js","webpack:///../node_modules/core-js/internals/shared-store.js","webpack:///../node_modules/core-js/internals/object-get-own-property-names.js","webpack:///../node_modules/core-js/internals/native-weak-map.js","webpack:///../node_modules/core-js/internals/is-pure.js","webpack:///../node_modules/core-js/internals/require-object-coercible.js","webpack:///../node_modules/choices.js/public/assets/scripts/choices.js","webpack:///../node_modules/core-js/modules/es.array.for-each.js","webpack:///../node_modules/core-js/internals/internal-state.js","webpack:///../node_modules/suneditor/src/assets/defaultIcons.js","webpack:///../node_modules/suneditor/src/lib/util.js","webpack:///../node_modules/suneditor/src/lib/constructor.js","webpack:///../node_modules/suneditor/src/lib/context.js","webpack:///../node_modules/suneditor/src/plugins/modules/_notice.js","webpack:///../node_modules/suneditor/src/suneditor.js","webpack:///../node_modules/suneditor/src/lib/core.js","webpack:///../node_modules/suneditor/src/lib/history.js","webpack:///../node_modules/core-js/internals/get-built-in.js","webpack:///../node_modules/core-js/internals/create-property-descriptor.js","webpack:///../node_modules/core-js/internals/to-primitive.js","webpack:///../node_modules/core-js/internals/set-global.js","webpack:///../node_modules/core-js/internals/function-bind-context.js","webpack:///../node_modules/suneditor/src/plugins/submenu/horizontalRule.js","webpack:///../node_modules/suneditor/src/plugins/submenu/align.js","webpack:///../node_modules/core-js/internals/native-symbol.js","webpack:///../node_modules/core-js/internals/enum-bug-keys.js","webpack:///../node_modules/core-js/internals/array-method-is-strict.js","webpack:///../node_modules/core-js/internals/classof-raw.js","webpack:///../node_modules/core-js/internals/is-object.js","webpack:///../node_modules/core-js/internals/an-object.js","webpack:///../node_modules/core-js/internals/shared.js","webpack:///../node_modules/core-js/internals/to-absolute-index.js","webpack:///../node_modules/core-js/internals/is-array.js","webpack:///../node_modules/core-js/internals/array-species-create.js","webpack:///../node_modules/core-js/internals/a-function.js","webpack:///../node_modules/core-js/internals/array-includes.js","webpack:///../node_modules/core-js/internals/path.js","webpack:///../node_modules/core-js/internals/global.js","webpack:///../node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///../node_modules/core-js/internals/object-define-property.js","webpack:///../node_modules/core-js/internals/uid.js","webpack:///../node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///../node_modules/webpack/buildin/global.js","webpack:///../node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///../node_modules/core-js/internals/hidden-keys.js","webpack:///../node_modules/core-js/internals/has.js","webpack:///../node_modules/core-js/internals/dom-iterables.js","webpack:///../node_modules/core-js/internals/copy-constructor-properties.js","webpack:///../node_modules/core-js/internals/to-integer.js","webpack:///../node_modules/core-js/internals/ie8-dom-define.js","webpack:///../node_modules/core-js/internals/to-length.js"],"names":["module","exports","exec","error","store","functionToString","Function","toString","inspectSource","it","call","global","createNonEnumerableProperty","has","setGlobal","InternalStateModule","getInternalState","get","enforceInternalState","enforce","TEMPLATE","String","split","O","key","value","options","unsafe","simple","enumerable","noTargetGet","source","join","prototype","this","$forEach","forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","arguments","length","undefined","DOMIterables","COLLECTION_NAME","Collection","CollectionPrototype","shared","uid","keys","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","Object","NASHORN_BUG","1","f","V","descriptor","factory","window","noGlobal","lang","code","toolbar","default","save","font","formats","fontSize","bold","underline","italic","strike","subscript","superscript","removeFormat","fontColor","hiliteColor","indent","outdent","align","alignLeft","alignRight","alignCenter","alignJustify","list","orderList","unorderList","horizontalRule","hr_solid","hr_dotted","hr_dashed","table","link","math","image","video","audio","fullScreen","showBlocks","codeView","undo","redo","preview","print","tag_p","tag_div","tag_h","tag_blockquote","tag_pre","template","lineHeight","paragraphStyle","textStyle","imageGallery","dialogBox","linkBox","title","url","text","newWindowCheck","mathBox","inputLabel","fontSizeLabel","previewLabel","imageBox","file","altText","videoBox","audioBox","browser","tags","search","caption","close","submitButton","revertButton","proportion","basic","left","right","center","width","height","size","ratio","controller","edit","unlink","remove","insertRowAbove","insertRowBelow","deleteRow","insertColumnBefore","insertColumnAfter","deleteColumn","fixedColumnWidth","resize100","resize75","resize50","resize25","autoSize","mirrorHorizontal","mirrorVertical","rotateLeft","rotateRight","maxSize","minSize","tableHeader","mergeCells","splitCells","HorizontalSplit","VerticalSplit","menu","spaced","bordered","neon","translucent","shadow","SUNEDITOR_LANG","defineProperty","writable","configurable","document","w","Error","bind","IndexedObject","toObject","toLength","arraySpeciesCreate","push","createMethod","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","that","specificCreate","result","self","boundFunction","index","create","target","map","filter","some","every","find","findIndex","toIndexedObject","indexOf","hiddenKeys","object","names","i","fails","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","requireObjectCoercible","argument","querySelectorAll","select","Choices","itemSelectText","all","initEditor","suneditor","init","buttonList","item","addEventListener","e","preventDefault","parentElement","item1","classList","add","hamburger","querySelector","mobileMenuCont","searchBtn","searchMobileCont","toggle","menuClose","searchClose","path","contains","a","nextElementSibling","NATIVE_SYMBOL","Symbol","sham","iterator","classof","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toPrimitive","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","P","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","name","isObject","EXISTS","createElement","redefine","copyConstructorProperties","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","anObject","getOwnPropertySymbols","concat","internalObjectKeys","getOwnPropertyNames","WeakMap","test","TypeError","modules","installedModules","__webpack_require__","moduleId","l","m","c","d","getter","o","r","toStringTag","t","mode","__esModule","ns","n","property","hasOwnProperty","p","s","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","val","Array","isArray","defaultArrayMerge","element","getKeys","symbol","getEnumerableOwnPropertySymbols","mergeObject","destination","unused","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","array","reduce","prev","next","deepmerge_1","__webpack_exports__","root","_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__","constructor","location","distance","threshold","h","maxPatternLength","u","caseSensitive","v","tokenSeparator","g","findAllMatches","y","minMatchCharLength","k","S","id","x","b","M","_","shouldSort","L","getFn","A","C","sortFn","I","score","tokenize","j","matchAllTokens","F","T","includeMatches","z","E","includeScore","K","$","verbose","J","isCaseSensitive","setCollection","limit","_log","_prepareSearchers","tokenSearchers","fullSearcher","_search","weights","results","_computeScore","_sort","slice","_format","_analyze","record","resultMap","weight","arrayIndex","pattern","isMatch","output","matchedIndices","Math","min","nScore","sort","JSON","stringify","matches","indices","console","log","apply","patternAlphabet","RegExp","match","errors","currentLocation","expectedLocation","lastIndexOf","floor","max","charAt","abs","symbolObservablePonyfill","observable","originalModule","webpackPolyfill","children","dist_fuse","fuse_default","cjs","cjs_default","es","randomString","random","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","splice","dispatch","action","type","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","unsubscribe","getUndefinedStateErrorMessage","actionType","tmpEl","defaultState","groups_defaultState","choices_defaultState","general_defaultState","loading","reducers_general","state","isLoading","generateChars","from","getType","isType","sanitise","strToEl","str","cleanedInput","trim","innerHTML","firldChild","firstChild","removeChild","sortByScore","cloneObject","parse","appReducer","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","combineReducers","items","choiceId","groupId","label","active","highlighted","customProperties","placeholder","keyCode","groups","disabled","choices","elementId","selected","activateOptions","choice","parseInt","general","passedState","_defineProperties","props","store_Store","Store","_store","__REDUX_DEVTOOLS_EXTENSION__","Constructor","protoProps","staticProps","_proto","onChange","getChoiceById","activeChoices","getGroupById","group","selectableChoices","reverse","isActive","hasActiveOptions","dropdown_defineProperties","Dropdown","classNames","getChild","selector","show","activeState","setAttribute","hide","getBoundingClientRect","bottom","DEFAULT_CONFIG","silent","renderChoiceLimit","maxItemCount","addItems","addItemFilter","removeItems","removeItemButton","editItems","duplicateItemsAllowed","delimiter","paste","searchEnabled","searchChoices","searchFloor","searchResultLimit","searchFields","position","resetScrollPosition","shouldSortItems","sorter","_ref$label","value2","_ref2$label","label2","localeCompare","sensitivity","ignorePunctuation","numeric","placeholderValue","searchPlaceholderValue","prependValue","appendValue","renderSelectedChoices","loadingText","noResultsText","noChoicesText","uniqueItemText","customAddItemText","addItemText","maxItemText","valueComparer","value1","fuseOptions","callbackOnInit","callbackOnCreateTemplates","containerOuter","containerInner","input","inputCloned","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","itemChoice","groupHeading","button","focusState","openState","disabledState","highlightedState","selectedState","flippedState","loadingState","noResults","noChoices","EVENTS","ACTION_TYPES","KEY_CODES","container_Container","Container","isOpen","isFlipped","isFocussed","isDisabled","_onFocus","_onBlur","addEventListeners","removeEventListeners","removeEventListener","shouldFlip","dropdownPos","matchMedia","setActiveDescendant","activeDescendantID","removeActiveDescendant","removeAttribute","open","focus","addFocusState","removeFocusState","enable","disable","wrap","wrapper","nextSibling","parentNode","insertBefore","appendChild","utils_wrap","unwrap","addLoadingState","removeLoadingState","input_defineProperties","input_Input","Input","preventPaste","activeElement","_onPaste","_onInput","passive","blur","clear","setWidth","_this$element","style","minWidth","event","set","list_List","List","scrollPos","scrollTop","offsetHeight","append","node","hasChildren","hasChildNodes","scrollToTop","scrollToChildElement","direction","_this","listHeight","listScrollPosition","elementHeight","elementPos","offsetTop","requestAnimationFrame","_animateScroll","_scrollDown","strength","easing","_scrollUp","_this2","choiceListScrollTop","continueAnimation","wrapped_element_defineProperties","wrapped_element_WrappedElement","WrappedElement","HTMLInputElement","HTMLSelectElement","conceal","hidden","tabIndex","origStyle","getAttribute","reveal","triggerEvent","eventType","customArgs","CustomEvent","detail","bubbles","cancelable","dispatchEvent","dataset","dir","wrapped_input_defineProperties","WrappedInput","_WrappedElement","subClass","superClass","__proto__","joinedValues","wrapped_select_defineProperties","WrappedSelect","appendDocFragment","fragment","getElementsByTagName","createDocumentFragment","optionData","option","TEMPLATES","isSelectElement","isSelectOneElement","passedElementType","_containerOuter","div","assign","className","_containerInner","itemList","_ref3","_ref4","_placeholder","_ref5","_ref6","_item","isPlaceholder","deletable","removeButton","REMOVE_ITEM_TEXT","choiceList","_ref7","choiceGroup","_ref8","_ref9","_ref10","_ref11","selectText","isSelected","choiceDisabled","choiceSelectable","_ref12","_input","inp","autocomplete","autocapitalize","spellcheck","dropdown","_ref13","notice","_ref14","classes","_ref15","opt","Option","choices_activateChoices","items_highlightItem","groups_addGroup","setIsLoading","choices_defineProperties","IS_IE11","documentElement","USER_DEFAULTS","choices_Choices","userConfig","config","defaults","sourceArray","aKeys","bKeys","invalidConfigOptions","warn","passedElement","_isTextElement","_isSelectOneElement","_isSelectMultipleElement","_isSelectElement","includes","re","_templates","initialised","_initialState","_currentState","_prevState","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","prefix","generateId","_direction","elementDirection","getComputedStyle","_idNames","_presetGroups","optionGroups","_presetOptions","_presetChoices","_presetItems","hasAttribute","_render","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onAKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","preventExtensions","_createTemplates","_createElements","_createStructure","_addEventListeners","destroy","_removeEventListeners","clearStore","highlightItem","runEvent","_item$groupId","_item$value","_item$label","groupValue","unhighlightItem","_item$groupId2","_item$value2","_item$label2","highlightAll","unhighlightAll","_this3","removeActiveItemsByValue","_this4","activeItems","_removeItem","removeActiveItems","excludedId","_this5","removeHighlightedItems","_this6","highlightedActiveItems","_triggerChange","showDropdown","preventInputFocus","_this7","distanceFromTopWindow","hideDropdown","preventInputBlur","_this8","getValue","valueOnly","values","selectedItems","itemValue","setValue","_this9","_setChoiceOrItem","setChoiceByValue","_this10","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","_this11","ReferenceError","clearChoices","fetcher","Promise","resolve","then","_handleLoadingState","catch","err","_startLoading","groupOrChoice","_addGroup","valueKey","labelKey","_addChoice","_stopLoading","clearInput","shouldSetInputWidth","_isSearching","stateChanged","shouldRenderChoices","shouldRenderItems","_renderChoices","_renderItems","_this12","_this$_store","activeGroups","choiceListFragment","activePlaceholders","activeChoice","_createChoicesFragment","_createGroupsFragment","childNodes","canAddItem","_canAddItem","response","_highlightChoice","_getTemplate","dropdownItem","itemListFragment","_createItemsFragment","_this13","groupChoices","getGroupChoices","dropdownGroup","withinGroup","_this14","_this$config","appendChoice","rendererableChoices","_rendererableChoices$","acc","placeholderChoices","normalChoices","choiceLimit","sortedChoices","_this15","_this$config2","listItem","_selectPlaceholderChoice","placeholderChoice","_addItem","_handleButtonAction","itemId","itemToRemove","_handleItemAction","hasShiftKey","_this16","passedId","_handleChoiceAction","passedKeyCode","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","setLoading","placeholderItem","_handleSearch","_this$config3","hasUnactiveChoices","resultCount","_searchChoices","isDuplicateValue","existsInArray","newValue","currentValue","haystack","searchableChoices","needle","choices_filterChoices","form","_keyDownActions","ctrlKey","metaKey","hasFocusedInput","hasItems","keyString","fromCharCode","BACK_KEY","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","hasCtrlDownKeyPressed","keyDownActions","backKey","deleteKey","outerHTML","userHasRemovedValue","canReactivateChoices","canSearch","enterKey","targetWasButton","highlightedChoice","parent","downKey","pageUpKey","pageDownKey","nextEl","directionInt","selectableChoiceIdentifier","currentEl","startEl","Element","prop","sibling","getAdjacentEl","touches","stopPropagation","HTMLElement","firstChoice","firstElementChild","isOnScrollbar","offsetX","offsetWidth","offsetLeft","closest","shiftKey","_focusActions","_this17","_this18","_blurActions","el","_this19","passedEl","_ref13$label","_ref13$choiceId","_ref13$groupId","_ref13$customProperti","_ref13$placeholder","_ref13$keyCode","passedValue","passedCustomProperties","passedLabel","passedOptionId","items_addItem","items_removeItem","_ref14$label","_ref14$isSelected","_ref14$isDisabled","_ref14$groupId","_ref14$customProperti","_ref14$placeholder","_ref14$keyCode","choiceLabel","choiceElementId","choices_addChoice","_this20","_ref15$valueKey","_ref15$labelKey","Date","valueOf","isOptDisabled","_this$_templates$temp","_len","args","userTemplates","_addPredefinedGroups","_addPredefinedChoices","_addPredefinedItems","_this21","placeholderOption","tagName","_this22","hasSelectedChoice","firstEnabledChoiceIndex","_this23","_this24","_this25","foundChoice","_this$config4","NATIVE_WEAK_MAP","objectHas","sharedKey","wmget","wmhas","wmset","metadata","STATE","getterFor","erase","expansion","reduction","code_view","line_height","paragraph_style","text_style","blockquote","arrow_down","align_justify","align_left","align_right","align_center","font_color","highlight_color","list_bullets","list_number","horizontal_rule","show_blocks","cancel","table_header","merge_cell","split_cell","delete","modify","revert","auto_size","insert_row_below","insert_row_above","insert_column_left","insert_column_right","delete_row","delete_column","fixed_column_width","rotate_left","rotate_right","mirror_horizontal","mirror_vertical","checked","line_break","image_gallery","more_text","more_paragraph","more_plus","more_horizontal","more_vertical","attachment","magic_stick","empty_file","_d","_w","isIE","isIE_Edge","isOSX_IOS","_propertiesInit","navigator","userAgent","appVersion","platform","_HTMLConvertor","contents","ec","'","zeroWidthSpace","zeroWidthRegExp","onlyZeroWidthRegExp","onlyZeroWidthSpace","textContent","getXMLHttpRequest","ActiveXObject","XMLHttpRequest","e1","elementName","createTextNode","HTMLEncoder","HTMLDecoder","hasOwn","_hasOwn","getIncludePath","nameArray","extension","pathList","src","fileName","len","regExp","extRegExp","editorTag","href","getPageStyle","doc","cssText","sheets","styleSheets","rules","cssRules","cLen","getIframeDocument","iframe","wDocument","contentWindow","contentDocument","getAttributesToString","exceptAttrs","attributes","attrs","attrString","getByteLength","encoder","encodeURIComponent","cr","cl","unescape","TextEncoder","encode","isWysiwygDiv","nodeType","hasClass","nodeName","isNonEditable","isTextStyleElement","isFormatElement","isComponent","isRangeFormatElement","isClosureRangeFormatElement","isFreeFormatElement","isClosureFreeFormatElement","isMediaComponent","isNotCheckingNode","getFormatElement","validation","getRangeFormatElement","getFreeFormatElement","getClosureFreeFormatElement","copyTagAttributes","originEl","copyEl","addClass","copyFormatAttributes","cloneNode","getArrayItem","multi","arr","getArrayIndex","idx","nextIdx","prevIdx","getPositionIndex","previousSibling","getNodePath","_newOffsets","finds","getParentElement","temp","tempText","previous","removeItem","getNodeFromPath","offsets","nodes","current","isSameAttributes","style_a","style_b","compStyle","class_a","class_b","reg","compClass","isList","isListCell","isTable","isCell","isBreak","isAnchor","isMedia","isNumber","getNumber","maxDec","number","round","toFixed","getListChildren","recursionFunc","getListChildNodes","getElementDepth","depth","compareElements","aNode","bNode","ancestor","aIndex","bIndex","query","check","attr","getChildElement","last","childList","getEdgeChildNodes","first","lastChild","sc","getOffset","wysiwygFrame","offsetElement","wysiwyg","offsetParent","top","getOverlapRangeAtIndex","aStart","aEnd","bStart","bEnd","overlap","changeTxt","txt","changeElement","newElement","replaceChild","setStyle","styleName","removeClass","toggleClass","setDisabledButtons","removeItemAllParents","stopParent","cc","previousElementSibling","detachNestedList","baseNode","rNode","_deleteNestedList","rangeElement","cNodes","rChildren","baseParent","liSibling","liParent","child","splitElement","offset","bp","newEl","splitText","after","depthEl","pElement","mergeSameTags","mergeNestedTags","nodePathArray","onlyText","inst","nodePathLen","Number","depthIndex","_isIgnoreNodeChange","cDepth","spliceDepth","childs","childLength","nLen","addOffset","textOffset","tempL","removeEmptyNode","notRemoveNode","_notTextNode","htmlRemoveWhiteSpace","html","sortByDepth","des","_isMaintainedNode","_isSizeNode","_disallowedTags","createTagsWhitelist","exclusionTags","regStr","_consistencyCheckOfHTML","documentFragment","htmlCheckWhitelistRegExp","removeTags","emptyTags","wrongList","withoutFormatCells","wrongTags","nrtag","fel","checkTags","tp","_setDefaultOptionStyle","defaultStyle","optionStyle","minHeight","maxHeight","maxWidth","frame","editor","styleArr","_setIframeDocument","head","_setIframeCssTags","body","linkNames","iframeCSSFileName","wRegExp","tagString","CSSFileName","styleTag","_initOptions","top_div","relative","tool_bar","_createToolBar","plugins","visibility","pluginCallButtons","_checkKatexMath","katex","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","placeholder_span","textarea","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","line_breaker","icons","line_breaker_t","line_breaker_b","resize_back","toolbarContainer","_checkCodeMirror","constructed","_top","_relative","_toolBar","_menuTray","_editorArea","_wysiwygArea","_codeArea","_resizingBar","_navigation","_charWrapper","_charCounter","_loading","_lineBreaker","_lineBreaker_t","_lineBreaker_b","_resizeBack","_stickyDummy","_arrow","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","htmlMode","lineNumbers","lineWrapping","viewportMargin","Infinity","cm","fromTextArea","display","codeMirrorEditor","katexOptions","throwOnError","_setOptions","mergeOptions","context","originOptions","originElement","editorArea","isNewToolbarContainer","isNewToolbar","isNewPlugins","topArea","callButtons","topDiv","toolBar","toolBarArrow","_editorStyles","toolbarWidth","wysiwygDiv","allowFullscreen","frameBorder","overflow","charCounterLabel","charLabel","maxCharCount","char_max","innerText","historyStackDelayTime","_defaultTagsWhitelist","_editorTagsWhitelist","addTagsWhitelist","pasteTagsWhitelist","attributesWhitelist","stickyToolbar","fullPage","popupDisplay","showPathLabel","charCounterType","clientWidth","clientHeight","colorList","lineHeights","paragraphStyles","textStyles","fontSizeUnit","imageResizing","imageHeightShow","imageWidth","imageHeight","imageSizeOnlyPercentage","_imageSizeUnit","imageRotation","imageFileInput","imageUrlInput","imageUploadHeader","imageUploadUrl","imageUploadSizeLimit","imageMultipleFile","imageAccept","imageGalleryUrl","videoResizing","videoHeightShow","videoRatioShow","videoWidth","videoHeight","videoSizeOnlyPercentage","_videoSizeUnit","videoRotation","videoRatio","videoRatioList","youtubeQuery","videoFileInput","videoUrlInput","videoUploadHeader","videoUploadUrl","videoUploadSizeLimit","videoMultipleFile","videoTagAttrs","videoIframeAttrs","videoAccept","audioWidth","audioHeight","audioFileInput","audioUrlInput","audioUploadHeader","audioUploadUrl","audioUploadSizeLimit","audioMultipleFile","audioTagAttrs","audioAccept","tableCellControllerPosition","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","templates","linkProtocol","_default","_new","_defaultButtons","cmd","formatBlock","_createModuleGroup","oDiv","oUl","_createButton","buttonClass","dataCommand","dataDisplay","_disabled","_icons","oLi","oButton","_plugins","separator_vertical","_buttonTray","defaultButtonList","pluginsValues","moduleElement","buttonElement","pluginName","vertical","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","moreButton","substr","float","matched","custom","ul","li","sv","enterDiv","unshift","tool_cover","cons","lineBreaker","lineBreaker_t","lineBreaker_b","resizeBackground","tool","cover","core","notice_div","util","notice_span","notice_button","modal","message","onClick_cancel","init_options","idOrElement","_init_options","getElementById","ownerDocument","defaultView","_parser","DOMParser","_wd","_ww","_shadowRoot","functions","_notice","history","initPlugins","_targetPlugins","effectNode","submenu","container","_submenuName","_bindedSubmenuOff","_bindedContainerOff","submenuActiveButton","containerActiveButton","controllerArray","currentControllerName","currentControllerTarget","currentFileComponentInfo","codeViewDisabledButtons","resizingDisabledButtons","_moreLayerActiveButton","_htmlCheckWhitelistRegExp","_disallowedTextTagsRegExp","editorTagsWhitelistRegExp","pasteTagsWhitelistRegExp","hasFocus","_attributesWhitelistRegExp","_attributesTagsWhitelist","_bindControllersOff","_isInline","_isBalloon","_isBalloonAlways","_inlineToolbarAttr","isShow","_notHideToolbar","_sticky","_antiBlur","_lineBreakerButton","_componentsInfoInit","_componentsInfoReset","activePlugins","managedTagsInfo","_charTypeHTML","_fileInfoPluginsCheck","_fileInfoPluginsReset","_fileManager","queryString","pluginRegExp","pluginMap","commandMap","_styleCommandMap","_defaultCommand","_variable","isCodeView","isFullScreen","innerHeight_fullScreen","resizeClientY","tabSize","codeIndent","minResizingSize","currentNodes","currentNodesMap","_range","_selectionNode","_originCssText","_bodyOverflow","_editorAreaOriginCssText","_wysiwygOriginCssText","_codeOriginCssText","_fullScreenAttrs","sticky","balloon","inline","_lineBreakComp","_lineBreakDir","callPlugin","callBackFunction","_target","initMenuTarget","addModule","moduleArray","moduleName","submenuOn","controllersOff","submenuName","_setMenuPosition","submenuOff","addDocEvent","on","removeDocEvent","containerOn","containerName","_containerName","containerOff","toolbarW","menuW","overLeft","offsetEl","bt","toolbarTop","_getEditorOffsets","menuHeight","menuHeight_bottom","innerHeight","menuTop","insTop","menuHeight_top","controllersOn","arg","getFileComponent","showController","eventStop","execCommand","command","showDefaultUI","nativeFocus","getSelectionNode","_editorRange","range","getRange","startContainer","endContainer","format","br","setRange","startOffset","endOffset","_applyTagEffects","_toggleToolbarBalloon","focusEdge","focusEl","lastElementChild","fileComponentInfo","selectComponent","startCon","startOff","endCon","endOff","createRange","setStart","setEnd","selection","getSelection","removeAllRanges","addRange","removeRange","OUTDENT","INDENT","_createDefaultRange","collapsed","isCollapsed","focusNode","rangeCount","getRangeAt","anchorNode","so","anchorOffset","eo","focusOffset","compareValue","rightDir","getRange_addLine","_selectionVoid","op","selectionNode","commonAncestorContainer","extentNode","comm","_resetRangeToTextNode","tempCon","tempOffset","tempChild","onlyBreak","emptyText","getSelectedElements","commonCon","lineNodes","startLine","endLine","startIdx","endIdx","onlyTable","startRangeEl","endRangeEl","sameRange","line","getSelectedElementsAndComponents","removeDuplicate","myComponent","selectedLines","component","isEdgePoint","nodeValue","showLoading","closeLoading","appendFormatTag","formatNode","currentFormatEl","oFormatName","oFormat","insertComponent","notHistoryPush","checkCharCount","notSelect","removeNode","oNode","formatEl","insertNode","depthFormat","plugin","setTimeout","_setComponentLineBreaker","t_style","b_style","resizing","resizeContainer","componentTop","wScroll","afterNode","freeFormat","isFormats","formatRange","originAfter","removedTag","prevContainer","oldParent","rangeCon","_setIntoFreeFormat","previousText","nextText","newRange","zeroWidth","oNodeChildren","lastONode","beforeNode","startIndex","endIndex","startNode","endNode","substringData","rc","applyRangeFormatElement","rangeLines","linesLoop","nested","fEl","lEl","standTag","beforeTag","parentDepth","listParent","lineArr","origin","before","originParent","nextLine","nextList","edge","detachRangeFormatElement","removeArray","splitRange","selectedFormats","newRangeElement","firstNode","lastNode","rangeEl","newList","insertedNew","reset","moveComplete","appendNode","insNode","originNode","insChildren","originNext","detachRange","fChildren","lineIndex","insNext","inner","innerChildren","rangeParent","rangeRight","childEdge","detachList","rangeArr","listFirst","listLast","passComponent","lastIndex","nodeChange","styleArray","removeNodeArray","strictRemove","isRemoveNode","isRemoveFormat","newNodeName","sNode","checkCnt","checkAttrs","checkStyles","ckeckClasses","classReg","styleCheck","classCheck","newNode","start","end","styleRegExp","classRegExp","removeNodeRegExp","wBoolean","Boolean","_removeCheck","checkNode","vNode","tagRemove","originStyle","originClasses","oneLine","endLength","isRemoveAnchor","isSizeNode","_getMaintainedNode","_util_getMaintainedNode","_util_isMaintainedNode","_nodeChange_oneLine","_setCommonListStyle","_nodeChange_endLine","_nodeChange_middleLine","_nodeChange_startLine","childStyle","elStyle","fontWeight","color","_stripRemoveNode","_isRemove","anchor","newInnerNode","parentCon","sameTag","nNodeArray","pNode","isSameNode","pCurrent","startPass","endPass","checkCss","coverNode","prevNode","textNode","prevAnchorNode","childNode","pop","anchors","aChildren","aLen","ancestorAnchorNode","afterAnchorNode","textNode_s","textNode_e","endConReset","newStartOffset","startPath","mergeEndCon","newEndOffset","endPath","newOffsets","_endContainer","passNode","cloneChild","isTopNode","tempNode","newCssText","newClass","noneChange","actionCall","layer","_showToolbarBalloon","_showToolbarInline","commandHandler","toggleCodeView","toggleFullScreen","toggleDisplayBlocks","getContents","nodesMap","cells","shift","margin","marginLeft","editInsideList","_resourcesStateChange","_setCodeDataToEditor","_hideToolbar","_setEditorDataToCodeView","scrollHeight","refresh","_checkPlaceholder","code_html","_getCodeView","parseDocument","parseFromString","headChildren","convertContentsForEditor","codeContents","convertHTMLForCodeView","codeValue","_setCodeView","_var","onScroll_window","zIndex","_iframeAutoHeight","printDocument","contentsHTML","wDoc","arrts","write","links","styles","linkHTML","documentMode","StyleMedia","windowObject","mimeType","setContents","convertValue","_resetComponents","onlyContents","renderHTML","figcaptions","_makeLine","requireFormat","textArray","tLen","_allowHTMLComments","_tagConvertor","_deleteDisallowedTags","cleanHTML","whitelist","tAttr","dom","createContextualFragment","textCompList","initMethod","domTree","returnHTML","brReg","indentSize","lineBR","elementRegTest","elementIndent","nodeRegTest","tag","useCapture","_charCount","inputText","countType","nextCharCount","getCharLength","_setCharCount","over","count","getCharCount","slicePosition","_callCounterBlink","content","_checkComponents","getDoc","_init","reload","_initHTML","ShadowRoot","shadowRoot","disallowTextTags","allowTextTags","defaultAttr","_attr","tagsAttr","allAttr","_cachingButtons","managedClass","filePluginRegExp","checkFileInfo","resetFileInfo","fileTags","managedTags","info","method","delayTime","pushDelay","stackIndex","stack","setContentsFromStack","change","pushStack","delay","time","clearTimeout","go","ignoreChangeEvent","_resetCachingButton","_destroy","_onChange_historyStack","_iframeAuto","_initWysiwygArea","STRONG","U","EM","DEL","SUB","SUP","_setDefaultFormat","formatName","fileComponent","_setOptionsInit","_getConstructed","_editorInit","_addEvent","_offStickyToolbar","onResize_window","onload","contextEl","_IEisComposing","_lineBreakerBind","_responsiveCurrentSize","_responsiveButtonSize","_directionKeyCode","_nonTextKeyCode","_historyIgnoreKeyCode","_onButtonsCheck","_frontZeroWidthReg","_keyCodeShortcut","65","66","83","85","73","89","90","219","221","_shortcutCommand","classOnCheck","commandMapNodes","toUpperCase","_cancelCaptionEdit","_buttonsEventHandler","onClick_toolbar","onMouseDown_wysiwyg","tableCell","tablePlugin","_fixedCell","_shift","onTableCellMultiSelect","onMouseDown","onClick_wysiwyg","targetElement","figcaption","hideToolbar","prevLi","onClick","_balloonDelay","_showToolbarBalloonDelay","rangeObj","isDirTop","rects","getClientRects","scrollLeft","editorWidth","stickyTop","editorLeft","nodeOffset","noText","arrowMargin","toolbarHeight","iframeRects","_setToolbarOffset","absoluteLeft","overRight","resetTop","space","_getPageBottomSpace","arrow_left","showInline","onInput_wysiwyg","onInput","_onShortcutKey","onKeyDown_wysiwyg","ctrl","alt","altKey","selectRange","fileComponentName","_hardDelete","prevLast","con","detach","sel","ignoreZWS","cell","isEdge","lines","fc","lc","moveCell","endChild","tabText","textRange","freeFormatEl","enterHTML","selectionFormat","wSelection","insertHTML","wOffset","focusNext","brPrev","brNext","newListCell","newFormat","compContext","_container","_element","onKeyDown","onKeyUp_wysiwyg","oFormatTag","isComposing","frontZeroWidthCnt","onKeyUp","onScroll_wysiwyg","onScroll","onFocus_wysiwyg","onFocus","onBlur_wysiwyg","onBlur","onMouseDown_resizingBar","clientY","_resize_editor","closureFunc","resizeInterval","responsiveSize","windowWidth","innerWidth","responsiveWidth","setToolbarButtons","fileBrowser","area","header","editorHeight","scrollY","editorTop","_onStickyToolbar","scroll","marginTop","_codeViewAutoHeight","sCell","eCell","sIsCell","eIsCell","sComp","eComp","onPaste_wysiwyg","clipboardData","_dataTransferAction","_setClipboardComponent","setData","onCopy_wysiwyg","onCopy","onCut_wysiwyg","onCut","onDrop_wysiwyg","dataTransfer","_setDropLocationSelection","rangeOffset","caretRangeFromPoint","clientX","plainText","cleanData","getData","tempDiv","tempRange","_setClipboardData","onPaste","onDrop","files","insertImage","onMouseMove_wysiwyg","lineBreakerStyle","pageY","_onMouseDown_lineBreak","_onLineBreak","eventWysiwyg","_setResponsiveToolbar","_removeEvent","sizeArray","buttonsObj","imageUploadHandler","videoUploadHandler","audioUploadHandler","onImageUploadBefore","onVideoUploadBefore","onAudioUploadBefore","onImageUpload","onVideoUpload","onAudioUpload","onImageUploadError","onVideoUploadError","onAudioUploadError","newToolbar","newContext","oldCallButtons","oldButton","setOptions","_options","setDefaultStyle","newStyles","noticeOpen","noticeClose","getContext","getText","getImagesInfo","_infoList","getFilesInfo","submitAction","notCleaningData","rangeSelection","checkHTML","firstCon","appendContents","setOption","enabled","topAreaStyle","modalForm","dialog","topEl","aFunction","variable","namespace","bitmap","PREFERRED_STRING","fn","listDiv","setSubmenu","horizontalRulePick","appendHr","oHr","targetButton","_alignList","currentAlign","justify","listUl","pickup","textAlign","alignContext","alignList","selectedFormsts","METHOD_NAME","IS_PURE","version","copyright","toInteger","integer","SPECIES","wellKnownSymbol","originalArray","toAbsoluteIndex","IS_INCLUDES","fromIndex","globalThis","definePropertyModule","nativeDefineProperty","Attributes","postfix","cache","thrower","ACCESSORS","argument0","argument1","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","ownKeys","getOwnPropertyDescriptorModule","ceil","isNaN"],"mappings":"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","file":"edit_profile.259691848cff8bb19083.js","sourcesContent":["module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n(function (global, factory) {\r\n    if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'en',\r\n        toolbar: {\r\n            default: 'Default',\r\n            save: 'Save',\r\n            font: 'Font',\r\n            formats: 'Formats',\r\n            fontSize: 'Size',\r\n            bold: 'Bold',\r\n            underline: 'Underline',\r\n            italic: 'Italic',\r\n            strike: 'Strike',\r\n            subscript: 'Subscript',\r\n            superscript: 'Superscript',\r\n            removeFormat: 'Remove Format',\r\n            fontColor: 'Font Color',\r\n            hiliteColor: 'Highlight Color',\r\n            indent: 'Indent',\r\n            outdent: 'Outdent',\r\n            align: 'Align',\r\n            alignLeft: 'Align left',\r\n            alignRight: 'Align right',\r\n            alignCenter: 'Align center',\r\n            alignJustify: 'Align justify',\r\n            list: 'List',\r\n            orderList: 'Ordered list',\r\n            unorderList: 'Unordered list',\r\n            horizontalRule: 'Horizontal line',\r\n            hr_solid: 'Solid',\r\n            hr_dotted: 'Dotted',\r\n            hr_dashed: 'Dashed',\r\n            table: 'Table',\r\n            link: 'Link',\r\n            math: 'Math',\r\n            image: 'Image',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Full screen',\r\n            showBlocks: 'Show blocks',\r\n            codeView: 'Code view',\r\n            undo: 'Undo',\r\n            redo: 'Redo',\r\n            preview: 'Preview',\r\n            print: 'print',\r\n            tag_p: 'Paragraph',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Header',\r\n            tag_blockquote: 'Quote',\r\n            tag_pre: 'Code',\r\n            template: 'Template',\r\n            lineHeight: 'Line height',\r\n            paragraphStyle: 'Paragraph style',\r\n            textStyle: 'Text style',\r\n            imageGallery: 'Image gallery'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Insert Link',\r\n                url: 'URL to link',\r\n                text: 'Text to display',\r\n                newWindowCheck: 'Open in new window'\r\n            },\r\n            mathBox: {\r\n                title: 'Math',\r\n                inputLabel: 'Mathematical Notation',\r\n                fontSizeLabel: 'Font Size',\r\n                previewLabel: 'Preview'\r\n            },\r\n            imageBox: {\r\n                title: 'Insert image',\r\n                file: 'Select from files',\r\n                url: 'Image URL',\r\n                altText: 'Alternative text'\r\n            },\r\n            videoBox: {\r\n                title: 'Insert Video',\r\n                file: 'Select from files',\r\n                url: 'Media embed URL, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Insert Audio',\r\n                file: 'Select from files',\r\n                url: 'Audio URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tags',\r\n                search: 'Search',\r\n            },\r\n            caption: 'Insert description',\r\n            close: 'Close',\r\n            submitButton: 'Submit',\r\n            revertButton: 'Revert',\r\n            proportion: 'Constrain proportions',\r\n            basic: 'Basic',\r\n            left: 'Left',\r\n            right: 'Right',\r\n            center: 'Center',\r\n            width: 'Width',\r\n            height: 'Height',\r\n            size: 'Size',\r\n            ratio: 'Ratio'\r\n        },\r\n        controller: {\r\n            edit: 'Edit',\r\n            unlink: 'Unlink',\r\n            remove: 'Remove',\r\n            insertRowAbove: 'Insert row above',\r\n            insertRowBelow: 'Insert row below',\r\n            deleteRow: 'Delete row',\r\n            insertColumnBefore: 'Insert column before',\r\n            insertColumnAfter: 'Insert column after',\r\n            deleteColumn: 'Delete column',\r\n            fixedColumnWidth: 'Fixed column width',\r\n            resize100: 'Resize 100%',\r\n            resize75: 'Resize 75%',\r\n            resize50: 'Resize 50%',\r\n            resize25: 'Resize 25%',\r\n            autoSize: 'Auto size',\r\n            mirrorHorizontal: 'Mirror, Horizontal',\r\n            mirrorVertical: 'Mirror, Vertical',\r\n            rotateLeft: 'Rotate left',\r\n            rotateRight: 'Rotate right',\r\n            maxSize: 'Max size',\r\n            minSize: 'Min size',\r\n            tableHeader: 'Table header',\r\n            mergeCells: 'Merge cells',\r\n            splitCells: 'Split Cells',\r\n            HorizontalSplit: 'Horizontal split',\r\n            VerticalSplit: 'Vertical split'\r\n        },\r\n        menu: {\r\n            spaced: 'Spaced',\r\n            bordered: 'Bordered',\r\n            neon: 'Neon',\r\n            translucent: 'Translucent',\r\n            shadow: 'Shadow',\r\n            code: 'Code'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'en', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","import '../node_modules/choices.js/public/assets/styles/choices.min.css';\r\nimport \"./font/stylesheet.css\";\r\nimport './edit_profile.scss';\r\n\r\nimport Choices from 'choices.js';\r\n\r\ndocument.querySelectorAll(\"select\").forEach(function(select){\r\n    let choices = new Choices(select, {\r\n        itemSelectText: '',\r\n    });\r\n});\r\n\r\n\r\nimport { all } from './js/common.js';\r\nall(document);\r\n\r\n\r\nimport '../node_modules/suneditor/dist/css/suneditor.min.css';\r\nimport suneditor from 'suneditor';\r\n\r\nimport {align, horizontalRule} from 'suneditor/src/plugins';\r\n\r\n// all plugins\r\nconst initEditor = suneditor.init({\r\n    height: 200,\r\n    buttonList: [\r\n        ['undo', 'redo', 'removeFormat', 'bold', 'underline', 'italic', 'strike'],\r\n        [align, horizontalRule, 'preview'],\r\n    ]\r\n});\r\n\r\ninitEditor.create(\"editor1\");\r\ninitEditor.create(\"editor2\");\r\n\r\n\r\ndocument.querySelectorAll(\".profile-input-btn\").forEach(function(item){\r\n\titem.addEventListener(\"click\", function(e){\r\n\t\te.preventDefault();\r\n\t\titem.parentElement.querySelectorAll(\".profile-input-btn\").forEach(function(item1){\r\n\t\t\titem1.classList.remove(\"checked\");\r\n\t\t});\r\n\t\titem.classList.add(\"checked\");\r\n\t});\r\n});","export function all(document){\r\n    const hamburger = document.querySelector(\".hamburger\");\r\n    const mobileMenuCont = document.querySelector(\".mobile-menu-cont\");\r\n    const searchBtn = document.querySelector(\".mobile-search-btn\");\r\n    const searchMobileCont = document.querySelector(\".mobile-search\");\r\n\r\n    hamburger.addEventListener(\"click\", function(e){\r\n        e.preventDefault();\r\n        hamburger.classList.toggle(\"is-active\");\r\n        mobileMenuCont.classList.toggle(\"is-active\");\r\n    });\r\n\r\n\r\n    searchBtn.addEventListener(\"click\", function(e){\r\n        e.preventDefault();\r\n        searchBtn.classList.toggle(\"is-active\");\r\n        searchMobileCont.classList.toggle(\"is-active\");\r\n    });\r\n\r\n    document.addEventListener(\"click\", function(e){\r\n        let menuClose = 1;\r\n        let searchClose = 1;\r\n        e.path.forEach(function(item){\r\n            if(item && item.classList){\r\n                if(item.classList.contains(\"hamburger\") || item.classList.contains(\"mobile-menu-cont\")){\r\n                    menuClose = 0;\r\n                }\r\n                if(item.classList.contains(\"mobile-search\") || item.classList.contains(\"mobile-search-btn\")){\r\n                    searchClose = 0;\r\n                }\r\n            }\r\n        });\r\n        if(menuClose == 1){\r\n            hamburger.classList.remove(\"is-active\");\r\n            mobileMenuCont.classList.remove(\"is-active\");\r\n        }\r\n        if(searchClose == 1){\r\n            searchBtn.classList.remove(\"is-active\");\r\n            searchMobileCont.classList.remove(\"is-active\");\r\n        }\r\n    });\r\n\r\n\r\n\r\n    document.querySelectorAll(\".menu-ul-in > a\").forEach(function(a){\r\n        a.addEventListener(\"click\", function(e){\r\n            e.preventDefault();\r\n            a.parentElement.classList.toggle(\"is-active\");\r\n            a.nextElementSibling.classList.toggle(\"is-active\");\r\n        });\r\n    });\r\n}\r\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","module.exports = false;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","/*! choices.js v9.0.1 | © 2019 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Choices\"] = factory();\n\telse\n\t\troot[\"Choices\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/public/assets/scripts/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\ttry {\n\t\treturn (key in target) // Properties are safe to merge if they don't exist in the target yet,\n\t\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n\t} catch (unused) {\n\t\t// Counterintuitively, it's safe to merge any property on a target that causes the `in` operator to throw.\n\t\t// This happens when trying to copy an object in the source over a plain string in the target.\n\t\treturn false\n\t}\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* global window */\n\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (true) {\n  root = module;\n} else {}\n\nvar result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(root);\n/* harmony default export */ __webpack_exports__[\"a\"] = (result);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(5), __webpack_require__(6)(module)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Fuse.js v3.4.5 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n!function(e,t){ true?module.exports=t():undefined}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(2),a=n(8),s=n(0),c=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,s=void 0===i?100:i,c=n.threshold,h=void 0===c?.6:c,l=n.maxPatternLength,u=void 0===l?32:l,f=n.caseSensitive,d=void 0!==f&&f,v=n.tokenSeparator,p=void 0===v?/ +/g:v,g=n.findAllMatches,y=void 0!==g&&g,m=n.minMatchCharLength,k=void 0===m?1:m,S=n.id,x=void 0===S?null:S,b=n.keys,M=void 0===b?[]:b,_=n.shouldSort,L=void 0===_||_,w=n.getFn,A=void 0===w?a:w,C=n.sortFn,I=void 0===C?function(e,t){return e.score-t.score}:C,O=n.tokenize,j=void 0!==O&&O,P=n.matchAllTokens,F=void 0!==P&&P,T=n.includeMatches,z=void 0!==T&&T,E=n.includeScore,K=void 0!==E&&E,$=n.verbose,J=void 0!==$&&$;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:d,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k,id:x,keys:M,includeMatches:z,includeScore:K,shouldSort:L,getFn:A,sortFn:I,verbose:J,tokenize:j,matchAllTokens:F},this.setCollection(t)}var t,n,c;return t=e,(n=[{key:\"setCollection\",value:function(e){return this.list=e,e}},{key:\"search\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\\nSearch pattern: \"'.concat(e,'\"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,o=n.fullSearcher,i=this._search(r,o),a=i.weights,s=i.results;return this._computeScore(a,s),this.options.shouldSort&&this._sort(s),t.limit&&\"number\"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:\"_prepareSearchers\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)t.push(new i(n[r],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:\"_search\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},o=[];if(\"string\"==typeof n[0]){for(var i=0,a=n.length;i<a;i+=1)this._analyze({key:\"\",value:n[i],record:i,index:i},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var s={},c=0,h=n.length;c<h;c+=1)for(var l=n[c],u=0,f=this.options.keys.length;u<f;u+=1){var d=this.options.keys[u];if(\"string\"!=typeof d){if(s[d.name]={weight:1-d.weight||1},d.weight<=0||d.weight>1)throw new Error(\"Key weight has to be > 0 and <= 1\");d=d.name}else s[d]={weight:1};this._analyze({key:d,value:this.options.getFn(l,d),record:l,index:c},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:o}}},{key:\"_analyze\",value:function(e,t){var n=e.key,r=e.arrayIndex,o=void 0===r?-1:r,i=e.value,a=e.record,c=e.index,h=t.tokenSearchers,l=void 0===h?[]:h,u=t.fullSearcher,f=void 0===u?[]:u,d=t.resultMap,v=void 0===d?{}:d,p=t.results,g=void 0===p?[]:p;if(null!=i){var y=!1,m=-1,k=0;if(\"string\"==typeof i){this._log(\"\\nKey: \".concat(\"\"===n?\"-\":n));var S=f.search(i);if(this._log('Full text: \"'.concat(i,'\", score: ').concat(S.score)),this.options.tokenize){for(var x=i.split(this.options.tokenSeparator),b=[],M=0;M<l.length;M+=1){var _=l[M];this._log('\\nPattern: \"'.concat(_.pattern,'\"'));for(var L=!1,w=0;w<x.length;w+=1){var A=x[w],C=_.search(A),I={};C.isMatch?(I[A]=C.score,y=!0,L=!0,b.push(C.score)):(I[A]=1,this.options.matchAllTokens||b.push(1)),this._log('Token: \"'.concat(A,'\", score: ').concat(I[A]))}L&&(k+=1)}m=b[0];for(var O=b.length,j=1;j<O;j+=1)m+=b[j];m/=O,this._log(\"Token score average:\",m)}var P=S.score;m>-1&&(P=(P+m)/2),this._log(\"Score average:\",P);var F=!this.options.tokenize||!this.options.matchAllTokens||k>=l.length;if(this._log(\"\\nCheck Matches: \".concat(F)),(y||S.isMatch)&&F){var T=v[c];T?T.output.push({key:n,arrayIndex:o,value:i,score:P,matchedIndices:S.matchedIndices}):(v[c]={item:a,output:[{key:n,arrayIndex:o,value:i,score:P,matchedIndices:S.matchedIndices}]},g.push(v[c]))}}else if(s(i))for(var z=0,E=i.length;z<E;z+=1)this._analyze({key:n,arrayIndex:z,value:i[z],record:a,index:c},{resultMap:v,results:g,tokenSearchers:l,fullSearcher:f})}}},{key:\"_computeScore\",value:function(e,t){this._log(\"\\n\\nComputing score:\\n\");for(var n=0,r=t.length;n<r;n+=1){for(var o=t[n].output,i=o.length,a=1,s=1,c=0;c<i;c+=1){var h=e?e[o[c].key].weight:1,l=(1===h?o[c].score:o[c].score||.001)*h;1!==h?s=Math.min(s,l):(o[c].nScore=l,a*=l)}t[n].score=1===s?a:s,this._log(t[n])}}},{key:\"_sort\",value:function(e){this._log(\"\\n\\nSorting....\"),e.sort(this.options.sortFn)}},{key:\"_format\",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log(\"\\n\\nOutput:\\n\\n\",JSON.stringify(e,function(e,t){if(\"object\"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})),n=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,o=n.length;r<o;r+=1){var i=n[r];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty(\"arrayIndex\")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var c={item:s.item},h=0,l=o.length;h<l;h+=1)o[h](s,c);t.push(c)}else t.push(s.item)}return t}},{key:\"_log\",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,n),c&&o(t,c),e}();e.exports=c},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(3),i=n(4),a=n(7),s=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,s=void 0===i?100:i,c=n.threshold,h=void 0===c?.6:c,l=n.maxPatternLength,u=void 0===l?32:l,f=n.isCaseSensitive,d=void 0!==f&&f,v=n.tokenSeparator,p=void 0===v?/ +/g:v,g=n.findAllMatches,y=void 0!==g&&g,m=n.minMatchCharLength,k=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:d,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}var t,n,s;return t=e,(n=[{key:\"search\",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return o(e,this.pattern,r);var a=this.options,s=a.location,c=a.distance,h=a.threshold,l=a.findAllMatches,u=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:h,findAllMatches:l,minMatchCharLength:u})}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},function(e,t){var n=/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,\"\\\\$&\").replace(r,\"|\")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){var r=n(5),o=n(6);e.exports=function(e,t,n,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,d=void 0!==f&&f,v=i.minMatchCharLength,p=void 0===v?1:v,g=s,y=e.length,m=u,k=e.indexOf(t,g),S=t.length,x=[],b=0;b<y;b+=1)x[b]=0;if(-1!==k){var M=r(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});if(m=Math.min(M,m),-1!==(k=e.lastIndexOf(t,g+S))){var _=r(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});m=Math.min(_,m)}}k=-1;for(var L=[],w=1,A=S+y,C=1<<S-1,I=0;I<S;I+=1){for(var O=0,j=A;O<j;){r(t,{errors:I,currentLocation:g+j,expectedLocation:g,distance:h})<=m?O=j:A=j,j=Math.floor((A-O)/2+O)}A=j;var P=Math.max(1,g-j+1),F=d?y:Math.min(g+j,y)+S,T=Array(F+2);T[F+1]=(1<<I)-1;for(var z=F;z>=P;z-=1){var E=z-1,K=n[e.charAt(E)];if(K&&(x[E]=1),T[z]=(T[z+1]<<1|1)&K,0!==I&&(T[z]|=(L[z+1]|L[z])<<1|1|L[z+1]),T[z]&C&&(w=r(t,{errors:I,currentLocation:E,expectedLocation:g,distance:h}))<=m){if(m=w,(k=E)<=g)break;P=Math.max(1,2*g-k)}}if(r(t,{errors:I+1,currentLocation:g,expectedLocation:g,distance:h})>m)break;L=T}return{isMatch:k>=0,score:0===w?.001:w,matchedIndices:o(x,p)}}},function(e,t){e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=r/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===r?r=i:s||-1===r||((o=i-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var o=0;o<n;o+=1)t[e.charAt(o)]|=1<<n-o-1;return t}},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,o){if(n){var i=n.indexOf(\".\"),a=n,s=null;-1!==i&&(a=n.slice(0,i),s=n.slice(i+1));var c=t[a];if(null!=c)if(s||\"string\"!=typeof c&&\"number\"!=typeof c)if(r(c))for(var h=0,l=c.length;h<l;h+=1)e(c[h],s,o);else s&&e(c,s,o);else o.push(c.toString())}else o.push(t);return o}(e,t,[])}}])});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return symbolObservablePonyfill; });\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(7);\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/fuse.js/dist/fuse.js\nvar dist_fuse = __webpack_require__(2);\nvar fuse_default = /*#__PURE__*/__webpack_require__.n(dist_fuse);\n\n// EXTERNAL MODULE: ./node_modules/deepmerge/dist/cjs.js\nvar cjs = __webpack_require__(0);\nvar cjs_default = /*#__PURE__*/__webpack_require__.n(cjs);\n\n// EXTERNAL MODULE: ./node_modules/symbol-observable/es/index.js\nvar es = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./node_modules/redux/es/redux.js\n\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[es[\"a\" /* default */]] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[es[\"a\" /* default */]] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {}\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (false) {}\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) { var warningMessage; }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (false) {}\n\n\n\n// CONCATENATED MODULE: ./src/scripts/reducers/items.js\nvar defaultState = [];\nfunction items_items(state, action) {\n  if (state === void 0) {\n    state = defaultState;\n  }\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      {\n        // Add object to items array\n        var newState = [].concat(state, [{\n          id: action.id,\n          choiceId: action.choiceId,\n          groupId: action.groupId,\n          value: action.value,\n          label: action.label,\n          active: true,\n          highlighted: false,\n          customProperties: action.customProperties,\n          placeholder: action.placeholder || false,\n          keyCode: null\n        }]);\n        return newState.map(function (obj) {\n          var item = obj;\n          item.highlighted = false;\n          return item;\n        });\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // Set item to inactive\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.active = false;\n          }\n\n          return item;\n        });\n      }\n\n    case 'HIGHLIGHT_ITEM':\n      {\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.highlighted = action.highlighted;\n          }\n\n          return item;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n// CONCATENATED MODULE: ./src/scripts/reducers/groups.js\nvar groups_defaultState = [];\nfunction groups(state, action) {\n  if (state === void 0) {\n    state = groups_defaultState;\n  }\n\n  switch (action.type) {\n    case 'ADD_GROUP':\n      {\n        return [].concat(state, [{\n          id: action.id,\n          value: action.value,\n          active: action.active,\n          disabled: action.disabled\n        }]);\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return [];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n// CONCATENATED MODULE: ./src/scripts/reducers/choices.js\nvar choices_defaultState = [];\nfunction choices_choices(state, action) {\n  if (state === void 0) {\n    state = choices_defaultState;\n  }\n\n  switch (action.type) {\n    case 'ADD_CHOICE':\n      {\n        /*\n            A disabled choice appears in the choice dropdown but cannot be selected\n            A selected choice has been added to the passed input's value (added as an item)\n            An active choice appears within the choice dropdown\n         */\n        return [].concat(state, [{\n          id: action.id,\n          elementId: action.elementId,\n          groupId: action.groupId,\n          value: action.value,\n          label: action.label || action.value,\n          disabled: action.disabled || false,\n          selected: false,\n          active: true,\n          score: 9999,\n          customProperties: action.customProperties,\n          placeholder: action.placeholder || false,\n          keyCode: null\n        }]);\n      }\n\n    case 'ADD_ITEM':\n      {\n        // If all choices need to be activated\n        if (action.activateOptions) {\n          return state.map(function (obj) {\n            var choice = obj;\n            choice.active = action.active;\n            return choice;\n          });\n        } // When an item is added and it has an associated choice,\n        // we want to disable it so it can't be chosen again\n\n\n        if (action.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(action.choiceId, 10)) {\n              choice.selected = true;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // When an item is removed and it has an associated choice,\n        // we want to re-enable it so it can be chosen again\n        if (action.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(action.choiceId, 10)) {\n              choice.selected = false;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'FILTER_CHOICES':\n      {\n        return state.map(function (obj) {\n          var choice = obj; // Set active state based on whether choice is\n          // within filtered results\n\n          choice.active = action.results.some(function (_ref) {\n            var item = _ref.item,\n                score = _ref.score;\n\n            if (item.id === choice.id) {\n              choice.score = score;\n              return true;\n            }\n\n            return false;\n          });\n          return choice;\n        });\n      }\n\n    case 'ACTIVATE_CHOICES':\n      {\n        return state.map(function (obj) {\n          var choice = obj;\n          choice.active = action.active;\n          return choice;\n        });\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return choices_defaultState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n// CONCATENATED MODULE: ./src/scripts/reducers/general.js\nvar general_defaultState = {\n  loading: false\n};\n\nvar general = function general(state, action) {\n  if (state === void 0) {\n    state = general_defaultState;\n  }\n\n  switch (action.type) {\n    case 'SET_IS_LOADING':\n      {\n        return {\n          loading: action.isLoading\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\n/* harmony default export */ var reducers_general = (general);\n// CONCATENATED MODULE: ./src/scripts/lib/utils.js\n/**\n * @param {number} min\n * @param {number} max\n * @returns {number}\n */\nvar getRandomNumber = function getRandomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n/**\n * @param {number} length\n * @returns {string}\n */\n\nvar generateChars = function generateChars(length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return getRandomNumber(0, 36).toString(36);\n  }).join('');\n};\n/**\n * @param {HTMLInputElement | HTMLSelectElement} element\n * @param {string} prefix\n * @returns {string}\n */\n\nvar generateId = function generateId(element, prefix) {\n  var id = element.id || element.name && element.name + \"-\" + generateChars(2) || generateChars(4);\n  id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n  id = prefix + \"-\" + id;\n  return id;\n};\n/**\n * @param {any} obj\n * @returns {string}\n */\n\nvar getType = function getType(obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n};\n/**\n * @param {string} type\n * @param {any} obj\n * @returns {boolean}\n */\n\nvar isType = function isType(type, obj) {\n  return obj !== undefined && obj !== null && getType(obj) === type;\n};\n/**\n * @param {HTMLElement} element\n * @param {HTMLElement} [wrapper={HTMLDivElement}]\n * @returns {HTMLElement}\n */\n\nvar utils_wrap = function wrap(element, wrapper) {\n  if (wrapper === void 0) {\n    wrapper = document.createElement('div');\n  }\n\n  if (element.nextSibling) {\n    element.parentNode.insertBefore(wrapper, element.nextSibling);\n  } else {\n    element.parentNode.appendChild(wrapper);\n  }\n\n  return wrapper.appendChild(element);\n};\n/**\n * @param {Element} startEl\n * @param {string} selector\n * @param {1 | -1} direction\n * @returns {Element | undefined}\n */\n\nvar getAdjacentEl = function getAdjacentEl(startEl, selector, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!(startEl instanceof Element) || typeof selector !== 'string') {\n    return undefined;\n  }\n\n  var prop = (direction > 0 ? 'next' : 'previous') + \"ElementSibling\";\n  var sibling = startEl[prop];\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling[prop];\n  }\n\n  return sibling;\n};\n/**\n * @param {Element} element\n * @param {Element} parent\n * @param {-1 | 1} direction\n * @returns {boolean}\n */\n\nvar isScrolledIntoView = function isScrolledIntoView(element, parent, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!element) {\n    return false;\n  }\n\n  var isVisible;\n\n  if (direction > 0) {\n    // In view from bottom\n    isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n  } else {\n    // In view from top\n    isVisible = element.offsetTop >= parent.scrollTop;\n  }\n\n  return isVisible;\n};\n/**\n * @param {any} value\n * @returns {any}\n */\n\nvar sanitise = function sanitise(value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  return value.replace(/&/g, '&amp;').replace(/>/g, '&rt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n};\n/**\n * @returns {() => (str: string) => Element}\n */\n\nvar strToEl = function () {\n  var tmpEl = document.createElement('div');\n  return function (str) {\n    var cleanedInput = str.trim();\n    tmpEl.innerHTML = cleanedInput;\n    var firldChild = tmpEl.children[0];\n\n    while (tmpEl.firstChild) {\n      tmpEl.removeChild(tmpEl.firstChild);\n    }\n\n    return firldChild;\n  };\n}();\n/**\n * @param {{ label?: string, value: string }} a\n * @param {{ label?: string, value: string }} b\n * @returns {number}\n */\n\nvar sortByAlpha = function sortByAlpha(_ref, _ref2) {\n  var value = _ref.value,\n      _ref$label = _ref.label,\n      label = _ref$label === void 0 ? value : _ref$label;\n  var value2 = _ref2.value,\n      _ref2$label = _ref2.label,\n      label2 = _ref2$label === void 0 ? value2 : _ref2$label;\n  return label.localeCompare(label2, [], {\n    sensitivity: 'base',\n    ignorePunctuation: true,\n    numeric: true\n  });\n};\n/**\n * @param {{ score: number }} a\n * @param {{ score: number }} b\n */\n\nvar sortByScore = function sortByScore(a, b) {\n  return a.score - b.score;\n};\n/**\n * @param {HTMLElement} element\n * @param {string} type\n * @param {object} customArgs\n */\n\nvar dispatchEvent = function dispatchEvent(element, type, customArgs) {\n  if (customArgs === void 0) {\n    customArgs = null;\n  }\n\n  var event = new CustomEvent(type, {\n    detail: customArgs,\n    bubbles: true,\n    cancelable: true\n  });\n  return element.dispatchEvent(event);\n};\n/**\n * @param {array} array\n * @param {any} value\n * @param {string} [key=\"value\"]\n * @returns {boolean}\n */\n\nvar existsInArray = function existsInArray(array, value, key) {\n  if (key === void 0) {\n    key = 'value';\n  }\n\n  return array.some(function (item) {\n    if (typeof value === 'string') {\n      return item[key] === value.trim();\n    }\n\n    return item[key] === value;\n  });\n};\n/**\n * @param {any} obj\n * @returns {any}\n */\n\nvar cloneObject = function cloneObject(obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n/**\n * Returns an array of keys present on the first but missing on the second object\n * @param {object} a\n * @param {object} b\n * @returns {string[]}\n */\n\nvar diff = function diff(a, b) {\n  var aKeys = Object.keys(a).sort();\n  var bKeys = Object.keys(b).sort();\n  return aKeys.filter(function (i) {\n    return bKeys.indexOf(i) < 0;\n  });\n};\n// CONCATENATED MODULE: ./src/scripts/reducers/index.js\n\n\n\n\n\n\nvar appReducer = combineReducers({\n  items: items_items,\n  groups: groups,\n  choices: choices_choices,\n  general: reducers_general\n});\n\nvar reducers_rootReducer = function rootReducer(passedState, action) {\n  var state = passedState; // If we are clearing all items, groups and options we reassign\n  // state and then pass that state to our proper reducer. This isn't\n  // mutating our actual state\n  // See: http://stackoverflow.com/a/35641992\n\n  if (action.type === 'CLEAR_ALL') {\n    state = undefined;\n  } else if (action.type === 'RESET_TO') {\n    return cloneObject(action.state);\n  }\n\n  return appReducer(state, action);\n};\n\n/* harmony default export */ var reducers = (reducers_rootReducer);\n// CONCATENATED MODULE: ./src/scripts/store/store.js\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n/**\n * @typedef {import('../../../types/index').Choices.Choice} Choice\n * @typedef {import('../../../types/index').Choices.Group} Group\n * @typedef {import('../../../types/index').Choices.Item} Item\n */\n\nvar store_Store =\n/*#__PURE__*/\nfunction () {\n  function Store() {\n    this._store = createStore(reducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /**\n   * Subscribe store to function call (wrapped Redux method)\n   * @param  {Function} onChange Function to trigger when state changes\n   * @return\n   */\n\n\n  var _proto = Store.prototype;\n\n  _proto.subscribe = function subscribe(onChange) {\n    this._store.subscribe(onChange);\n  }\n  /**\n   * Dispatch event to store (wrapped Redux method)\n   * @param  {{ type: string, [x: string]: any }} action Action to trigger\n   * @return\n   */\n  ;\n\n  _proto.dispatch = function dispatch(action) {\n    this._store.dispatch(action);\n  }\n  /**\n   * Get store object (wrapping Redux method)\n   * @returns {object} State\n   */\n  ;\n\n  /**\n   * Get loading state from store\n   * @returns {boolean} Loading State\n   */\n  _proto.isLoading = function isLoading() {\n    return this.state.general.loading;\n  }\n  /**\n   * Get single choice by it's ID\n   * @param {string} id\n   * @returns {Choice | undefined} Found choice\n   */\n  ;\n\n  _proto.getChoiceById = function getChoiceById(id) {\n    return this.activeChoices.find(function (choice) {\n      return choice.id === parseInt(id, 10);\n    });\n  }\n  /**\n   * Get group by group id\n   * @param  {number} id Group ID\n   * @returns {Group | undefined} Group data\n   */\n  ;\n\n  _proto.getGroupById = function getGroupById(id) {\n    return this.groups.find(function (group) {\n      return group.id === id;\n    });\n  };\n\n  _createClass(Store, [{\n    key: \"state\",\n    get: function get() {\n      return this._store.getState();\n    }\n    /**\n     * Get items from store\n     * @returns {Item[]} Item objects\n     */\n\n  }, {\n    key: \"items\",\n    get: function get() {\n      return this.state.items;\n    }\n    /**\n     * Get active items from store\n     * @returns {Item[]} Item objects\n     */\n\n  }, {\n    key: \"activeItems\",\n    get: function get() {\n      return this.items.filter(function (item) {\n        return item.active === true;\n      });\n    }\n    /**\n     * Get highlighted items from store\n     * @returns {Item[]} Item objects\n     */\n\n  }, {\n    key: \"highlightedActiveItems\",\n    get: function get() {\n      return this.items.filter(function (item) {\n        return item.active && item.highlighted;\n      });\n    }\n    /**\n     * Get choices from store\n     * @returns {Choice[]} Option objects\n     */\n\n  }, {\n    key: \"choices\",\n    get: function get() {\n      return this.state.choices;\n    }\n    /**\n     * Get active choices from store\n     * @returns {Choice[]} Option objects\n     */\n\n  }, {\n    key: \"activeChoices\",\n    get: function get() {\n      return this.choices.filter(function (choice) {\n        return choice.active === true;\n      });\n    }\n    /**\n     * Get selectable choices from store\n     * @returns {Choice[]} Option objects\n     */\n\n  }, {\n    key: \"selectableChoices\",\n    get: function get() {\n      return this.choices.filter(function (choice) {\n        return choice.disabled !== true;\n      });\n    }\n    /**\n     * Get choices that can be searched (excluding placeholders)\n     * @returns {Choice[]} Option objects\n     */\n\n  }, {\n    key: \"searchableChoices\",\n    get: function get() {\n      return this.selectableChoices.filter(function (choice) {\n        return choice.placeholder !== true;\n      });\n    }\n    /**\n     * Get placeholder choice from store\n     * @returns {Choice | undefined} Found placeholder\n     */\n\n  }, {\n    key: \"placeholderChoice\",\n    get: function get() {\n      return [].concat(this.choices).reverse().find(function (choice) {\n        return choice.placeholder === true;\n      });\n    }\n    /**\n     * Get groups from store\n     * @returns {Group[]} Group objects\n     */\n\n  }, {\n    key: \"groups\",\n    get: function get() {\n      return this.state.groups;\n    }\n    /**\n     * Get active groups from store\n     * @returns {Group[]} Group objects\n     */\n\n  }, {\n    key: \"activeGroups\",\n    get: function get() {\n      var groups = this.groups,\n          choices = this.choices;\n      return groups.filter(function (group) {\n        var isActive = group.active === true && group.disabled === false;\n        var hasActiveOptions = choices.some(function (choice) {\n          return choice.active === true && choice.disabled === false;\n        });\n        return isActive && hasActiveOptions;\n      }, []);\n    }\n  }]);\n\n  return Store;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/dropdown.js\nfunction dropdown_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction dropdown_createClass(Constructor, protoProps, staticProps) { if (protoProps) dropdown_defineProperties(Constructor.prototype, protoProps); if (staticProps) dropdown_defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n */\nvar Dropdown =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{\n   *  element: HTMLElement,\n   *  type: passedElement['type'],\n   *  classNames: ClassNames,\n   * }} args\n   */\n  function Dropdown(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.isActive = false;\n  }\n  /**\n   * Bottom position of dropdown in viewport coordinates\n   * @returns {number} Vertical position\n   */\n\n\n  var _proto = Dropdown.prototype;\n\n  /**\n   * Find element that matches passed selector\n   * @param {string} selector\n   * @returns {HTMLElement | null}\n   */\n  _proto.getChild = function getChild(selector) {\n    return this.element.querySelector(selector);\n  }\n  /**\n   * Show dropdown to user by adding active state class\n   * @returns {this}\n   */\n  ;\n\n  _proto.show = function show() {\n    this.element.classList.add(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isActive = true;\n    return this;\n  }\n  /**\n   * Hide dropdown from user\n   * @returns {this}\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.element.classList.remove(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.isActive = false;\n    return this;\n  };\n\n  dropdown_createClass(Dropdown, [{\n    key: \"distanceFromTopWindow\",\n    get: function get() {\n      return this.element.getBoundingClientRect().bottom;\n    }\n  }]);\n\n  return Dropdown;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/constants.js\n\n/**\n * @typedef {import('../../types/index').Choices.ClassNames} ClassNames\n * @typedef {import('../../types/index').Choices.Options} Options\n */\n\n/** @type {ClassNames} */\n\nvar DEFAULT_CLASSNAMES = {\n  containerOuter: 'choices',\n  containerInner: 'choices__inner',\n  input: 'choices__input',\n  inputCloned: 'choices__input--cloned',\n  list: 'choices__list',\n  listItems: 'choices__list--multiple',\n  listSingle: 'choices__list--single',\n  listDropdown: 'choices__list--dropdown',\n  item: 'choices__item',\n  itemSelectable: 'choices__item--selectable',\n  itemDisabled: 'choices__item--disabled',\n  itemChoice: 'choices__item--choice',\n  placeholder: 'choices__placeholder',\n  group: 'choices__group',\n  groupHeading: 'choices__heading',\n  button: 'choices__button',\n  activeState: 'is-active',\n  focusState: 'is-focused',\n  openState: 'is-open',\n  disabledState: 'is-disabled',\n  highlightedState: 'is-highlighted',\n  selectedState: 'is-selected',\n  flippedState: 'is-flipped',\n  loadingState: 'is-loading',\n  noResults: 'has-no-results',\n  noChoices: 'has-no-choices'\n};\n/** @type {Options} */\n\nvar DEFAULT_CONFIG = {\n  items: [],\n  choices: [],\n  silent: false,\n  renderChoiceLimit: -1,\n  maxItemCount: -1,\n  addItems: true,\n  addItemFilter: null,\n  removeItems: true,\n  removeItemButton: false,\n  editItems: false,\n  duplicateItemsAllowed: true,\n  delimiter: ',',\n  paste: true,\n  searchEnabled: true,\n  searchChoices: true,\n  searchFloor: 1,\n  searchResultLimit: 4,\n  searchFields: ['label', 'value'],\n  position: 'auto',\n  resetScrollPosition: true,\n  shouldSort: true,\n  shouldSortItems: false,\n  sorter: sortByAlpha,\n  placeholder: true,\n  placeholderValue: null,\n  searchPlaceholderValue: null,\n  prependValue: null,\n  appendValue: null,\n  renderSelectedChoices: 'auto',\n  loadingText: 'Loading...',\n  noResultsText: 'No results found',\n  noChoicesText: 'No choices to choose from',\n  itemSelectText: 'Press to select',\n  uniqueItemText: 'Only unique values can be added',\n  customAddItemText: 'Only values matching specific conditions can be added',\n  addItemText: function addItemText(value) {\n    return \"Press Enter to add <b>\\\"\" + sanitise(value) + \"\\\"</b>\";\n  },\n  maxItemText: function maxItemText(maxItemCount) {\n    return \"Only \" + maxItemCount + \" values can be added\";\n  },\n  valueComparer: function valueComparer(value1, value2) {\n    return value1 === value2;\n  },\n  fuseOptions: {\n    includeScore: true\n  },\n  callbackOnInit: null,\n  callbackOnCreateTemplates: null,\n  classNames: DEFAULT_CLASSNAMES\n};\nvar EVENTS = {\n  showDropdown: 'showDropdown',\n  hideDropdown: 'hideDropdown',\n  change: 'change',\n  choice: 'choice',\n  search: 'search',\n  addItem: 'addItem',\n  removeItem: 'removeItem',\n  highlightItem: 'highlightItem',\n  highlightChoice: 'highlightChoice'\n};\nvar ACTION_TYPES = {\n  ADD_CHOICE: 'ADD_CHOICE',\n  FILTER_CHOICES: 'FILTER_CHOICES',\n  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n  CLEAR_CHOICES: 'CLEAR_CHOICES',\n  ADD_GROUP: 'ADD_GROUP',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n  CLEAR_ALL: 'CLEAR_ALL'\n};\nvar KEY_CODES = {\n  BACK_KEY: 46,\n  DELETE_KEY: 8,\n  ENTER_KEY: 13,\n  A_KEY: 65,\n  ESC_KEY: 27,\n  UP_KEY: 38,\n  DOWN_KEY: 40,\n  PAGE_UP_KEY: 33,\n  PAGE_DOWN_KEY: 34\n};\nvar TEXT_TYPE = 'text';\nvar SELECT_ONE_TYPE = 'select-one';\nvar SELECT_MULTIPLE_TYPE = 'select-multiple';\nvar SCROLLING_SPEED = 4;\n// CONCATENATED MODULE: ./src/scripts/components/container.js\n\n\n/**\n * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n */\n\nvar container_Container =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{\n   *  element: HTMLElement,\n   *  type: passedElement['type'],\n   *  classNames: ClassNames,\n   *  position\n   * }} args\n   */\n  function Container(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames,\n        position = _ref.position;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.position = position;\n    this.isOpen = false;\n    this.isFlipped = false;\n    this.isFocussed = false;\n    this.isDisabled = false;\n    this.isLoading = false;\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  var _proto = Container.prototype;\n\n  _proto.addEventListeners = function addEventListeners() {\n    this.element.addEventListener('focus', this._onFocus);\n    this.element.addEventListener('blur', this._onBlur);\n  };\n\n  _proto.removeEventListeners = function removeEventListeners() {\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  }\n  /**\n   * Determine whether container should be flipped based on passed\n   * dropdown position\n   * @param {number} dropdownPos\n   * @returns {boolean}\n   */\n  ;\n\n  _proto.shouldFlip = function shouldFlip(dropdownPos) {\n    if (typeof dropdownPos !== 'number') {\n      return false;\n    } // If flip is enabled and the dropdown bottom position is\n    // greater than the window height flip the dropdown.\n\n\n    var shouldFlip = false;\n\n    if (this.position === 'auto') {\n      shouldFlip = !window.matchMedia(\"(min-height: \" + (dropdownPos + 1) + \"px)\").matches;\n    } else if (this.position === 'top') {\n      shouldFlip = true;\n    }\n\n    return shouldFlip;\n  }\n  /**\n   * @param {string} activeDescendantID\n   */\n  ;\n\n  _proto.setActiveDescendant = function setActiveDescendant(activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  _proto.removeActiveDescendant = function removeActiveDescendant() {\n    this.element.removeAttribute('aria-activedescendant');\n  }\n  /**\n   * @param {number} dropdownPos\n   */\n  ;\n\n  _proto.open = function open(dropdownPos) {\n    this.element.classList.add(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isOpen = true;\n\n    if (this.shouldFlip(dropdownPos)) {\n      this.element.classList.add(this.classNames.flippedState);\n      this.isFlipped = true;\n    }\n  };\n\n  _proto.close = function close() {\n    this.element.classList.remove(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.removeActiveDescendant();\n    this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n    if (this.isFlipped) {\n      this.element.classList.remove(this.classNames.flippedState);\n      this.isFlipped = false;\n    }\n  };\n\n  _proto.focus = function focus() {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  _proto.addFocusState = function addFocusState() {\n    this.element.classList.add(this.classNames.focusState);\n  };\n\n  _proto.removeFocusState = function removeFocusState() {\n    this.element.classList.remove(this.classNames.focusState);\n  };\n\n  _proto.enable = function enable() {\n    this.element.classList.remove(this.classNames.disabledState);\n    this.element.removeAttribute('aria-disabled');\n\n    if (this.type === SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '0');\n    }\n\n    this.isDisabled = false;\n  };\n\n  _proto.disable = function disable() {\n    this.element.classList.add(this.classNames.disabledState);\n    this.element.setAttribute('aria-disabled', 'true');\n\n    if (this.type === SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '-1');\n    }\n\n    this.isDisabled = true;\n  }\n  /**\n   * @param {HTMLElement} element\n   */\n  ;\n\n  _proto.wrap = function wrap(element) {\n    utils_wrap(element, this.element);\n  }\n  /**\n   * @param {Element} element\n   */\n  ;\n\n  _proto.unwrap = function unwrap(element) {\n    // Move passed element outside this element\n    this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n    this.element.parentNode.removeChild(this.element);\n  };\n\n  _proto.addLoadingState = function addLoadingState() {\n    this.element.classList.add(this.classNames.loadingState);\n    this.element.setAttribute('aria-busy', 'true');\n    this.isLoading = true;\n  };\n\n  _proto.removeLoadingState = function removeLoadingState() {\n    this.element.classList.remove(this.classNames.loadingState);\n    this.element.removeAttribute('aria-busy');\n    this.isLoading = false;\n  };\n\n  _proto._onFocus = function _onFocus() {\n    this.isFocussed = true;\n  };\n\n  _proto._onBlur = function _onBlur() {\n    this.isFocussed = false;\n  };\n\n  return Container;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/input.js\nfunction input_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction input_createClass(Constructor, protoProps, staticProps) { if (protoProps) input_defineProperties(Constructor.prototype, protoProps); if (staticProps) input_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n/**\n * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n */\n\nvar input_Input =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{\n   *  element: HTMLInputElement,\n   *  type: passedElement['type'],\n   *  classNames: ClassNames,\n   *  preventPaste: boolean\n   * }} args\n   */\n  function Input(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames,\n        preventPaste = _ref.preventPaste;\n    this.element = element;\n    this.type = type;\n    this.classNames = classNames;\n    this.preventPaste = preventPaste;\n    this.isFocussed = this.element === document.activeElement;\n    this.isDisabled = element.disabled;\n    this._onPaste = this._onPaste.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n  /**\n   * @param {string} placeholder\n   */\n\n\n  var _proto = Input.prototype;\n\n  _proto.addEventListeners = function addEventListeners() {\n    this.element.addEventListener('paste', this._onPaste);\n    this.element.addEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  _proto.removeEventListeners = function removeEventListeners() {\n    this.element.removeEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.removeEventListener('paste', this._onPaste);\n    this.element.removeEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.removeEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  _proto.enable = function enable() {\n    this.element.removeAttribute('disabled');\n    this.isDisabled = false;\n  };\n\n  _proto.disable = function disable() {\n    this.element.setAttribute('disabled', '');\n    this.isDisabled = true;\n  };\n\n  _proto.focus = function focus() {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  _proto.blur = function blur() {\n    if (this.isFocussed) {\n      this.element.blur();\n    }\n  }\n  /**\n   * Set value of input to blank\n   * @param {boolean} setWidth\n   * @returns {this}\n   */\n  ;\n\n  _proto.clear = function clear(setWidth) {\n    if (setWidth === void 0) {\n      setWidth = true;\n    }\n\n    if (this.element.value) {\n      this.element.value = '';\n    }\n\n    if (setWidth) {\n      this.setWidth();\n    }\n\n    return this;\n  }\n  /**\n   * Set the correct input width based on placeholder\n   * value or input value\n   */\n  ;\n\n  _proto.setWidth = function setWidth() {\n    // Resize input to contents or placeholder\n    var _this$element = this.element,\n        style = _this$element.style,\n        value = _this$element.value,\n        placeholder = _this$element.placeholder;\n    style.minWidth = placeholder.length + 1 + \"ch\";\n    style.width = value.length + 1 + \"ch\";\n  }\n  /**\n   * @param {string} activeDescendantID\n   */\n  ;\n\n  _proto.setActiveDescendant = function setActiveDescendant(activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  _proto.removeActiveDescendant = function removeActiveDescendant() {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  _proto._onInput = function _onInput() {\n    if (this.type !== SELECT_ONE_TYPE) {\n      this.setWidth();\n    }\n  }\n  /**\n   * @param {Event} event\n   */\n  ;\n\n  _proto._onPaste = function _onPaste(event) {\n    if (this.preventPaste) {\n      event.preventDefault();\n    }\n  };\n\n  _proto._onFocus = function _onFocus() {\n    this.isFocussed = true;\n  };\n\n  _proto._onBlur = function _onBlur() {\n    this.isFocussed = false;\n  };\n\n  input_createClass(Input, [{\n    key: \"placeholder\",\n    set: function set(placeholder) {\n      this.element.placeholder = placeholder;\n    }\n    /**\n     * @returns {string}\n     */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return sanitise(this.element.value);\n    }\n    /**\n     * @param {string} value\n     */\n    ,\n    set: function set(value) {\n      this.element.value = value;\n    }\n  }]);\n\n  return Input;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/list.js\n\n/**\n * @typedef {import('../../../types/index').Choices.Choice} Choice\n */\n\nvar list_List =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{ element: HTMLElement }} args\n   */\n  function List(_ref) {\n    var element = _ref.element;\n    this.element = element;\n    this.scrollPos = this.element.scrollTop;\n    this.height = this.element.offsetHeight;\n  }\n\n  var _proto = List.prototype;\n\n  _proto.clear = function clear() {\n    this.element.innerHTML = '';\n  }\n  /**\n   * @param {Element | DocumentFragment} node\n   */\n  ;\n\n  _proto.append = function append(node) {\n    this.element.appendChild(node);\n  }\n  /**\n   * @param {string} selector\n   * @returns {Element | null}\n   */\n  ;\n\n  _proto.getChild = function getChild(selector) {\n    return this.element.querySelector(selector);\n  }\n  /**\n   * @returns {boolean}\n   */\n  ;\n\n  _proto.hasChildren = function hasChildren() {\n    return this.element.hasChildNodes();\n  };\n\n  _proto.scrollToTop = function scrollToTop() {\n    this.element.scrollTop = 0;\n  }\n  /**\n   * @param {Element} element\n   * @param {1 | -1} direction\n   */\n  ;\n\n  _proto.scrollToChildElement = function scrollToChildElement(element, direction) {\n    var _this = this;\n\n    if (!element) {\n      return;\n    }\n\n    var listHeight = this.element.offsetHeight; // Scroll position of dropdown\n\n    var listScrollPosition = this.element.scrollTop + listHeight;\n    var elementHeight = element.offsetHeight; // Distance from bottom of element to top of parent\n\n    var elementPos = element.offsetTop + elementHeight; // Difference between the element and scroll position\n\n    var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n    requestAnimationFrame(function () {\n      _this._animateScroll(destination, direction);\n    });\n  }\n  /**\n   * @param {number} scrollPos\n   * @param {number} strength\n   * @param {number} destination\n   */\n  ;\n\n  _proto._scrollDown = function _scrollDown(scrollPos, strength, destination) {\n    var easing = (destination - scrollPos) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos + distance;\n  }\n  /**\n   * @param {number} scrollPos\n   * @param {number} strength\n   * @param {number} destination\n   */\n  ;\n\n  _proto._scrollUp = function _scrollUp(scrollPos, strength, destination) {\n    var easing = (scrollPos - destination) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos - distance;\n  }\n  /**\n   * @param {*} destination\n   * @param {*} direction\n   */\n  ;\n\n  _proto._animateScroll = function _animateScroll(destination, direction) {\n    var _this2 = this;\n\n    var strength = SCROLLING_SPEED;\n    var choiceListScrollTop = this.element.scrollTop;\n    var continueAnimation = false;\n\n    if (direction > 0) {\n      this._scrollDown(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop < destination) {\n        continueAnimation = true;\n      }\n    } else {\n      this._scrollUp(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop > destination) {\n        continueAnimation = true;\n      }\n    }\n\n    if (continueAnimation) {\n      requestAnimationFrame(function () {\n        _this2._animateScroll(destination, direction);\n      });\n    }\n  };\n\n  return List;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/wrapped-element.js\nfunction wrapped_element_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction wrapped_element_createClass(Constructor, protoProps, staticProps) { if (protoProps) wrapped_element_defineProperties(Constructor.prototype, protoProps); if (staticProps) wrapped_element_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n/**\n * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n */\n\nvar wrapped_element_WrappedElement =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{\n   *  element: HTMLInputElement | HTMLSelectElement,\n   *  classNames: ClassNames,\n   * }} args\n   */\n  function WrappedElement(_ref) {\n    var element = _ref.element,\n        classNames = _ref.classNames;\n    this.element = element;\n    this.classNames = classNames;\n\n    if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {\n      throw new TypeError('Invalid element passed');\n    }\n\n    this.isDisabled = false;\n  }\n\n  var _proto = WrappedElement.prototype;\n\n  _proto.conceal = function conceal() {\n    // Hide passed input\n    this.element.classList.add(this.classNames.input);\n    this.element.hidden = true; // Remove element from tab index\n\n    this.element.tabIndex = -1; // Backup original styles if any\n\n    var origStyle = this.element.getAttribute('style');\n\n    if (origStyle) {\n      this.element.setAttribute('data-choice-orig-style', origStyle);\n    }\n\n    this.element.setAttribute('data-choice', 'active');\n  };\n\n  _proto.reveal = function reveal() {\n    // Reinstate passed element\n    this.element.classList.remove(this.classNames.input);\n    this.element.hidden = false;\n    this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n    var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n    if (origStyle) {\n      this.element.removeAttribute('data-choice-orig-style');\n      this.element.setAttribute('style', origStyle);\n    } else {\n      this.element.removeAttribute('style');\n    }\n\n    this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n    // @todo Figure out why we need to do this\n\n    this.element.value = this.element.value; // eslint-disable-line no-self-assign\n  };\n\n  _proto.enable = function enable() {\n    this.element.removeAttribute('disabled');\n    this.element.disabled = false;\n    this.isDisabled = false;\n  };\n\n  _proto.disable = function disable() {\n    this.element.setAttribute('disabled', '');\n    this.element.disabled = true;\n    this.isDisabled = true;\n  };\n\n  _proto.triggerEvent = function triggerEvent(eventType, data) {\n    dispatchEvent(this.element, eventType, data);\n  };\n\n  wrapped_element_createClass(WrappedElement, [{\n    key: \"isActive\",\n    get: function get() {\n      return this.element.dataset.choice === 'active';\n    }\n  }, {\n    key: \"dir\",\n    get: function get() {\n      return this.element.dir;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.element.value;\n    },\n    set: function set(value) {\n      // you must define setter here otherwise it will be readonly property\n      this.element.value = value;\n    }\n  }]);\n\n  return WrappedElement;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/wrapped-input.js\nfunction wrapped_input_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction wrapped_input_createClass(Constructor, protoProps, staticProps) { if (protoProps) wrapped_input_defineProperties(Constructor.prototype, protoProps); if (staticProps) wrapped_input_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n\n/**\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n * @typedef {import('../../../types/index').Choices.Item} Item\n */\n\nvar WrappedInput =\n/*#__PURE__*/\nfunction (_WrappedElement) {\n  _inheritsLoose(WrappedInput, _WrappedElement);\n\n  /**\n   * @param {{\n   *  element: HTMLInputElement,\n   *  classNames: ClassNames,\n   *  delimiter: string\n   * }} args\n   */\n  function WrappedInput(_ref) {\n    var _this;\n\n    var element = _ref.element,\n        classNames = _ref.classNames,\n        delimiter = _ref.delimiter;\n    _this = _WrappedElement.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n    _this.delimiter = delimiter;\n    return _this;\n  }\n  /**\n   * @returns {string}\n   */\n\n\n  wrapped_input_createClass(WrappedInput, [{\n    key: \"value\",\n    get: function get() {\n      return this.element.value;\n    }\n    /**\n     * @param {Item[]} items\n     */\n    ,\n    set: function set(items) {\n      var itemValues = items.map(function (_ref2) {\n        var value = _ref2.value;\n        return value;\n      });\n      var joinedValues = itemValues.join(this.delimiter);\n      this.element.setAttribute('value', joinedValues);\n      this.element.value = joinedValues;\n    }\n  }]);\n\n  return WrappedInput;\n}(wrapped_element_WrappedElement);\n\n\n// CONCATENATED MODULE: ./src/scripts/components/wrapped-select.js\nfunction wrapped_select_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction wrapped_select_createClass(Constructor, protoProps, staticProps) { if (protoProps) wrapped_select_defineProperties(Constructor.prototype, protoProps); if (staticProps) wrapped_select_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction wrapped_select_inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n\n/**\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n * @typedef {import('../../../types/index').Choices.Item} Item\n * @typedef {import('../../../types/index').Choices.Choice} Choice\n */\n\nvar WrappedSelect =\n/*#__PURE__*/\nfunction (_WrappedElement) {\n  wrapped_select_inheritsLoose(WrappedSelect, _WrappedElement);\n\n  /**\n   * @param {{\n   *  element: HTMLSelectElement,\n   *  classNames: ClassNames,\n   *  delimiter: string\n   *  template: function\n   * }} args\n   */\n  function WrappedSelect(_ref) {\n    var _this;\n\n    var element = _ref.element,\n        classNames = _ref.classNames,\n        template = _ref.template;\n    _this = _WrappedElement.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n    _this.template = template;\n    return _this;\n  }\n\n  var _proto = WrappedSelect.prototype;\n\n  /**\n   * @param {DocumentFragment} fragment\n   */\n  _proto.appendDocFragment = function appendDocFragment(fragment) {\n    this.element.innerHTML = '';\n    this.element.appendChild(fragment);\n  };\n\n  wrapped_select_createClass(WrappedSelect, [{\n    key: \"placeholderOption\",\n    get: function get() {\n      return this.element.querySelector('option[value=\"\"]') || // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n      this.element.querySelector('option[placeholder]');\n    }\n    /**\n     * @returns {Element[]}\n     */\n\n  }, {\n    key: \"optionGroups\",\n    get: function get() {\n      return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n    }\n    /**\n     * @returns {Item[] | Choice[]}\n     */\n\n  }, {\n    key: \"options\",\n    get: function get() {\n      return Array.from(this.element.options);\n    }\n    /**\n     * @param {Item[] | Choice[]} options\n     */\n    ,\n    set: function set(options) {\n      var _this2 = this;\n\n      var fragment = document.createDocumentFragment();\n\n      var addOptionToFragment = function addOptionToFragment(data) {\n        // Create a standard select option\n        var option = _this2.template(data); // Append it to fragment\n\n\n        fragment.appendChild(option);\n      }; // Add each list item to list\n\n\n      options.forEach(function (optionData) {\n        return addOptionToFragment(optionData);\n      });\n      this.appendDocFragment(fragment);\n    }\n  }]);\n\n  return WrappedSelect;\n}(wrapped_element_WrappedElement);\n\n\n// CONCATENATED MODULE: ./src/scripts/components/index.js\n\n\n\n\n\n\n\n// CONCATENATED MODULE: ./src/scripts/templates.js\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option\n * @typedef {import('../../types/index').Choices.Templates} Templates\n * @typedef {import('../../types/index').Choices.ClassNames} ClassNames\n * @typedef {import('../../types/index').Choices.Options} Options\n * @typedef {import('../../types/index').Choices.Item} Item\n * @typedef {import('../../types/index').Choices.Choice} Choice\n * @typedef {import('../../types/index').Choices.Group} Group\n */\nvar TEMPLATES =\n/** @type {Templates} */\n{\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {\"ltr\" | \"rtl\" | \"auto\"} dir\n   * @param {boolean} isSelectElement\n   * @param {boolean} isSelectOneElement\n   * @param {boolean} searchEnabled\n   * @param {\"select-one\" | \"select-multiple\" | \"text\"} passedElementType\n   */\n  containerOuter: function containerOuter(_ref, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType) {\n    var _containerOuter = _ref.containerOuter;\n    var div = Object.assign(document.createElement('div'), {\n      className: _containerOuter\n    });\n    div.dataset.type = passedElementType;\n\n    if (dir) {\n      div.dir = dir;\n    }\n\n    if (isSelectOneElement) {\n      div.tabIndex = 0;\n    }\n\n    if (isSelectElement) {\n      div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n\n      if (searchEnabled) {\n        div.setAttribute('aria-autocomplete', 'list');\n      }\n    }\n\n    div.setAttribute('aria-haspopup', 'true');\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   */\n  containerInner: function containerInner(_ref2) {\n    var _containerInner = _ref2.containerInner;\n    return Object.assign(document.createElement('div'), {\n      className: _containerInner\n    });\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {boolean} isSelectOneElement\n   */\n  itemList: function itemList(_ref3, isSelectOneElement) {\n    var list = _ref3.list,\n        listSingle = _ref3.listSingle,\n        listItems = _ref3.listItems;\n    return Object.assign(document.createElement('div'), {\n      className: list + \" \" + (isSelectOneElement ? listSingle : listItems)\n    });\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {string} value\n   */\n  placeholder: function placeholder(_ref4, value) {\n    var _placeholder = _ref4.placeholder;\n    return Object.assign(document.createElement('div'), {\n      className: _placeholder,\n      innerHTML: value\n    });\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {Item} item\n   * @param {boolean} removeItemButton\n   */\n  item: function item(_ref5, _ref6, removeItemButton) {\n    var _item = _ref5.item,\n        button = _ref5.button,\n        highlightedState = _ref5.highlightedState,\n        itemSelectable = _ref5.itemSelectable,\n        placeholder = _ref5.placeholder;\n    var id = _ref6.id,\n        value = _ref6.value,\n        label = _ref6.label,\n        customProperties = _ref6.customProperties,\n        active = _ref6.active,\n        disabled = _ref6.disabled,\n        highlighted = _ref6.highlighted,\n        isPlaceholder = _ref6.placeholder;\n    var div = Object.assign(document.createElement('div'), {\n      className: _item,\n      innerHTML: label\n    });\n    Object.assign(div.dataset, {\n      item: '',\n      id: id,\n      value: value,\n      customProperties: customProperties\n    });\n\n    if (active) {\n      div.setAttribute('aria-selected', 'true');\n    }\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.classList.add(highlighted ? highlightedState : itemSelectable);\n\n    if (removeItemButton) {\n      if (disabled) {\n        div.classList.remove(itemSelectable);\n      }\n\n      div.dataset.deletable = '';\n      /** @todo This MUST be localizable, not hardcoded! */\n\n      var REMOVE_ITEM_TEXT = 'Remove item';\n      var removeButton = Object.assign(document.createElement('button'), {\n        type: 'button',\n        className: button,\n        innerHTML: REMOVE_ITEM_TEXT\n      });\n      removeButton.setAttribute('aria-label', REMOVE_ITEM_TEXT + \": '\" + value + \"'\");\n      removeButton.dataset.button = '';\n      div.appendChild(removeButton);\n    }\n\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {boolean} isSelectOneElement\n   */\n  choiceList: function choiceList(_ref7, isSelectOneElement) {\n    var list = _ref7.list;\n    var div = Object.assign(document.createElement('div'), {\n      className: list\n    });\n\n    if (!isSelectOneElement) {\n      div.setAttribute('aria-multiselectable', 'true');\n    }\n\n    div.setAttribute('role', 'listbox');\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {Group} group\n   */\n  choiceGroup: function choiceGroup(_ref8, _ref9) {\n    var group = _ref8.group,\n        groupHeading = _ref8.groupHeading,\n        itemDisabled = _ref8.itemDisabled;\n    var id = _ref9.id,\n        value = _ref9.value,\n        disabled = _ref9.disabled;\n    var div = Object.assign(document.createElement('div'), {\n      className: group + \" \" + (disabled ? itemDisabled : '')\n    });\n    div.setAttribute('role', 'group');\n    Object.assign(div.dataset, {\n      group: '',\n      id: id,\n      value: value\n    });\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    div.appendChild(Object.assign(document.createElement('div'), {\n      className: groupHeading,\n      innerHTML: value\n    }));\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {Choice} choice\n   * @param {Options['itemSelectText']} selectText\n   */\n  choice: function choice(_ref10, _ref11, selectText) {\n    var item = _ref10.item,\n        itemChoice = _ref10.itemChoice,\n        itemSelectable = _ref10.itemSelectable,\n        selectedState = _ref10.selectedState,\n        itemDisabled = _ref10.itemDisabled,\n        placeholder = _ref10.placeholder;\n    var id = _ref11.id,\n        value = _ref11.value,\n        label = _ref11.label,\n        groupId = _ref11.groupId,\n        elementId = _ref11.elementId,\n        isDisabled = _ref11.disabled,\n        isSelected = _ref11.selected,\n        isPlaceholder = _ref11.placeholder;\n    var div = Object.assign(document.createElement('div'), {\n      id: elementId,\n      innerHTML: label,\n      className: item + \" \" + itemChoice\n    });\n\n    if (isSelected) {\n      div.classList.add(selectedState);\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.setAttribute('role', groupId > 0 ? 'treeitem' : 'option');\n    Object.assign(div.dataset, {\n      choice: '',\n      id: id,\n      value: value,\n      selectText: selectText\n    });\n\n    if (isDisabled) {\n      div.classList.add(itemDisabled);\n      div.dataset.choiceDisabled = '';\n      div.setAttribute('aria-disabled', 'true');\n    } else {\n      div.classList.add(itemSelectable);\n      div.dataset.choiceSelectable = '';\n    }\n\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {string} placeholderValue\n   */\n  input: function input(_ref12, placeholderValue) {\n    var _input = _ref12.input,\n        inputCloned = _ref12.inputCloned;\n    var inp = Object.assign(document.createElement('input'), {\n      type: 'text',\n      className: _input + \" \" + inputCloned,\n      autocomplete: 'off',\n      autocapitalize: 'off',\n      spellcheck: false\n    });\n    inp.setAttribute('role', 'textbox');\n    inp.setAttribute('aria-autocomplete', 'list');\n    inp.setAttribute('aria-label', placeholderValue);\n    return inp;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   */\n  dropdown: function dropdown(_ref13) {\n    var list = _ref13.list,\n        listDropdown = _ref13.listDropdown;\n    var div = document.createElement('div');\n    div.classList.add(list, listDropdown);\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n\n  /**\n   *\n   * @param {Partial<ClassNames>} classNames\n   * @param {string} innerHTML\n   * @param {\"no-choices\" | \"no-results\" | \"\"} type\n   */\n  notice: function notice(_ref14, innerHTML, type) {\n    var item = _ref14.item,\n        itemChoice = _ref14.itemChoice,\n        noResults = _ref14.noResults,\n        noChoices = _ref14.noChoices;\n\n    if (type === void 0) {\n      type = '';\n    }\n\n    var classes = [item, itemChoice];\n\n    if (type === 'no-choices') {\n      classes.push(noChoices);\n    } else if (type === 'no-results') {\n      classes.push(noResults);\n    }\n\n    return Object.assign(document.createElement('div'), {\n      innerHTML: innerHTML,\n      className: classes.join(' ')\n    });\n  },\n\n  /**\n   * @param {Item} option\n   */\n  option: function option(_ref15) {\n    var label = _ref15.label,\n        value = _ref15.value,\n        customProperties = _ref15.customProperties,\n        active = _ref15.active,\n        disabled = _ref15.disabled;\n    var opt = new Option(label, value, false, active);\n\n    if (customProperties) {\n      opt.dataset.customProperties = customProperties;\n    }\n\n    opt.disabled = disabled;\n    return opt;\n  }\n};\n/* harmony default export */ var templates = (TEMPLATES);\n// CONCATENATED MODULE: ./src/scripts/actions/choices.js\n/**\n * @typedef {import('redux').Action} Action\n * @typedef {import('../../../types/index').Choices.Choice} Choice\n */\n\n/**\n * @argument {Choice} choice\n * @returns {Action & Choice}\n */\n\nvar choices_addChoice = function addChoice(_ref) {\n  var value = _ref.value,\n      label = _ref.label,\n      id = _ref.id,\n      groupId = _ref.groupId,\n      disabled = _ref.disabled,\n      elementId = _ref.elementId,\n      customProperties = _ref.customProperties,\n      placeholder = _ref.placeholder,\n      keyCode = _ref.keyCode;\n  return {\n    type: ACTION_TYPES.ADD_CHOICE,\n    value: value,\n    label: label,\n    id: id,\n    groupId: groupId,\n    disabled: disabled,\n    elementId: elementId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n/**\n * @argument {Choice[]} results\n * @returns {Action & { results: Choice[] }}\n */\n\nvar choices_filterChoices = function filterChoices(results) {\n  return {\n    type: ACTION_TYPES.FILTER_CHOICES,\n    results: results\n  };\n};\n/**\n * @argument {boolean} active\n * @returns {Action & { active: boolean }}\n */\n\nvar choices_activateChoices = function activateChoices(active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  return {\n    type: ACTION_TYPES.ACTIVATE_CHOICES,\n    active: active\n  };\n};\n/**\n * @returns {Action}\n */\n\nvar choices_clearChoices = function clearChoices() {\n  return {\n    type: ACTION_TYPES.CLEAR_CHOICES\n  };\n};\n// CONCATENATED MODULE: ./src/scripts/actions/items.js\n\n/**\n * @typedef {import('redux').Action} Action\n * @typedef {import('../../../types/index').Choices.Item} Item\n */\n\n/**\n * @param {Item} item\n * @returns {Action & Item}\n */\n\nvar items_addItem = function addItem(_ref) {\n  var value = _ref.value,\n      label = _ref.label,\n      id = _ref.id,\n      choiceId = _ref.choiceId,\n      groupId = _ref.groupId,\n      customProperties = _ref.customProperties,\n      placeholder = _ref.placeholder,\n      keyCode = _ref.keyCode;\n  return {\n    type: ACTION_TYPES.ADD_ITEM,\n    value: value,\n    label: label,\n    id: id,\n    choiceId: choiceId,\n    groupId: groupId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n/**\n * @param {string} id\n * @param {string} choiceId\n * @returns {Action & { id: string, choiceId: string }}\n */\n\nvar items_removeItem = function removeItem(id, choiceId) {\n  return {\n    type: ACTION_TYPES.REMOVE_ITEM,\n    id: id,\n    choiceId: choiceId\n  };\n};\n/**\n * @param {string} id\n * @param {boolean} highlighted\n * @returns {Action & { id: string, highlighted: boolean }}\n */\n\nvar items_highlightItem = function highlightItem(id, highlighted) {\n  return {\n    type: ACTION_TYPES.HIGHLIGHT_ITEM,\n    id: id,\n    highlighted: highlighted\n  };\n};\n// CONCATENATED MODULE: ./src/scripts/actions/groups.js\n\n/**\n * @typedef {import('redux').Action} Action\n * @typedef {import('../../../types/index').Choices.Group} Group\n */\n\n/**\n * @param {Group} group\n * @returns {Action & Group}\n */\n\nvar groups_addGroup = function addGroup(_ref) {\n  var value = _ref.value,\n      id = _ref.id,\n      active = _ref.active,\n      disabled = _ref.disabled;\n  return {\n    type: ACTION_TYPES.ADD_GROUP,\n    value: value,\n    id: id,\n    active: active,\n    disabled: disabled\n  };\n};\n// CONCATENATED MODULE: ./src/scripts/actions/misc.js\n/**\n * @typedef {import('redux').Action} Action\n */\n\n/**\n * @returns {Action}\n */\nvar clearAll = function clearAll() {\n  return {\n    type: 'CLEAR_ALL'\n  };\n};\n/**\n * @param {any} state\n * @returns {Action & { state: object }}\n */\n\nvar resetTo = function resetTo(state) {\n  return {\n    type: 'RESET_TO',\n    state: state\n  };\n};\n/**\n * @param {boolean} isLoading\n * @returns {Action & { isLoading: boolean }}\n */\n\nvar setIsLoading = function setIsLoading(isLoading) {\n  return {\n    type: 'SET_IS_LOADING',\n    isLoading: isLoading\n  };\n};\n// CONCATENATED MODULE: ./src/scripts/choices.js\nfunction choices_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction choices_createClass(Constructor, protoProps, staticProps) { if (protoProps) choices_defineProperties(Constructor.prototype, protoProps); if (staticProps) choices_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;\n/**\n * @typedef {import('../../types/index').Choices.Choice} Choice\n * @typedef {import('../../types/index').Choices.Item} Item\n * @typedef {import('../../types/index').Choices.Group} Group\n * @typedef {import('../../types/index').Choices.Options} Options\n */\n\n/** @type {Partial<Options>} */\n\nvar USER_DEFAULTS = {};\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\n\nvar choices_Choices =\n/*#__PURE__*/\nfunction () {\n  choices_createClass(Choices, null, [{\n    key: \"defaults\",\n    get: function get() {\n      return Object.preventExtensions({\n        get options() {\n          return USER_DEFAULTS;\n        },\n\n        get templates() {\n          return TEMPLATES;\n        }\n\n      });\n    }\n    /**\n     * @param {string | HTMLInputElement | HTMLSelectElement} element\n     * @param {Partial<Options>} userConfig\n     */\n\n  }]);\n\n  function Choices(element, userConfig) {\n    var _this = this;\n\n    if (element === void 0) {\n      element = '[data-choice]';\n    }\n\n    if (userConfig === void 0) {\n      userConfig = {};\n    }\n\n    /** @type {Partial<Options>} */\n    this.config = cjs_default.a.all([DEFAULT_CONFIG, Choices.defaults.options, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n    // instead of concatenating with the default array\n    {\n      arrayMerge: function arrayMerge(_, sourceArray) {\n        return [].concat(sourceArray);\n      }\n    });\n    var invalidConfigOptions = diff(this.config, DEFAULT_CONFIG);\n\n    if (invalidConfigOptions.length) {\n      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n    }\n\n    var passedElement = typeof element === 'string' ? document.querySelector(element) : element;\n\n    if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {\n      throw TypeError('Expected one of the following types text|select-one|select-multiple');\n    }\n\n    this._isTextElement = passedElement.type === TEXT_TYPE;\n    this._isSelectOneElement = passedElement.type === SELECT_ONE_TYPE;\n    this._isSelectMultipleElement = passedElement.type === SELECT_MULTIPLE_TYPE;\n    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n    this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;\n\n    if (!['auto', 'always'].includes(this.config.renderSelectedChoices)) {\n      this.config.renderSelectedChoices = 'auto';\n    }\n\n    if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n      var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n      this.config.addItemFilter = re.test.bind(re);\n    }\n\n    if (this._isTextElement) {\n      this.passedElement = new WrappedInput({\n        element: passedElement,\n        classNames: this.config.classNames,\n        delimiter: this.config.delimiter\n      });\n    } else {\n      this.passedElement = new WrappedSelect({\n        element: passedElement,\n        classNames: this.config.classNames,\n        template: function template(data) {\n          return _this._templates.option(data);\n        }\n      });\n    }\n\n    this.initialised = false;\n    this._store = new store_Store();\n    this._initialState = {};\n    this._currentState = {};\n    this._prevState = {};\n    this._currentValue = '';\n    this._canSearch = this.config.searchEnabled;\n    this._isScrollingOnIe = false;\n    this._highlightPosition = 0;\n    this._wasTap = true;\n    this._placeholderValue = this._generatePlaceholderValue();\n    this._baseId = generateId(this.passedElement.element, 'choices-');\n    /**\n     * setting direction in cases where it's explicitly set on passedElement\n     * or when calculated direction is different from the document\n     * @type {HTMLElement['dir']}\n     */\n\n    this._direction = this.passedElement.dir;\n\n    if (!this._direction) {\n      var _window$getComputedSt = window.getComputedStyle(this.passedElement.element),\n          elementDirection = _window$getComputedSt.direction;\n\n      var _window$getComputedSt2 = window.getComputedStyle(document.documentElement),\n          documentDirection = _window$getComputedSt2.direction;\n\n      if (elementDirection !== documentDirection) {\n        this._direction = elementDirection;\n      }\n    }\n\n    this._idNames = {\n      itemChoice: 'item-choice'\n    }; // Assign preset groups from passed element\n\n    this._presetGroups = this.passedElement.optionGroups; // Assign preset options from passed element\n\n    this._presetOptions = this.passedElement.options; // Assign preset choices from passed object\n\n    this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n    this._presetItems = this.config.items; // Add any values passed from attribute\n\n    if (this.passedElement.value) {\n      this._presetItems = this._presetItems.concat(this.passedElement.value.split(this.config.delimiter));\n    } // Create array of choices from option elements\n\n\n    if (this.passedElement.options) {\n      this.passedElement.options.forEach(function (o) {\n        _this._presetChoices.push({\n          value: o.value,\n          label: o.innerHTML,\n          selected: o.selected,\n          disabled: o.disabled || o.parentNode.disabled,\n          placeholder: o.value === '' || o.hasAttribute('placeholder'),\n          customProperties: o.getAttribute('data-custom-properties')\n        });\n      });\n    }\n\n    this._render = this._render.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._onKeyUp = this._onKeyUp.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseOver = this._onMouseOver.bind(this);\n    this._onFormReset = this._onFormReset.bind(this);\n    this._onAKey = this._onAKey.bind(this);\n    this._onEnterKey = this._onEnterKey.bind(this);\n    this._onEscapeKey = this._onEscapeKey.bind(this);\n    this._onDirectionKey = this._onDirectionKey.bind(this);\n    this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n    if (this.passedElement.isActive) {\n      if (!this.config.silent) {\n        console.warn('Trying to initialise Choices on element already initialised');\n      }\n\n      this.initialised = true;\n      return;\n    } // Let's go\n\n\n    this.init();\n  }\n\n  var _proto = Choices.prototype;\n\n  _proto.init = function init() {\n    if (this.initialised) {\n      return;\n    }\n\n    this._createTemplates();\n\n    this._createElements();\n\n    this._createStructure(); // Set initial state (We need to clone the state because some reducers\n    // modify the inner objects properties in the state) 🤢\n\n\n    this._initialState = cloneObject(this._store.state);\n\n    this._store.subscribe(this._render);\n\n    this._render();\n\n    this._addEventListeners();\n\n    var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n    if (shouldDisable) {\n      this.disable();\n    }\n\n    this.initialised = true;\n    var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n    if (callbackOnInit && typeof callbackOnInit === 'function') {\n      callbackOnInit.call(this);\n    }\n  };\n\n  _proto.destroy = function destroy() {\n    if (!this.initialised) {\n      return;\n    }\n\n    this._removeEventListeners();\n\n    this.passedElement.reveal();\n    this.containerOuter.unwrap(this.passedElement.element);\n    this.clearStore();\n\n    if (this._isSelectElement) {\n      this.passedElement.options = this._presetOptions;\n    }\n\n    this._templates = null;\n    this.initialised = false;\n  };\n\n  _proto.enable = function enable() {\n    if (this.passedElement.isDisabled) {\n      this.passedElement.enable();\n    }\n\n    if (this.containerOuter.isDisabled) {\n      this._addEventListeners();\n\n      this.input.enable();\n      this.containerOuter.enable();\n    }\n\n    return this;\n  };\n\n  _proto.disable = function disable() {\n    if (!this.passedElement.isDisabled) {\n      this.passedElement.disable();\n    }\n\n    if (!this.containerOuter.isDisabled) {\n      this._removeEventListeners();\n\n      this.input.disable();\n      this.containerOuter.disable();\n    }\n\n    return this;\n  };\n\n  _proto.highlightItem = function highlightItem(item, runEvent) {\n    if (runEvent === void 0) {\n      runEvent = true;\n    }\n\n    if (!item) {\n      return this;\n    }\n\n    var id = item.id,\n        _item$groupId = item.groupId,\n        groupId = _item$groupId === void 0 ? -1 : _item$groupId,\n        _item$value = item.value,\n        value = _item$value === void 0 ? '' : _item$value,\n        _item$label = item.label,\n        label = _item$label === void 0 ? '' : _item$label;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch(items_highlightItem(id, true));\n\n    if (runEvent) {\n      this.passedElement.triggerEvent(EVENTS.highlightItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group && group.value ? group.value : null\n      });\n    }\n\n    return this;\n  };\n\n  _proto.unhighlightItem = function unhighlightItem(item) {\n    if (!item) {\n      return this;\n    }\n\n    var id = item.id,\n        _item$groupId2 = item.groupId,\n        groupId = _item$groupId2 === void 0 ? -1 : _item$groupId2,\n        _item$value2 = item.value,\n        value = _item$value2 === void 0 ? '' : _item$value2,\n        _item$label2 = item.label,\n        label = _item$label2 === void 0 ? '' : _item$label2;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch(items_highlightItem(id, false));\n\n    this.passedElement.triggerEvent(EVENTS.highlightItem, {\n      id: id,\n      value: value,\n      label: label,\n      groupValue: group && group.value ? group.value : null\n    });\n    return this;\n  };\n\n  _proto.highlightAll = function highlightAll() {\n    var _this2 = this;\n\n    this._store.items.forEach(function (item) {\n      return _this2.highlightItem(item);\n    });\n\n    return this;\n  };\n\n  _proto.unhighlightAll = function unhighlightAll() {\n    var _this3 = this;\n\n    this._store.items.forEach(function (item) {\n      return _this3.unhighlightItem(item);\n    });\n\n    return this;\n  };\n\n  _proto.removeActiveItemsByValue = function removeActiveItemsByValue(value) {\n    var _this4 = this;\n\n    this._store.activeItems.filter(function (item) {\n      return item.value === value;\n    }).forEach(function (item) {\n      return _this4._removeItem(item);\n    });\n\n    return this;\n  };\n\n  _proto.removeActiveItems = function removeActiveItems(excludedId) {\n    var _this5 = this;\n\n    this._store.activeItems.filter(function (_ref) {\n      var id = _ref.id;\n      return id !== excludedId;\n    }).forEach(function (item) {\n      return _this5._removeItem(item);\n    });\n\n    return this;\n  };\n\n  _proto.removeHighlightedItems = function removeHighlightedItems(runEvent) {\n    var _this6 = this;\n\n    if (runEvent === void 0) {\n      runEvent = false;\n    }\n\n    this._store.highlightedActiveItems.forEach(function (item) {\n      _this6._removeItem(item); // If this action was performed by the user\n      // trigger the event\n\n\n      if (runEvent) {\n        _this6._triggerChange(item.value);\n      }\n    });\n\n    return this;\n  };\n\n  _proto.showDropdown = function showDropdown(preventInputFocus) {\n    var _this7 = this;\n\n    if (this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this7.dropdown.show();\n\n      _this7.containerOuter.open(_this7.dropdown.distanceFromTopWindow);\n\n      if (!preventInputFocus && _this7._canSearch) {\n        _this7.input.focus();\n      }\n\n      _this7.passedElement.triggerEvent(EVENTS.showDropdown, {});\n    });\n    return this;\n  };\n\n  _proto.hideDropdown = function hideDropdown(preventInputBlur) {\n    var _this8 = this;\n\n    if (!this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this8.dropdown.hide();\n\n      _this8.containerOuter.close();\n\n      if (!preventInputBlur && _this8._canSearch) {\n        _this8.input.removeActiveDescendant();\n\n        _this8.input.blur();\n      }\n\n      _this8.passedElement.triggerEvent(EVENTS.hideDropdown, {});\n    });\n    return this;\n  };\n\n  _proto.getValue = function getValue(valueOnly) {\n    if (valueOnly === void 0) {\n      valueOnly = false;\n    }\n\n    var values = this._store.activeItems.reduce(function (selectedItems, item) {\n      var itemValue = valueOnly ? item.value : item;\n      selectedItems.push(itemValue);\n      return selectedItems;\n    }, []);\n\n    return this._isSelectOneElement ? values[0] : values;\n  }\n  /**\n   * @param {string[] | import('../../types/index').Choices.Item[]} items\n   */\n  ;\n\n  _proto.setValue = function setValue(items) {\n    var _this9 = this;\n\n    if (!this.initialised) {\n      return this;\n    }\n\n    items.forEach(function (value) {\n      return _this9._setChoiceOrItem(value);\n    });\n    return this;\n  };\n\n  _proto.setChoiceByValue = function setChoiceByValue(value) {\n    var _this10 = this;\n\n    if (!this.initialised || this._isTextElement) {\n      return this;\n    } // If only one value has been passed, convert to array\n\n\n    var choiceValue = Array.isArray(value) ? value : [value]; // Loop through each value and\n\n    choiceValue.forEach(function (val) {\n      return _this10._findAndSelectChoiceByValue(val);\n    });\n    return this;\n  }\n  /**\n   * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n   * a value field name and a label field name.\n   * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n   * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n   * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n   *\n   * **Input types affected:** select-one, select-multiple\n   *\n   * @template {Choice[] | ((instance: Choices) => object[] | Promise<object[]>)} T\n   * @param {T} [choicesArrayOrFetcher]\n   * @param {string} [value = 'value'] - name of `value` field\n   * @param {string} [label = 'label'] - name of 'label' field\n   * @param {boolean} [replaceChoices = false] - whether to replace of add choices\n   * @returns {this | Promise<this>}\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([\n   *   {value: 'One', label: 'Label One', disabled: true},\n   *   {value: 'Two', label: 'Label Two', selected: true},\n   *   {value: 'Three', label: 'Label Three'},\n   * ], 'value', 'label', false);\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices(async () => {\n   *   try {\n   *      const items = await fetch('/items');\n   *      return items.json()\n   *   } catch(err) {\n   *      console.error(err)\n   *   }\n   * });\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([{\n   *   label: 'Group one',\n   *   id: 1,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child One', label: 'Child One', selected: true},\n   *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n   *     {value: 'Child Three', label: 'Child Three'},\n   *   ]\n   * },\n   * {\n   *   label: 'Group two',\n   *   id: 2,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child Four', label: 'Child Four', disabled: true},\n   *     {value: 'Child Five', label: 'Child Five'},\n   *     {value: 'Child Six', label: 'Child Six', customProperties: {\n   *       description: 'Custom description about child six',\n   *       random: 'Another random custom property'\n   *     }},\n   *   ]\n   * }], 'value', 'label', false);\n   * ```\n   */\n  ;\n\n  _proto.setChoices = function setChoices(choicesArrayOrFetcher, value, label, replaceChoices) {\n    var _this11 = this;\n\n    if (choicesArrayOrFetcher === void 0) {\n      choicesArrayOrFetcher = [];\n    }\n\n    if (value === void 0) {\n      value = 'value';\n    }\n\n    if (label === void 0) {\n      label = 'label';\n    }\n\n    if (replaceChoices === void 0) {\n      replaceChoices = false;\n    }\n\n    if (!this.initialised) {\n      throw new ReferenceError(\"setChoices was called on a non-initialized instance of Choices\");\n    }\n\n    if (!this._isSelectElement) {\n      throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n    }\n\n    if (typeof value !== 'string' || !value) {\n      throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n    } // Clear choices if needed\n\n\n    if (replaceChoices) {\n      this.clearChoices();\n    }\n\n    if (typeof choicesArrayOrFetcher === 'function') {\n      // it's a choices fetcher function\n      var fetcher = choicesArrayOrFetcher(this);\n\n      if (typeof Promise === 'function' && fetcher instanceof Promise) {\n        // that's a promise\n        // eslint-disable-next-line compat/compat\n        return new Promise(function (resolve) {\n          return requestAnimationFrame(resolve);\n        }).then(function () {\n          return _this11._handleLoadingState(true);\n        }).then(function () {\n          return fetcher;\n        }).then(function (data) {\n          return _this11.setChoices(data, value, label, replaceChoices);\n        }).catch(function (err) {\n          if (!_this11.config.silent) {\n            console.error(err);\n          }\n        }).then(function () {\n          return _this11._handleLoadingState(false);\n        }).then(function () {\n          return _this11;\n        });\n      } // function returned something else than promise, let's check if it's an array of choices\n\n\n      if (!Array.isArray(fetcher)) {\n        throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \" + typeof fetcher);\n      } // recursion with results, it's sync and choices were cleared already\n\n\n      return this.setChoices(fetcher, value, label, false);\n    }\n\n    if (!Array.isArray(choicesArrayOrFetcher)) {\n      throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n    }\n\n    this.containerOuter.removeLoadingState();\n\n    this._startLoading();\n\n    choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n      if (groupOrChoice.choices) {\n        _this11._addGroup({\n          id: parseInt(groupOrChoice.id, 10) || null,\n          group: groupOrChoice,\n          valueKey: value,\n          labelKey: label\n        });\n      } else {\n        _this11._addChoice({\n          value: groupOrChoice[value],\n          label: groupOrChoice[label],\n          isSelected: groupOrChoice.selected,\n          isDisabled: groupOrChoice.disabled,\n          customProperties: groupOrChoice.customProperties,\n          placeholder: groupOrChoice.placeholder\n        });\n      }\n    });\n\n    this._stopLoading();\n\n    return this;\n  };\n\n  _proto.clearChoices = function clearChoices() {\n    this._store.dispatch(choices_clearChoices());\n\n    return this;\n  };\n\n  _proto.clearStore = function clearStore() {\n    this._store.dispatch(clearAll());\n\n    return this;\n  };\n\n  _proto.clearInput = function clearInput() {\n    var shouldSetInputWidth = !this._isSelectOneElement;\n    this.input.clear(shouldSetInputWidth);\n\n    if (!this._isTextElement && this._canSearch) {\n      this._isSearching = false;\n\n      this._store.dispatch(choices_activateChoices(true));\n    }\n\n    return this;\n  };\n\n  _proto._render = function _render() {\n    if (this._store.isLoading()) {\n      return;\n    }\n\n    this._currentState = this._store.state;\n    var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n    var shouldRenderChoices = this._isSelectElement;\n    var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n    if (!stateChanged) {\n      return;\n    }\n\n    if (shouldRenderChoices) {\n      this._renderChoices();\n    }\n\n    if (shouldRenderItems) {\n      this._renderItems();\n    }\n\n    this._prevState = this._currentState;\n  };\n\n  _proto._renderChoices = function _renderChoices() {\n    var _this12 = this;\n\n    var _this$_store = this._store,\n        activeGroups = _this$_store.activeGroups,\n        activeChoices = _this$_store.activeChoices;\n    var choiceListFragment = document.createDocumentFragment();\n    this.choiceList.clear();\n\n    if (this.config.resetScrollPosition) {\n      requestAnimationFrame(function () {\n        return _this12.choiceList.scrollToTop();\n      });\n    } // If we have grouped options\n\n\n    if (activeGroups.length >= 1 && !this._isSearching) {\n      // If we have a placeholder choice along with groups\n      var activePlaceholders = activeChoices.filter(function (activeChoice) {\n        return activeChoice.placeholder === true && activeChoice.groupId === -1;\n      });\n\n      if (activePlaceholders.length >= 1) {\n        choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n      }\n\n      choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n    } else if (activeChoices.length >= 1) {\n      choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n    } // If we have choices to show\n\n\n    if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n      var activeItems = this._store.activeItems;\n\n      var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n      if (canAddItem.response) {\n        // ...append them and highlight the first choice\n        this.choiceList.append(choiceListFragment);\n\n        this._highlightChoice();\n      } else {\n        // ...otherwise show a notice\n        this.choiceList.append(this._getTemplate('notice', canAddItem.notice));\n      }\n    } else {\n      // Otherwise show a notice\n      var dropdownItem;\n      var notice;\n\n      if (this._isSearching) {\n        notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-results');\n      } else {\n        notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n      }\n\n      this.choiceList.append(dropdownItem);\n    }\n  };\n\n  _proto._renderItems = function _renderItems() {\n    var activeItems = this._store.activeItems || [];\n    this.itemList.clear(); // Create a fragment to store our list items\n    // (so we don't have to update the DOM for each item)\n\n    var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n    if (itemListFragment.childNodes) {\n      this.itemList.append(itemListFragment);\n    }\n  };\n\n  _proto._createGroupsFragment = function _createGroupsFragment(groups, choices, fragment) {\n    var _this13 = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    var getGroupChoices = function getGroupChoices(group) {\n      return choices.filter(function (choice) {\n        if (_this13._isSelectOneElement) {\n          return choice.groupId === group.id;\n        }\n\n        return choice.groupId === group.id && (_this13.config.renderSelectedChoices === 'always' || !choice.selected);\n      });\n    }; // If sorting is enabled, filter groups\n\n\n    if (this.config.shouldSort) {\n      groups.sort(this.config.sorter);\n    }\n\n    groups.forEach(function (group) {\n      var groupChoices = getGroupChoices(group);\n\n      if (groupChoices.length >= 1) {\n        var dropdownGroup = _this13._getTemplate('choiceGroup', group);\n\n        fragment.appendChild(dropdownGroup);\n\n        _this13._createChoicesFragment(groupChoices, fragment, true);\n      }\n    });\n    return fragment;\n  };\n\n  _proto._createChoicesFragment = function _createChoicesFragment(choices, fragment, withinGroup) {\n    var _this14 = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    if (withinGroup === void 0) {\n      withinGroup = false;\n    }\n\n    // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n    var _this$config = this.config,\n        renderSelectedChoices = _this$config.renderSelectedChoices,\n        searchResultLimit = _this$config.searchResultLimit,\n        renderChoiceLimit = _this$config.renderChoiceLimit;\n    var filter = this._isSearching ? sortByScore : this.config.sorter;\n\n    var appendChoice = function appendChoice(choice) {\n      var shouldRender = renderSelectedChoices === 'auto' ? _this14._isSelectOneElement || !choice.selected : true;\n\n      if (shouldRender) {\n        var dropdownItem = _this14._getTemplate('choice', choice, _this14.config.itemSelectText);\n\n        fragment.appendChild(dropdownItem);\n      }\n    };\n\n    var rendererableChoices = choices;\n\n    if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n      rendererableChoices = choices.filter(function (choice) {\n        return !choice.selected;\n      });\n    } // Split array into placeholders and \"normal\" choices\n\n\n    var _rendererableChoices$ = rendererableChoices.reduce(function (acc, choice) {\n      if (choice.placeholder) {\n        acc.placeholderChoices.push(choice);\n      } else {\n        acc.normalChoices.push(choice);\n      }\n\n      return acc;\n    }, {\n      placeholderChoices: [],\n      normalChoices: []\n    }),\n        placeholderChoices = _rendererableChoices$.placeholderChoices,\n        normalChoices = _rendererableChoices$.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort || this._isSearching) {\n      normalChoices.sort(filter);\n    }\n\n    var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n    var sortedChoices = this._isSelectOneElement ? [].concat(placeholderChoices, normalChoices) : normalChoices;\n\n    if (this._isSearching) {\n      choiceLimit = searchResultLimit;\n    } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {\n      choiceLimit = renderChoiceLimit;\n    } // Add each choice to dropdown within range\n\n\n    for (var i = 0; i < choiceLimit; i += 1) {\n      if (sortedChoices[i]) {\n        appendChoice(sortedChoices[i]);\n      }\n    }\n\n    return fragment;\n  };\n\n  _proto._createItemsFragment = function _createItemsFragment(items, fragment) {\n    var _this15 = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    // Create fragment to add elements to\n    var _this$config2 = this.config,\n        shouldSortItems = _this$config2.shouldSortItems,\n        sorter = _this$config2.sorter,\n        removeItemButton = _this$config2.removeItemButton; // If sorting is enabled, filter items\n\n    if (shouldSortItems && !this._isSelectOneElement) {\n      items.sort(sorter);\n    }\n\n    if (this._isTextElement) {\n      // Update the value of the hidden input\n      this.passedElement.value = items;\n    } else {\n      // Update the options of the hidden input\n      this.passedElement.options = items;\n    }\n\n    var addItemToFragment = function addItemToFragment(item) {\n      // Create new list element\n      var listItem = _this15._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n      fragment.appendChild(listItem);\n    }; // Add each list item to list\n\n\n    items.forEach(addItemToFragment);\n    return fragment;\n  };\n\n  _proto._triggerChange = function _triggerChange(value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    this.passedElement.triggerEvent(EVENTS.change, {\n      value: value\n    });\n  };\n\n  _proto._selectPlaceholderChoice = function _selectPlaceholderChoice() {\n    var placeholderChoice = this._store.placeholderChoice;\n\n    if (placeholderChoice) {\n      this._addItem({\n        value: placeholderChoice.value,\n        label: placeholderChoice.label,\n        choiceId: placeholderChoice.id,\n        groupId: placeholderChoice.groupId,\n        placeholder: placeholderChoice.placeholder\n      });\n\n      this._triggerChange(placeholderChoice.value);\n    }\n  };\n\n  _proto._handleButtonAction = function _handleButtonAction(activeItems, element) {\n    if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n      return;\n    }\n\n    var itemId = element.parentNode.getAttribute('data-id');\n    var itemToRemove = activeItems.find(function (item) {\n      return item.id === parseInt(itemId, 10);\n    }); // Remove item associated with button\n\n    this._removeItem(itemToRemove);\n\n    this._triggerChange(itemToRemove.value);\n\n    if (this._isSelectOneElement) {\n      this._selectPlaceholderChoice();\n    }\n  };\n\n  _proto._handleItemAction = function _handleItemAction(activeItems, element, hasShiftKey) {\n    var _this16 = this;\n\n    if (hasShiftKey === void 0) {\n      hasShiftKey = false;\n    }\n\n    if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n      return;\n    }\n\n    var passedId = element.getAttribute('data-id'); // We only want to select one item with a click\n    // so we deselect any items that aren't the target\n    // unless shift is being pressed\n\n    activeItems.forEach(function (item) {\n      if (item.id === parseInt(passedId, 10) && !item.highlighted) {\n        _this16.highlightItem(item);\n      } else if (!hasShiftKey && item.highlighted) {\n        _this16.unhighlightItem(item);\n      }\n    }); // Focus input as without focus, a user cannot do anything with a\n    // highlighted item\n\n    this.input.focus();\n  };\n\n  _proto._handleChoiceAction = function _handleChoiceAction(activeItems, element) {\n    if (!activeItems || !element) {\n      return;\n    } // If we are clicking on an option\n\n\n    var id = element.dataset.id;\n\n    var choice = this._store.getChoiceById(id);\n\n    if (!choice) {\n      return;\n    }\n\n    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : null;\n    var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n    choice.keyCode = passedKeyCode;\n    this.passedElement.triggerEvent(EVENTS.choice, {\n      choice: choice\n    });\n\n    if (!choice.selected && !choice.disabled) {\n      var canAddItem = this._canAddItem(activeItems, choice.value);\n\n      if (canAddItem.response) {\n        this._addItem({\n          value: choice.value,\n          label: choice.label,\n          choiceId: choice.id,\n          groupId: choice.groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder,\n          keyCode: choice.keyCode\n        });\n\n        this._triggerChange(choice.value);\n      }\n    }\n\n    this.clearInput(); // We want to close the dropdown if we are dealing with a single select box\n\n    if (hasActiveDropdown && this._isSelectOneElement) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  _proto._handleBackspace = function _handleBackspace(activeItems) {\n    if (!this.config.removeItems || !activeItems) {\n      return;\n    }\n\n    var lastItem = activeItems[activeItems.length - 1];\n    var hasHighlightedItems = activeItems.some(function (item) {\n      return item.highlighted;\n    }); // If editing the last item is allowed and there are not other selected items,\n    // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n    if (this.config.editItems && !hasHighlightedItems && lastItem) {\n      this.input.value = lastItem.value;\n      this.input.setWidth();\n\n      this._removeItem(lastItem);\n\n      this._triggerChange(lastItem.value);\n    } else {\n      if (!hasHighlightedItems) {\n        // Highlight last item if none already highlighted\n        this.highlightItem(lastItem, false);\n      }\n\n      this.removeHighlightedItems(true);\n    }\n  };\n\n  _proto._startLoading = function _startLoading() {\n    this._store.dispatch(setIsLoading(true));\n  };\n\n  _proto._stopLoading = function _stopLoading() {\n    this._store.dispatch(setIsLoading(false));\n  };\n\n  _proto._handleLoadingState = function _handleLoadingState(setLoading) {\n    if (setLoading === void 0) {\n      setLoading = true;\n    }\n\n    var placeholderItem = this.itemList.getChild(\".\" + this.config.classNames.placeholder);\n\n    if (setLoading) {\n      this.disable();\n      this.containerOuter.addLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (!placeholderItem) {\n          placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n          this.itemList.append(placeholderItem);\n        } else {\n          placeholderItem.innerHTML = this.config.loadingText;\n        }\n      } else {\n        this.input.placeholder = this.config.loadingText;\n      }\n    } else {\n      this.enable();\n      this.containerOuter.removeLoadingState();\n\n      if (this._isSelectOneElement) {\n        placeholderItem.innerHTML = this._placeholderValue || '';\n      } else {\n        this.input.placeholder = this._placeholderValue || '';\n      }\n    }\n  };\n\n  _proto._handleSearch = function _handleSearch(value) {\n    if (!value || !this.input.isFocussed) {\n      return;\n    }\n\n    var choices = this._store.choices;\n    var _this$config3 = this.config,\n        searchFloor = _this$config3.searchFloor,\n        searchChoices = _this$config3.searchChoices;\n    var hasUnactiveChoices = choices.some(function (option) {\n      return !option.active;\n    }); // Check that we have a value to search and the input was an alphanumeric character\n\n    if (value && value.length >= searchFloor) {\n      var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n      this.passedElement.triggerEvent(EVENTS.search, {\n        value: value,\n        resultCount: resultCount\n      });\n    } else if (hasUnactiveChoices) {\n      // Otherwise reset choices to active\n      this._isSearching = false;\n\n      this._store.dispatch(choices_activateChoices(true));\n    }\n  };\n\n  _proto._canAddItem = function _canAddItem(activeItems, value) {\n    var canAddItem = true;\n    var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;\n\n    if (!this._isSelectOneElement) {\n      var isDuplicateValue = existsInArray(activeItems, value);\n\n      if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n        // If there is a max entry limit and we have reached that limit\n        // don't update\n        canAddItem = false;\n        notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n      }\n\n      if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n        canAddItem = false;\n        notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n      }\n\n      if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {\n        canAddItem = false;\n        notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;\n      }\n    }\n\n    return {\n      response: canAddItem,\n      notice: notice\n    };\n  };\n\n  _proto._searchChoices = function _searchChoices(value) {\n    var newValue = typeof value === 'string' ? value.trim() : value;\n    var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;\n\n    if (newValue.length < 1 && newValue === currentValue + \" \") {\n      return 0;\n    } // If new value matches the desired length and is not the same as the current value with a space\n\n\n    var haystack = this._store.searchableChoices;\n    var needle = newValue;\n    var keys = [].concat(this.config.searchFields);\n    var options = Object.assign(this.config.fuseOptions, {\n      keys: keys\n    });\n    var fuse = new fuse_default.a(haystack, options);\n    var results = fuse.search(needle);\n    this._currentValue = newValue;\n    this._highlightPosition = 0;\n    this._isSearching = true;\n\n    this._store.dispatch(choices_filterChoices(results));\n\n    return results.length;\n  };\n\n  _proto._addEventListeners = function _addEventListeners() {\n    var _document = document,\n        documentElement = _document.documentElement; // capture events - can cancel event processing or propagation\n\n    documentElement.addEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true); // passive events - doesn't call `preventDefault` or `stopPropagation`\n\n    documentElement.addEventListener('click', this._onClick, {\n      passive: true\n    });\n    documentElement.addEventListener('touchmove', this._onTouchMove, {\n      passive: true\n    });\n    this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n      passive: true\n    });\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.addEventListener('focus', this._onFocus, {\n        passive: true\n      });\n      this.containerOuter.element.addEventListener('blur', this._onBlur, {\n        passive: true\n      });\n    }\n\n    this.input.element.addEventListener('keyup', this._onKeyUp, {\n      passive: true\n    });\n    this.input.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.input.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n\n    if (this.input.element.form) {\n      this.input.element.form.addEventListener('reset', this._onFormReset, {\n        passive: true\n      });\n    }\n\n    this.input.addEventListeners();\n  };\n\n  _proto._removeEventListeners = function _removeEventListeners() {\n    var _document2 = document,\n        documentElement = _document2.documentElement;\n    documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);\n    documentElement.removeEventListener('click', this._onClick);\n    documentElement.removeEventListener('touchmove', this._onTouchMove);\n    this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.removeEventListener('focus', this._onFocus);\n      this.containerOuter.element.removeEventListener('blur', this._onBlur);\n    }\n\n    this.input.element.removeEventListener('keyup', this._onKeyUp);\n    this.input.element.removeEventListener('focus', this._onFocus);\n    this.input.element.removeEventListener('blur', this._onBlur);\n\n    if (this.input.element.form) {\n      this.input.element.form.removeEventListener('reset', this._onFormReset);\n    }\n\n    this.input.removeEventListeners();\n  }\n  /**\n   * @param {KeyboardEvent} event\n   */\n  ;\n\n  _proto._onKeyDown = function _onKeyDown(event) {\n    var _keyDownActions;\n\n    var target = event.target,\n        keyCode = event.keyCode,\n        ctrlKey = event.ctrlKey,\n        metaKey = event.metaKey;\n    var activeItems = this._store.activeItems;\n    var hasFocusedInput = this.input.isFocussed;\n    var hasActiveDropdown = this.dropdown.isActive;\n    var hasItems = this.itemList.hasChildren();\n    var keyString = String.fromCharCode(keyCode);\n    var BACK_KEY = KEY_CODES.BACK_KEY,\n        DELETE_KEY = KEY_CODES.DELETE_KEY,\n        ENTER_KEY = KEY_CODES.ENTER_KEY,\n        A_KEY = KEY_CODES.A_KEY,\n        ESC_KEY = KEY_CODES.ESC_KEY,\n        UP_KEY = KEY_CODES.UP_KEY,\n        DOWN_KEY = KEY_CODES.DOWN_KEY,\n        PAGE_UP_KEY = KEY_CODES.PAGE_UP_KEY,\n        PAGE_DOWN_KEY = KEY_CODES.PAGE_DOWN_KEY;\n    var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If a user is typing and the dropdown is not active\n\n    if (!this._isTextElement && /[a-zA-Z0-9-_ ]/.test(keyString)) {\n      this.showDropdown();\n    } // Map keys to key actions\n\n\n    var keyDownActions = (_keyDownActions = {}, _keyDownActions[A_KEY] = this._onAKey, _keyDownActions[ENTER_KEY] = this._onEnterKey, _keyDownActions[ESC_KEY] = this._onEscapeKey, _keyDownActions[UP_KEY] = this._onDirectionKey, _keyDownActions[PAGE_UP_KEY] = this._onDirectionKey, _keyDownActions[DOWN_KEY] = this._onDirectionKey, _keyDownActions[PAGE_DOWN_KEY] = this._onDirectionKey, _keyDownActions[DELETE_KEY] = this._onDeleteKey, _keyDownActions[BACK_KEY] = this._onDeleteKey, _keyDownActions); // If keycode has a function, run it\n\n    if (keyDownActions[keyCode]) {\n      keyDownActions[keyCode]({\n        event: event,\n        target: target,\n        keyCode: keyCode,\n        metaKey: metaKey,\n        activeItems: activeItems,\n        hasFocusedInput: hasFocusedInput,\n        hasActiveDropdown: hasActiveDropdown,\n        hasItems: hasItems,\n        hasCtrlDownKeyPressed: hasCtrlDownKeyPressed\n      });\n    }\n  };\n\n  _proto._onKeyUp = function _onKeyUp(_ref2) {\n    var target = _ref2.target,\n        keyCode = _ref2.keyCode;\n    var value = this.input.value;\n    var activeItems = this._store.activeItems;\n\n    var canAddItem = this._canAddItem(activeItems, value);\n\n    var backKey = KEY_CODES.BACK_KEY,\n        deleteKey = KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n    // notice. Otherwise hide the dropdown\n\n    if (this._isTextElement) {\n      var canShowDropdownNotice = canAddItem.notice && value;\n\n      if (canShowDropdownNotice) {\n        var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n        this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n        this.showDropdown(true);\n      } else {\n        this.hideDropdown(true);\n      }\n    } else {\n      var userHasRemovedValue = (keyCode === backKey || keyCode === deleteKey) && !target.value;\n      var canReactivateChoices = !this._isTextElement && this._isSearching;\n      var canSearch = this._canSearch && canAddItem.response;\n\n      if (userHasRemovedValue && canReactivateChoices) {\n        this._isSearching = false;\n\n        this._store.dispatch(choices_activateChoices(true));\n      } else if (canSearch) {\n        this._handleSearch(this.input.value);\n      }\n    }\n\n    this._canSearch = this.config.searchEnabled;\n  };\n\n  _proto._onAKey = function _onAKey(_ref3) {\n    var hasItems = _ref3.hasItems,\n        hasCtrlDownKeyPressed = _ref3.hasCtrlDownKeyPressed;\n\n    // If CTRL + A or CMD + A have been pressed and there are items to select\n    if (hasCtrlDownKeyPressed && hasItems) {\n      this._canSearch = false;\n      var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n      if (shouldHightlightAll) {\n        this.highlightAll();\n      }\n    }\n  };\n\n  _proto._onEnterKey = function _onEnterKey(_ref4) {\n    var event = _ref4.event,\n        target = _ref4.target,\n        activeItems = _ref4.activeItems,\n        hasActiveDropdown = _ref4.hasActiveDropdown;\n    var enterKey = KEY_CODES.ENTER_KEY;\n    var targetWasButton = target.hasAttribute('data-button');\n\n    if (this._isTextElement && target.value) {\n      var value = this.input.value;\n\n      var canAddItem = this._canAddItem(activeItems, value);\n\n      if (canAddItem.response) {\n        this.hideDropdown(true);\n\n        this._addItem({\n          value: value\n        });\n\n        this._triggerChange(value);\n\n        this.clearInput();\n      }\n    }\n\n    if (targetWasButton) {\n      this._handleButtonAction(activeItems, target);\n\n      event.preventDefault();\n    }\n\n    if (hasActiveDropdown) {\n      var highlightedChoice = this.dropdown.getChild(\".\" + this.config.classNames.highlightedState);\n\n      if (highlightedChoice) {\n        // add enter keyCode value\n        if (activeItems[0]) {\n          activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n        }\n\n        this._handleChoiceAction(activeItems, highlightedChoice);\n      }\n\n      event.preventDefault();\n    } else if (this._isSelectOneElement) {\n      this.showDropdown();\n      event.preventDefault();\n    }\n  };\n\n  _proto._onEscapeKey = function _onEscapeKey(_ref5) {\n    var hasActiveDropdown = _ref5.hasActiveDropdown;\n\n    if (hasActiveDropdown) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  _proto._onDirectionKey = function _onDirectionKey(_ref6) {\n    var event = _ref6.event,\n        hasActiveDropdown = _ref6.hasActiveDropdown,\n        keyCode = _ref6.keyCode,\n        metaKey = _ref6.metaKey;\n    var downKey = KEY_CODES.DOWN_KEY,\n        pageUpKey = KEY_CODES.PAGE_UP_KEY,\n        pageDownKey = KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n    if (hasActiveDropdown || this._isSelectOneElement) {\n      this.showDropdown();\n      this._canSearch = false;\n      var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n      var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n      var selectableChoiceIdentifier = '[data-choice-selectable]';\n      var nextEl;\n\n      if (skipKey) {\n        if (directionInt > 0) {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier + \":last-of-type\");\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      } else {\n        var currentEl = this.dropdown.element.querySelector(\".\" + this.config.classNames.highlightedState);\n\n        if (currentEl) {\n          nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      }\n\n      if (nextEl) {\n        // We prevent default to stop the cursor moving\n        // when pressing the arrow\n        if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n          this.choiceList.scrollToChildElement(nextEl, directionInt);\n        }\n\n        this._highlightChoice(nextEl);\n      } // Prevent default to maintain cursor position whilst\n      // traversing dropdown options\n\n\n      event.preventDefault();\n    }\n  };\n\n  _proto._onDeleteKey = function _onDeleteKey(_ref7) {\n    var event = _ref7.event,\n        target = _ref7.target,\n        hasFocusedInput = _ref7.hasFocusedInput,\n        activeItems = _ref7.activeItems;\n\n    // If backspace or delete key is pressed and the input has no value\n    if (hasFocusedInput && !target.value && !this._isSelectOneElement) {\n      this._handleBackspace(activeItems);\n\n      event.preventDefault();\n    }\n  };\n\n  _proto._onTouchMove = function _onTouchMove() {\n    if (this._wasTap) {\n      this._wasTap = false;\n    }\n  };\n\n  _proto._onTouchEnd = function _onTouchEnd(event) {\n    var _ref8 = event || event.touches[0],\n        target = _ref8.target;\n\n    var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n    if (touchWasWithinContainer) {\n      var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n      if (containerWasExactTarget) {\n        if (this._isTextElement) {\n          this.input.focus();\n        } else if (this._isSelectMultipleElement) {\n          this.showDropdown();\n        }\n      } // Prevents focus event firing\n\n\n      event.stopPropagation();\n    }\n\n    this._wasTap = true;\n  }\n  /**\n   * Handles mousedown event in capture mode for containetOuter.element\n   * @param {MouseEvent} event\n   */\n  ;\n\n  _proto._onMouseDown = function _onMouseDown(event) {\n    var target = event.target;\n\n    if (!(target instanceof HTMLElement)) {\n      return;\n    } // If we have our mouse down on the scrollbar and are on IE11...\n\n\n    if (IS_IE11 && this.choiceList.element.contains(target)) {\n      // check if click was on a scrollbar area\n      var firstChoice =\n      /** @type {HTMLElement} */\n      this.choiceList.element.firstElementChild;\n      var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n      this._isScrollingOnIe = isOnScrollbar;\n    }\n\n    if (target === this.input.element) {\n      return;\n    }\n\n    var item = target.closest('[data-button],[data-item],[data-choice]');\n\n    if (item instanceof HTMLElement) {\n      var hasShiftKey = event.shiftKey;\n      var activeItems = this._store.activeItems;\n      var dataset = item.dataset;\n\n      if ('button' in dataset) {\n        this._handleButtonAction(activeItems, item);\n      } else if ('item' in dataset) {\n        this._handleItemAction(activeItems, item, hasShiftKey);\n      } else if ('choice' in dataset) {\n        this._handleChoiceAction(activeItems, item);\n      }\n    }\n\n    event.preventDefault();\n  }\n  /**\n   * Handles mouseover event over this.dropdown\n   * @param {MouseEvent} event\n   */\n  ;\n\n  _proto._onMouseOver = function _onMouseOver(_ref9) {\n    var target = _ref9.target;\n\n    if (target instanceof HTMLElement && 'choice' in target.dataset) {\n      this._highlightChoice(target);\n    }\n  };\n\n  _proto._onClick = function _onClick(_ref10) {\n    var target = _ref10.target;\n    var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (clickWasWithinContainer) {\n      if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n        if (this._isTextElement) {\n          if (document.activeElement !== this.input.element) {\n            this.input.focus();\n          }\n        } else {\n          this.showDropdown();\n          this.containerOuter.focus();\n        }\n      } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n        this.hideDropdown();\n      }\n    } else {\n      var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;\n\n      if (hasHighlightedItems) {\n        this.unhighlightAll();\n      }\n\n      this.containerOuter.removeFocusState();\n      this.hideDropdown(true);\n    }\n  };\n\n  _proto._onFocus = function _onFocus(_ref11) {\n    var _this17 = this,\n        _focusActions;\n\n    var target = _ref11.target;\n    var focusWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (!focusWasWithinContainer) {\n      return;\n    }\n\n    var focusActions = (_focusActions = {}, _focusActions[TEXT_TYPE] = function () {\n      if (target === _this17.input.element) {\n        _this17.containerOuter.addFocusState();\n      }\n    }, _focusActions[SELECT_ONE_TYPE] = function () {\n      _this17.containerOuter.addFocusState();\n\n      if (target === _this17.input.element) {\n        _this17.showDropdown(true);\n      }\n    }, _focusActions[SELECT_MULTIPLE_TYPE] = function () {\n      if (target === _this17.input.element) {\n        _this17.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n        // isn't already open, focus and show dropdown\n\n\n        _this17.containerOuter.addFocusState();\n      }\n    }, _focusActions);\n    focusActions[this.passedElement.element.type]();\n  };\n\n  _proto._onBlur = function _onBlur(_ref12) {\n    var _this18 = this;\n\n    var target = _ref12.target;\n    var blurWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (blurWasWithinContainer && !this._isScrollingOnIe) {\n      var _blurActions;\n\n      var activeItems = this._store.activeItems;\n      var hasHighlightedItems = activeItems.some(function (item) {\n        return item.highlighted;\n      });\n      var blurActions = (_blurActions = {}, _blurActions[TEXT_TYPE] = function () {\n        if (target === _this18.input.element) {\n          _this18.containerOuter.removeFocusState();\n\n          if (hasHighlightedItems) {\n            _this18.unhighlightAll();\n          }\n\n          _this18.hideDropdown(true);\n        }\n      }, _blurActions[SELECT_ONE_TYPE] = function () {\n        _this18.containerOuter.removeFocusState();\n\n        if (target === _this18.input.element || target === _this18.containerOuter.element && !_this18._canSearch) {\n          _this18.hideDropdown(true);\n        }\n      }, _blurActions[SELECT_MULTIPLE_TYPE] = function () {\n        if (target === _this18.input.element) {\n          _this18.containerOuter.removeFocusState();\n\n          _this18.hideDropdown(true);\n\n          if (hasHighlightedItems) {\n            _this18.unhighlightAll();\n          }\n        }\n      }, _blurActions);\n      blurActions[this.passedElement.element.type]();\n    } else {\n      // On IE11, clicking the scollbar blurs our input and thus\n      // closes the dropdown. To stop this, we refocus our input\n      // if we know we are on IE *and* are scrolling.\n      this._isScrollingOnIe = false;\n      this.input.element.focus();\n    }\n  };\n\n  _proto._onFormReset = function _onFormReset() {\n    this._store.dispatch(resetTo(this._initialState));\n  };\n\n  _proto._highlightChoice = function _highlightChoice(el) {\n    var _this19 = this;\n\n    if (el === void 0) {\n      el = null;\n    }\n\n    var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n    if (!choices.length) {\n      return;\n    }\n\n    var passedEl = el;\n    var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\" + this.config.classNames.highlightedState)); // Remove any highlighted choices\n\n    highlightedChoices.forEach(function (choice) {\n      choice.classList.remove(_this19.config.classNames.highlightedState);\n      choice.setAttribute('aria-selected', 'false');\n    });\n\n    if (passedEl) {\n      this._highlightPosition = choices.indexOf(passedEl);\n    } else {\n      // Highlight choice based on last known highlight location\n      if (choices.length > this._highlightPosition) {\n        // If we have an option to highlight\n        passedEl = choices[this._highlightPosition];\n      } else {\n        // Otherwise highlight the option before\n        passedEl = choices[choices.length - 1];\n      }\n\n      if (!passedEl) {\n        passedEl = choices[0];\n      }\n    }\n\n    passedEl.classList.add(this.config.classNames.highlightedState);\n    passedEl.setAttribute('aria-selected', 'true');\n    this.passedElement.triggerEvent(EVENTS.highlightChoice, {\n      el: passedEl\n    });\n\n    if (this.dropdown.isActive) {\n      // IE11 ignores aria-label and blocks virtual keyboard\n      // if aria-activedescendant is set without a dropdown\n      this.input.setActiveDescendant(passedEl.id);\n      this.containerOuter.setActiveDescendant(passedEl.id);\n    }\n  };\n\n  _proto._addItem = function _addItem(_ref13) {\n    var value = _ref13.value,\n        _ref13$label = _ref13.label,\n        label = _ref13$label === void 0 ? null : _ref13$label,\n        _ref13$choiceId = _ref13.choiceId,\n        choiceId = _ref13$choiceId === void 0 ? -1 : _ref13$choiceId,\n        _ref13$groupId = _ref13.groupId,\n        groupId = _ref13$groupId === void 0 ? -1 : _ref13$groupId,\n        _ref13$customProperti = _ref13.customProperties,\n        customProperties = _ref13$customProperti === void 0 ? null : _ref13$customProperti,\n        _ref13$placeholder = _ref13.placeholder,\n        placeholder = _ref13$placeholder === void 0 ? false : _ref13$placeholder,\n        _ref13$keyCode = _ref13.keyCode,\n        keyCode = _ref13$keyCode === void 0 ? null : _ref13$keyCode;\n    var passedValue = typeof value === 'string' ? value.trim() : value;\n    var passedKeyCode = keyCode;\n    var passedCustomProperties = customProperties;\n    var items = this._store.items;\n    var passedLabel = label || passedValue;\n    var passedOptionId = choiceId || -1;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n    var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n    if (this.config.prependValue) {\n      passedValue = this.config.prependValue + passedValue.toString();\n    } // If an appended value has been passed, append it\n\n\n    if (this.config.appendValue) {\n      passedValue += this.config.appendValue.toString();\n    }\n\n    this._store.dispatch(items_addItem({\n      value: passedValue,\n      label: passedLabel,\n      id: id,\n      choiceId: passedOptionId,\n      groupId: groupId,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: passedKeyCode\n    }));\n\n    if (this._isSelectOneElement) {\n      this.removeActiveItems(id);\n    } // Trigger change event\n\n\n    this.passedElement.triggerEvent(EVENTS.addItem, {\n      id: id,\n      value: passedValue,\n      label: passedLabel,\n      customProperties: passedCustomProperties,\n      groupValue: group && group.value ? group.value : undefined,\n      keyCode: passedKeyCode\n    });\n    return this;\n  };\n\n  _proto._removeItem = function _removeItem(item) {\n    if (!item || !isType('Object', item)) {\n      return this;\n    }\n\n    var id = item.id,\n        value = item.value,\n        label = item.label,\n        choiceId = item.choiceId,\n        groupId = item.groupId;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch(items_removeItem(id, choiceId));\n\n    if (group && group.value) {\n      this.passedElement.triggerEvent(EVENTS.removeItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group.value\n      });\n    } else {\n      this.passedElement.triggerEvent(EVENTS.removeItem, {\n        id: id,\n        value: value,\n        label: label\n      });\n    }\n\n    return this;\n  };\n\n  _proto._addChoice = function _addChoice(_ref14) {\n    var value = _ref14.value,\n        _ref14$label = _ref14.label,\n        label = _ref14$label === void 0 ? null : _ref14$label,\n        _ref14$isSelected = _ref14.isSelected,\n        isSelected = _ref14$isSelected === void 0 ? false : _ref14$isSelected,\n        _ref14$isDisabled = _ref14.isDisabled,\n        isDisabled = _ref14$isDisabled === void 0 ? false : _ref14$isDisabled,\n        _ref14$groupId = _ref14.groupId,\n        groupId = _ref14$groupId === void 0 ? -1 : _ref14$groupId,\n        _ref14$customProperti = _ref14.customProperties,\n        customProperties = _ref14$customProperti === void 0 ? null : _ref14$customProperti,\n        _ref14$placeholder = _ref14.placeholder,\n        placeholder = _ref14$placeholder === void 0 ? false : _ref14$placeholder,\n        _ref14$keyCode = _ref14.keyCode,\n        keyCode = _ref14$keyCode === void 0 ? null : _ref14$keyCode;\n\n    if (typeof value === 'undefined' || value === null) {\n      return;\n    } // Generate unique id\n\n\n    var choices = this._store.choices;\n    var choiceLabel = label || value;\n    var choiceId = choices ? choices.length + 1 : 1;\n    var choiceElementId = this._baseId + \"-\" + this._idNames.itemChoice + \"-\" + choiceId;\n\n    this._store.dispatch(choices_addChoice({\n      id: choiceId,\n      groupId: groupId,\n      elementId: choiceElementId,\n      value: value,\n      label: choiceLabel,\n      disabled: isDisabled,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (isSelected) {\n      this._addItem({\n        value: value,\n        label: choiceLabel,\n        choiceId: choiceId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: keyCode\n      });\n    }\n  };\n\n  _proto._addGroup = function _addGroup(_ref15) {\n    var _this20 = this;\n\n    var group = _ref15.group,\n        id = _ref15.id,\n        _ref15$valueKey = _ref15.valueKey,\n        valueKey = _ref15$valueKey === void 0 ? 'value' : _ref15$valueKey,\n        _ref15$labelKey = _ref15.labelKey,\n        labelKey = _ref15$labelKey === void 0 ? 'label' : _ref15$labelKey;\n    var groupChoices = isType('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n    var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n    var isDisabled = group.disabled ? group.disabled : false;\n\n    if (groupChoices) {\n      this._store.dispatch(groups_addGroup({\n        value: group.label,\n        id: groupId,\n        active: true,\n        disabled: isDisabled\n      }));\n\n      var addGroupChoices = function addGroupChoices(choice) {\n        var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n        _this20._addChoice({\n          value: choice[valueKey],\n          label: isType('Object', choice) ? choice[labelKey] : choice.innerHTML,\n          isSelected: choice.selected,\n          isDisabled: isOptDisabled,\n          groupId: groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder\n        });\n      };\n\n      groupChoices.forEach(addGroupChoices);\n    } else {\n      this._store.dispatch(groups_addGroup({\n        value: group.label,\n        id: group.id,\n        active: false,\n        disabled: group.disabled\n      }));\n    }\n  };\n\n  _proto._getTemplate = function _getTemplate(template) {\n    var _this$_templates$temp;\n\n    if (!template) {\n      return null;\n    }\n\n    var classNames = this.config.classNames;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return (_this$_templates$temp = this._templates[template]).call.apply(_this$_templates$temp, [this, classNames].concat(args));\n  };\n\n  _proto._createTemplates = function _createTemplates() {\n    var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n    var userTemplates = {};\n\n    if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {\n      userTemplates = callbackOnCreateTemplates.call(this, strToEl);\n    }\n\n    this._templates = cjs_default()(TEMPLATES, userTemplates);\n  };\n\n  _proto._createElements = function _createElements() {\n    this.containerOuter = new container_Container({\n      element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.containerInner = new container_Container({\n      element: this._getTemplate('containerInner'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.input = new input_Input({\n      element: this._getTemplate('input', this._placeholderValue),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      preventPaste: !this.config.paste\n    });\n    this.choiceList = new list_List({\n      element: this._getTemplate('choiceList', this._isSelectOneElement)\n    });\n    this.itemList = new list_List({\n      element: this._getTemplate('itemList', this._isSelectOneElement)\n    });\n    this.dropdown = new Dropdown({\n      element: this._getTemplate('dropdown'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type\n    });\n  };\n\n  _proto._createStructure = function _createStructure() {\n    // Hide original element\n    this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n    this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n    this.containerOuter.wrap(this.containerInner.element);\n\n    if (this._isSelectOneElement) {\n      this.input.placeholder = this.config.searchPlaceholderValue || '';\n    } else if (this._placeholderValue) {\n      this.input.placeholder = this._placeholderValue;\n      this.input.setWidth();\n    }\n\n    this.containerOuter.element.appendChild(this.containerInner.element);\n    this.containerOuter.element.appendChild(this.dropdown.element);\n    this.containerInner.element.appendChild(this.itemList.element);\n\n    if (!this._isTextElement) {\n      this.dropdown.element.appendChild(this.choiceList.element);\n    }\n\n    if (!this._isSelectOneElement) {\n      this.containerInner.element.appendChild(this.input.element);\n    } else if (this.config.searchEnabled) {\n      this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n    }\n\n    if (this._isSelectElement) {\n      this._highlightPosition = 0;\n      this._isSearching = false;\n\n      this._startLoading();\n\n      if (this._presetGroups.length) {\n        this._addPredefinedGroups(this._presetGroups);\n      } else {\n        this._addPredefinedChoices(this._presetChoices);\n      }\n\n      this._stopLoading();\n    }\n\n    if (this._isTextElement) {\n      this._addPredefinedItems(this._presetItems);\n    }\n  };\n\n  _proto._addPredefinedGroups = function _addPredefinedGroups(groups) {\n    var _this21 = this;\n\n    // If we have a placeholder option\n    var placeholderChoice = this.passedElement.placeholderOption;\n\n    if (placeholderChoice && placeholderChoice.parentNode.tagName === 'SELECT') {\n      this._addChoice({\n        value: placeholderChoice.value,\n        label: placeholderChoice.innerHTML,\n        isSelected: placeholderChoice.selected,\n        isDisabled: placeholderChoice.disabled,\n        placeholder: true\n      });\n    }\n\n    groups.forEach(function (group) {\n      return _this21._addGroup({\n        group: group,\n        id: group.id || null\n      });\n    });\n  };\n\n  _proto._addPredefinedChoices = function _addPredefinedChoices(choices) {\n    var _this22 = this;\n\n    // If sorting is enabled or the user is searching, filter choices\n    if (this.config.shouldSort) {\n      choices.sort(this.config.sorter);\n    }\n\n    var hasSelectedChoice = choices.some(function (choice) {\n      return choice.selected;\n    });\n    var firstEnabledChoiceIndex = choices.findIndex(function (choice) {\n      return choice.disabled === undefined || !choice.disabled;\n    });\n    choices.forEach(function (choice, index) {\n      var value = choice.value,\n          label = choice.label,\n          customProperties = choice.customProperties,\n          placeholder = choice.placeholder;\n\n      if (_this22._isSelectElement) {\n        // If the choice is actually a group\n        if (choice.choices) {\n          _this22._addGroup({\n            group: choice,\n            id: choice.id || null\n          });\n        } else {\n          /**\n           * If there is a selected choice already or the choice is not the first in\n           * the array, add each choice normally.\n           *\n           * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n           */\n          var shouldPreselect = _this22._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;\n          var isSelected = shouldPreselect ? true : choice.selected;\n          var isDisabled = choice.disabled;\n\n          _this22._addChoice({\n            value: value,\n            label: label,\n            isSelected: isSelected,\n            isDisabled: isDisabled,\n            customProperties: customProperties,\n            placeholder: placeholder\n          });\n        }\n      } else {\n        _this22._addChoice({\n          value: value,\n          label: label,\n          isSelected: choice.selected,\n          isDisabled: choice.disabled,\n          customProperties: customProperties,\n          placeholder: placeholder\n        });\n      }\n    });\n  }\n  /**\n   * @param {Item[]} items\n   */\n  ;\n\n  _proto._addPredefinedItems = function _addPredefinedItems(items) {\n    var _this23 = this;\n\n    items.forEach(function (item) {\n      if (typeof item === 'object' && item.value) {\n        _this23._addItem({\n          value: item.value,\n          label: item.label,\n          choiceId: item.id,\n          customProperties: item.customProperties,\n          placeholder: item.placeholder\n        });\n      }\n\n      if (typeof item === 'string') {\n        _this23._addItem({\n          value: item\n        });\n      }\n    });\n  };\n\n  _proto._setChoiceOrItem = function _setChoiceOrItem(item) {\n    var _this24 = this;\n\n    var itemType = getType(item).toLowerCase();\n    var handleType = {\n      object: function object() {\n        if (!item.value) {\n          return;\n        } // If we are dealing with a select input, we need to create an option first\n        // that is then selected. For text inputs we can just add items normally.\n\n\n        if (!_this24._isTextElement) {\n          _this24._addChoice({\n            value: item.value,\n            label: item.label,\n            isSelected: true,\n            isDisabled: false,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        } else {\n          _this24._addItem({\n            value: item.value,\n            label: item.label,\n            choiceId: item.id,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        }\n      },\n      string: function string() {\n        if (!_this24._isTextElement) {\n          _this24._addChoice({\n            value: item,\n            label: item,\n            isSelected: true,\n            isDisabled: false\n          });\n        } else {\n          _this24._addItem({\n            value: item\n          });\n        }\n      }\n    };\n    handleType[itemType]();\n  };\n\n  _proto._findAndSelectChoiceByValue = function _findAndSelectChoiceByValue(val) {\n    var _this25 = this;\n\n    var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n    var foundChoice = choices.find(function (choice) {\n      return _this25.config.valueComparer(choice.value, val);\n    });\n\n    if (foundChoice && !foundChoice.selected) {\n      this._addItem({\n        value: foundChoice.value,\n        label: foundChoice.label,\n        choiceId: foundChoice.id,\n        groupId: foundChoice.groupId,\n        customProperties: foundChoice.customProperties,\n        placeholder: foundChoice.placeholder,\n        keyCode: foundChoice.keyCode\n      });\n    }\n  };\n\n  _proto._generatePlaceholderValue = function _generatePlaceholderValue() {\n    if (this._isSelectElement) {\n      var placeholderOption = this.passedElement.placeholderOption;\n      return placeholderOption ? placeholderOption.text : false;\n    }\n\n    var _this$config4 = this.config,\n        placeholder = _this$config4.placeholder,\n        placeholderValue = _this$config4.placeholderValue;\n    var dataset = this.passedElement.element.dataset;\n\n    if (placeholder) {\n      if (placeholderValue) {\n        return placeholderValue;\n      }\n\n      if (dataset.placeholder) {\n        return dataset.placeholder;\n      }\n    }\n\n    return false;\n  };\n\n  return Choices;\n}();\n\n/* harmony default export */ var scripts_choices = __webpack_exports__[\"default\"] = (choices_Choices);\n\n/***/ })\n/******/ ])[\"default\"];\n});","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2020 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n   redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\r\n   undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\r\n   bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\r\n   underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\r\n   italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\r\n   strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\r\n   subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\r\n   superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\r\n   erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\r\n   indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\r\n   preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\r\n   print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\r\n   template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\r\n   line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\r\n   paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\r\n   text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\r\n   save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\r\n   arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\r\n   align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\r\n   highlight_color:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\r\n   list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\r\n   table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\r\n   show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\r\n   cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\r\n   video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\r\n   link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\r\n   math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\r\n   unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\r\n   edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\r\n   delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\r\n   revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\r\n   auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\r\n   insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\r\n   insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\r\n   insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\r\n   delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\r\n   delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\r\n   fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\r\n   rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\r\n   rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\r\n   mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\r\n   mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\r\n   checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\r\n   line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\r\n   audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\" /></svg>',\r\n   image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\r\n   // More icons\r\n   more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\r\n   more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\r\n   // Not currently used\r\n   attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\r\n   map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\r\n   magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\r\n   empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\r\n};","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n/**\r\n * @description utility function\r\n */\r\nconst util = {\r\n    _d: null,\r\n    _w: null,\r\n    isIE: null,\r\n    isIE_Edge: null,\r\n    isOSX_IOS: null,\r\n    _propertiesInit: function () {\r\n        if (this._d) return;\r\n        this._d =  document;\r\n        this._w = window;\r\n        this.isIE = navigator.userAgent.indexOf('Trident') > -1;\r\n        this.isIE_Edge = (navigator.userAgent.indexOf('Trident') > -1) || (navigator.appVersion.indexOf('Edge') > -1);\r\n        this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\r\n    },\r\n\r\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\r\n    _HTMLConvertor: function (contents) {\r\n        const ec = {'&': '&amp;', '\\u00A0': '&nbsp;', '\\'': '&apos;', '\"': '&quot;', '<': '&lt;', '>': '&gt;'};\r\n        return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\r\n    zeroWidthSpace: String.fromCharCode(8203),\r\n\r\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\r\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\r\n\r\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\r\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\r\n\r\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\r\n    onlyZeroWidthSpace: function (text) {\r\n        if (typeof text !== 'string') text = text.textContent;\r\n        return text === '' || this.onlyZeroWidthRegExp.test(text);\r\n    },\r\n\r\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\r\n    getXMLHttpRequest: function () {\r\n        /** IE */\r\n        if (this._w.ActiveXObject) {\r\n            try {\r\n                return new ActiveXObject('Msxml2.XMLHTTP');\r\n            } catch (e) {\r\n                try {\r\n                    return new ActiveXObject('Microsoft.XMLHTTP');\r\n                } catch (e1) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        /** netscape */\r\n        else if (this._w.XMLHttpRequest) {\r\n            return new XMLHttpRequest();\r\n        }\r\n        /** fail */\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\r\n    createElement: function (elementName) {\r\n        return this._d.createElement(elementName);\r\n    },\r\n\r\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\r\n    createTextNode: function (text) {\r\n        return this._d.createTextNode(text || '');\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLEncoder: function (contents) {\r\n        const ec = {'<': '$lt;', '>': '$gt;'};\r\n        return contents.replace(/<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLDecoder: function (contents) {\r\n        const ec = {'$lt;': '<', '$gt;': '>'};\r\n        return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n     * @param {Object} obj Object\r\n     * @param {String} key obj.key\r\n     * @returns {Boolean}\r\n     */\r\n    hasOwn: function (obj, key) {\r\n        return this._hasOwn.call(obj, key);\r\n    },\r\n    _hasOwn: Object.prototype.hasOwnProperty,\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\r\n    getIncludePath: function (nameArray, extension) {\r\n        let path = '';\r\n        const pathList = [];\r\n        const tagName = extension === 'js' ? 'script' : 'link';\r\n        const src = extension === 'js' ? 'src' : 'href';\r\n        \r\n        let fileName = '(?:';\r\n        for (let i = 0, len = nameArray.length; i < len; i++) {\r\n            fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\r\n        }\r\n\r\n        const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n        const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n            \r\n        for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\r\n            if (extRegExp.test(c[i][src])) {\r\n                pathList.push(c[i]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < pathList.length; i++) {\r\n            let editorTag = pathList[i][src].match(regExp);\r\n            if (editorTag) {\r\n                path = editorTag[0];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\r\n\r\n        -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\r\n\r\n        if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\r\n\r\n        return path;\r\n    },\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\r\n    getPageStyle: function (doc) {\r\n        let cssText = '';\r\n        const sheets = (doc || this._d).styleSheets;\r\n        \r\n        for (let i = 0, len = sheets.length, rules; i < len; i++) {\r\n            try {\r\n                rules = sheets[i].cssRules;\r\n            } catch (e) {\r\n                continue;\r\n            }\r\n            \r\n            for (let c = 0, cLen = rules.length; c < cLen; c++) {\r\n                cssText += rules[c].cssText;\r\n            }\r\n        }\r\n\r\n        return cssText;\r\n    },\r\n\r\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\r\n    getIframeDocument: function (iframe) {\r\n        let wDocument = iframe.contentWindow || iframe.contentDocument;\r\n        if (wDocument.document) wDocument = wDocument.document;\r\n        return wDocument;\r\n    },\r\n\r\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\r\n    getAttributesToString: function (element, exceptAttrs) {\r\n        if (!element.attributes) return '';\r\n\r\n        const attrs = element.attributes;\r\n        let attrString = '';\r\n\r\n        for (let i = 0, len = attrs.length; i < len; i++) {\r\n            if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\r\n            attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\r\n        }\r\n\r\n        return attrString;\r\n    },\r\n\r\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\r\n    getByteLength: function(text) {\r\n        const encoder = this._w.encodeURIComponent;\r\n        let cr, cl;\r\n        if (this.isIE_Edge) {\r\n            cl = this._w.unescape(encoder(text.toString())).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        } else {\r\n            cl = (new this._w.TextEncoder('utf-8').encode(text.toString())).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isWysiwygDiv: function (element) {\r\n        return element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the contenteditable property is false.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNonEditable: function (element) {\r\n        return element && element.nodeType === 1 && element.getAttribute('contenteditable') === 'false';\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTextStyleElement: function (element) {\r\n        return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__se__format__replace_xxx\")\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__se__format__range_xxx\")\r\n     * Range format element is wrap the \"format element\" and \"component\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__se__format__range__closure_xxx\")\r\n     * Closure range format elements is included in the range format element.\r\n     *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range__closure_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE | class=\"__se__format__free_xxx\")\r\n     * Free format elements is included in the format element.\r\n     * Free format elements's line break is \"BR\" tag.\r\n     * ※ Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure free format element. (class=\"__se__format__free__closure_xxx\")\r\n     * Closure free format elements is included in the free format element.\r\n     *  - Closure free format elements's line break is \"BR\" tag.\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && this.hasClass(element, '(\\\\s|^)__se__format__free__closure_.+(\\\\s|$)');\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe, video, audio] cover(class=\"se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isComponent: function (element) {\r\n        return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(class=\"se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMediaComponent: function (element) {\r\n        return element && /se-component/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the not checking node. (class=\"katex\", \"__se__tag\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNotCheckingNode: function (element) {\r\n        return element && /katex|__se__tag/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element)) element.firstElementChild;\r\n            if (this.isFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getRangeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getClosureFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyTagAttributes: function (originEl, copyEl) {\r\n        if (copyEl.style.cssText) {\r\n            originEl.style.cssText += copyEl.style.cssText;\r\n        }\r\n\r\n        const classes = copyEl.classList;\r\n        for (let i = 0, len = classes.length; i < len; i++) {\r\n            this.addClass(originEl, classes[i]);\r\n        }\r\n\r\n        if (!originEl.style.cssText) originEl.removeAttribute('style');\r\n        if (!originEl.className.trim()) originEl.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyFormatAttributes: function (originEl, copyEl) {\r\n        copyEl = copyEl.cloneNode(false);\r\n        copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\r\n        this.copyTagAttributes(originEl, copyEl);\r\n    },\r\n\r\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Node|null}\r\n     */\r\n    getArrayItem: function (array, validation, multi) {\r\n        if (!array || array.length === 0) return null;\r\n\r\n        validation = validation || function () { return true; };\r\n        const arr = [];\r\n        \r\n        for (let i = 0, len = array.length, a; i < len; i++) {\r\n            a = array[i];\r\n            if (validation(a)) {\r\n                if (!multi) return a;\r\n                else arr.push(a);\r\n            }\r\n        }\r\n\r\n        return !multi ? null : arr;\r\n    },\r\n\r\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\r\n    getArrayIndex: function (array, element) {\r\n        let idx = -1;\r\n        for (let i = 0, len = array.length; i < len; i++) {\r\n            if (array[i] === element) {\r\n                idx = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    nextIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    prevIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx - 1;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\r\n    getPositionIndex: function (node) {\r\n        let idx = 0;\r\n        while ((node = node.previousSibling)) {\r\n            idx += 1;\r\n        }\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\r\n    getNodePath: function (node, parentNode, _newOffsets) {\r\n        const path = [];\r\n        let finds = true;\r\n\r\n        this.getParentElement(node, function (el) {\r\n            if (el === parentNode) finds = false;\r\n            if (finds && !this.isWysiwygDiv(el)) {\r\n                // merge text nodes\r\n                if (_newOffsets && el.nodeType === 3) {\r\n                    let temp = null, tempText = null;\r\n                    _newOffsets.s = _newOffsets.e = 0;\r\n\r\n                    let previous = el.previousSibling;\r\n                    while (previous && previous.nodeType === 3) {\r\n                        tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.s += tempText.length;\r\n                        el.textContent = tempText + el.textContent;\r\n                        temp = previous;\r\n                        previous = previous.previousSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n\r\n                    let next = el.nextSibling;\r\n                    while (next && next.nodeType === 3) {\r\n                        tempText = next.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.e += tempText.length;\r\n                        el.textContent += tempText;\r\n                        temp = next;\r\n                        next = next.nextSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n                }\r\n\r\n                // index push\r\n                path.push(el);\r\n            }\r\n            return false;\r\n        }.bind(this));\r\n        \r\n        return path.map(this.getPositionIndex).reverse();\r\n    },\r\n\r\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\r\n    getNodeFromPath: function (offsets, parentNode) {\r\n        let current = parentNode;\r\n        let nodes;\r\n\r\n        for (let i = 0, len = offsets.length; i < len; i++) {\r\n            nodes = current.childNodes;\r\n            if (nodes.length === 0) break;\r\n            if (nodes.length <= offsets[i]) {\r\n                current = nodes[nodes.length - 1];\r\n            } else {\r\n                current = nodes[offsets[i]];\r\n            }\r\n        }\r\n\r\n        return current;\r\n    },\r\n\r\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\r\n    isSameAttributes: function (a, b) {\r\n        if (a.nodeType === 3 && b.nodeType === 3) return true;\r\n        if (a.nodeType === 3 || b.nodeType === 3) return false;\r\n\r\n        const style_a = a.style;\r\n        const style_b = b.style;\r\n        let compStyle = 0;\r\n\r\n        for (let i = 0, len = style_a.length; i < len; i++) {\r\n            if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\r\n        }\r\n\r\n        const class_a = a.classList;\r\n        const class_b = b.classList;\r\n        const reg = this._w.RegExp;\r\n        let compClass = 0;\r\n\r\n        for (let i = 0, len = class_a.length; i < len; i++) {\r\n            if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\r\n        }\r\n\r\n        return (compStyle === style_b.length && compStyle === style_a.length) && (compClass === class_b.length && compClass === class_a.length);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isList: function (node) {\r\n        return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isListCell: function (node) {\r\n        return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTable: function (node) {\r\n        return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isCell: function (node) {\r\n        return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isBreak: function (node) {\r\n        return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n\r\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isAnchor: function (node) {\r\n        return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMedia: function (node) {\r\n        return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\r\n    isNumber: function (text) {\r\n        return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\r\n    },\r\n\r\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\r\n    getNumber: function (text, maxDec) {\r\n        if (!text) return 0;\r\n        \r\n        let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\r\n        if (!number || !number[0]) return 0;\r\n\r\n        number = number[0];\r\n        return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildren: function (element, validation) {\r\n        const children = [];\r\n        if (!element || !element.children || element.children.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildNodes: function (element, validation) {\r\n        const children = [];\r\n        if (!element || element.childNodes.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.childNodes.length; i < len; i++) {\r\n                recursionFunc(current.childNodes[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\r\n    getElementDepth: function (element) {\r\n        if (!element || this.isWysiwygDiv(element)) return -1;\r\n\r\n        let depth = 0;\r\n        element = element.parentNode;\r\n\r\n        while (element && !this.isWysiwygDiv(element)) {\r\n            depth += 1;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return depth;\r\n    },\r\n\r\n    /**\r\n     * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n     * @param {Node} a Node to compare.\r\n     * @param {Node} b Node to compare.\r\n     * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n     */\r\n    compareElements: function (a, b) {\r\n        let aNode = a, bNode = b;\r\n        while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\r\n            aNode = aNode.parentNode;\r\n            bNode = bNode.parentNode;\r\n        }\r\n\r\n        if (!aNode || !bNode) return { ancestor: null, a: a, b: b, result: 0 };\r\n\r\n        const children = aNode.parentNode.childNodes;\r\n        const aIndex = this.getArrayIndex(children, aNode);\r\n        const bIndex = this.getArrayIndex(children, bNode);\r\n\r\n        return {\r\n            ancestor: aNode.parentNode,\r\n            a: aNode,\r\n            b: bNode,\r\n            result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getParentElement: function (element, query) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + query + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        while (element && !check(element)) {\r\n            if (this.isWysiwygDiv(element)) {\r\n                return null;\r\n            }\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getChildElement: function (element, query, last) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + (query === 'text' ? '#' + query : query) + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        const childList = this.getListChildNodes(element, function (current) {\r\n            return check(current);\r\n        });\r\n\r\n        return childList[last ? childList.length - 1 : 0];\r\n    },\r\n\r\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\r\n    getEdgeChildNodes: function (first, last) {\r\n        if (!first) return;\r\n        if (!last) last = first;\r\n\r\n        while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\r\n        while (last && last.nodeType === 1 && last.childNodes.length > 0 &&  !this.isBreak(last)) last = last.lastChild;\r\n\r\n        return {\r\n            sc: first,\r\n            ec: last || first\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\r\n    getOffset: function (element, wysiwygFrame) {\r\n        let offsetLeft = 0;\r\n        let offsetTop = 0;\r\n        let offsetElement = element.nodeType === 3 ? element.parentElement : element;\r\n        const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\r\n\r\n        while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\r\n            offsetLeft += offsetElement.offsetLeft;\r\n            offsetTop += offsetElement.offsetTop;\r\n            offsetElement = offsetElement.offsetParent;\r\n        }\r\n\r\n        const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\r\n\r\n        return {\r\n            left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\r\n            top: (offsetTop - wysiwyg.scrollTop) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\r\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\r\n        if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\r\n\r\n        const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\r\n        return (overlap < 0 ? overlap * -1 : overlap) + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\r\n    changeTxt: function (element, txt) {\r\n        if (!element || !txt) return;\r\n        element.textContent = txt;\r\n    },\r\n\r\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\r\n    changeElement: function (element, newElement) {\r\n        if (typeof newElement === 'string') {\r\n            if (element.outerHTML) {\r\n                element.outerHTML = newElement;\r\n            } else {\r\n                const doc = this.createElement('DIV');\r\n                doc.innerHTML = newElement;\r\n                newElement = doc.firstChild;\r\n                element.parentNode.replaceChild(newElement, element);\r\n            }\r\n        } else if (newElement.nodeType === 1) {\r\n            element.parentNode.replaceChild(newElement, element);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\r\n    setStyle: function (element, styleName, value) {\r\n        element.style[styleName] = value;\r\n\r\n        if (!value && !element.style.cssText) {\r\n            element.removeAttribute('style');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\r\n    hasClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        return (new this._w.RegExp(className)).test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\r\n    addClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) return;\r\n\r\n        element.className += (element.className.length > 0 ? ' ' : '') + className;\r\n    },\r\n\r\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\r\n    removeClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        element.className = element.className.replace(check, ' ').trim();\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     */\r\n    toggleClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) {\r\n            element.className = element.className.replace(check, ' ').trim();\r\n        }\r\n        else {\r\n            element.className += ' ' + className;\r\n        }\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\r\n    setDisabledButtons: function (disabled, buttonList) {\r\n        for (let i = 0, len = buttonList.length; i < len; i++) {\r\n            buttonList[i].disabled = disabled;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\r\n    removeItem: function (item) {\r\n        if (!item) return;\r\n        try {\r\n            item.remove();\r\n        } catch (e) {\r\n            if (item.parentNode) item.parentNode.removeChild(item);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\r\n    removeItemAllParents: function (item, validation, stopParent) {\r\n        if (!item) return null;\r\n        let cc = null;\r\n        if (!validation) {\r\n            validation = function (current) {\r\n                if (current === stopParent || this.isComponent(current)) return false;\r\n                const text = current.textContent.trim();\r\n                return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n            }.bind(this);\r\n        }\r\n\r\n        (function recursionFunc (element) {\r\n            if (!util.isWysiwygDiv(element)) {\r\n                const parent = element.parentNode;\r\n                if (parent && validation(element)) {\r\n                    cc = {\r\n                        sc: element.previousElementSibling,\r\n                        ec: element.nextElementSibling\r\n                    };\r\n                    util.removeItem(element);\r\n                    recursionFunc(parent);\r\n                }\r\n            }\r\n        }(item));\r\n\r\n        return cc;\r\n    },\r\n\r\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\r\n    detachNestedList: function (baseNode, all) {\r\n        const rNode = this._deleteNestedList(baseNode);\r\n        let rangeElement, cNodes;\r\n\r\n        if (rNode) {\r\n            rangeElement = rNode.cloneNode(false);\r\n            cNodes = rNode.childNodes;\r\n            const index = this.getPositionIndex(baseNode);\r\n            while (cNodes[index]) {\r\n                rangeElement.appendChild(cNodes[index]);\r\n            }\r\n        } else {\r\n            rangeElement = baseNode;\r\n        }\r\n        \r\n        let rChildren;\r\n        if (!all) {\r\n            const depth = this.getElementDepth(baseNode) + 2;\r\n            rChildren = this.getListChildren(baseNode, function (current) { return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth; }.bind(this));\r\n        } else {\r\n            rChildren = this.getListChildren(rangeElement, function (current) { return this.isListCell(current) && !current.previousElementSibling; }.bind(this));\r\n        }\r\n\r\n        for (let i = 0, len = rChildren.length; i < len; i++) {\r\n            this._deleteNestedList(rChildren[i]);\r\n        }\r\n        \r\n        if (rNode) {\r\n            rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\r\n            if (cNodes && cNodes.length === 0) this.removeItem(rNode);\r\n        }\r\n\r\n        return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\r\n    },\r\n\r\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\r\n    _deleteNestedList: function (baseNode) {\r\n        const baseParent = baseNode.parentNode;\r\n        let sibling = baseParent;\r\n        let parent = sibling.parentNode;\r\n        let liSibling, liParent, child, index, c;\r\n        \r\n        while (this.isListCell(parent)) {\r\n            index = this.getPositionIndex(baseNode);\r\n            liSibling = parent.nextElementSibling;\r\n            liParent = parent.parentNode;\r\n            child = sibling;\r\n            while(child) {\r\n                sibling = sibling.nextSibling;\r\n                if (this.isList(child)) {\r\n                    c = child.childNodes;\r\n                    while (c[index]) {\r\n                        liParent.insertBefore(c[index], liSibling);\r\n                    }\r\n                    if (c.length === 0) this.removeItem(child);\r\n                } else {\r\n                    liParent.appendChild(child);\r\n                }\r\n                child = sibling;\r\n            }\r\n            sibling = liParent;\r\n            parent = liParent.parentNode;\r\n        }\r\n\r\n        if (baseParent.children.length === 0) this.removeItem(baseParent);\r\n\r\n        return liParent;\r\n    },\r\n\r\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\r\n    splitElement: function (baseNode, offset, depth) {\r\n        const bp = baseNode.parentNode;\r\n        let index = 0, newEl, children, temp;\r\n        let next = true;\r\n        if (!depth || depth < 0) depth = 0;\r\n\r\n        if (baseNode.nodeType === 3) {\r\n            index = this.getPositionIndex(baseNode);\r\n            if (offset >= 0) {\r\n                baseNode.splitText(offset);\r\n                const after = this.getNodeFromPath([index + 1], bp);\r\n                if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\r\n            }\r\n        } else if (baseNode.nodeType === 1) {\r\n            if (!baseNode.previousSibling) {\r\n                if (this.getElementDepth(baseNode) === depth) next = false;\r\n            } else {\r\n                baseNode = baseNode.previousSibling;\r\n            }\r\n        }\r\n\r\n        let depthEl = baseNode;\r\n        while (this.getElementDepth(depthEl) > depth) {\r\n            index = this.getPositionIndex(depthEl) + 1;\r\n            depthEl = depthEl.parentNode;\r\n\r\n            temp = newEl;\r\n            newEl = depthEl.cloneNode(false);\r\n            children = depthEl.childNodes;\r\n\r\n            if (temp) {\r\n                if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\r\n                    newEl.innerHTML = temp.firstElementChild.innerHTML;\r\n                    util.removeItem(temp.firstElementChild);\r\n                    if (temp.children.length > 0) newEl.appendChild(temp);\r\n                } else {\r\n                    newEl.appendChild(temp);\r\n                }\r\n            }\r\n\r\n            while (children[index]) {\r\n                newEl.appendChild(children[index]);\r\n            }\r\n        }\r\n\r\n        if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\r\n\r\n        const pElement = depthEl.parentNode;\r\n        if (next) depthEl = depthEl.nextSibling;\r\n        if (!newEl) return depthEl;\r\n\r\n        this.mergeSameTags(newEl, null, false);\r\n        this.mergeNestedTags(newEl, function (current) { return this.isList(current); }.bind(this));\r\n        \r\n        if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);\r\n        else newEl = depthEl;\r\n\r\n        if (bp.childNodes.length === 0) this.removeItem(bp);\r\n\r\n        return newEl;\r\n    },\r\n\r\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\r\n    mergeSameTags: function (element, nodePathArray, onlyText) {\r\n        const inst = this;\r\n        const nodePathLen = nodePathArray ? nodePathArray.length : 0;\r\n        let offsets = null;\r\n        \r\n        if (nodePathLen) {\r\n            offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\r\n        }\r\n\r\n        (function recursionFunc(current, depth, depthIndex) {\r\n            const children = current.childNodes;\r\n            \r\n            for (let i = 0, len = children.length, child, next; i < len; i++) {\r\n                child = children[i];\r\n                next = children[i + 1];\r\n                if (!child) break;\r\n                if((onlyText && inst._isIgnoreNodeChange(child)) || (!onlyText && (inst.isTable(child) || inst.isListCell(child) || (inst.isFormatElement(child) && !inst.isFreeFormatElement(child))))) {\r\n                    if (inst.isTable(child) || inst.isListCell(child)) {\r\n                        recursionFunc(child, depth + 1, i);\r\n                    }\r\n                    continue;\r\n                }\r\n                if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\r\n                    // update nodePath\r\n                    if (nodePathLen) {\r\n                        let path, c, p, cDepth, spliceDepth;\r\n                        for (let n = 0; n < nodePathLen; n++) {\r\n                            path = nodePathArray[n];\r\n                            if (path && path[depth] === i) {\r\n                                c = child, p = current, cDepth = depth, spliceDepth = true;\r\n                                while (cDepth >= 0) {\r\n                                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\r\n                                        spliceDepth = false;\r\n                                        break;\r\n                                    }\r\n                                    c = child.parentNode;\r\n                                    p = c.parentNode;\r\n                                    cDepth--;\r\n                                }\r\n                                if (spliceDepth) {\r\n                                    path.splice(depth, 1);\r\n                                    path[depth] = i;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // merge tag\r\n                    inst.copyTagAttributes(child, current);\r\n                    current.parentNode.insertBefore(child, current);\r\n                    inst.removeItem(current);\r\n                }\r\n                if (!next) {\r\n                    if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\r\n                    break;\r\n                }\r\n\r\n                if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\r\n                    const childs = child.childNodes;\r\n                    let childLength = 0;\r\n                    for (let n = 0, nLen = childs.length; n < nLen; n++) {\r\n                        if (childs[n].textContent.length > 0) childLength++;\r\n                    }\r\n\r\n                    const l = child.lastChild;\r\n                    const r = next.firstChild;\r\n                    let addOffset = 0;\r\n                    if (l && r) {\r\n                        const textOffset = l.nodeType === 3 && r.nodeType === 3;\r\n                        addOffset = l.textContent.length;\r\n                        let tempL = l.previousSibling;\r\n                        while(tempL && tempL.nodeType === 3) {\r\n                            addOffset += tempL.textContent.length;\r\n                            tempL = tempL.previousSibling;\r\n                        }\r\n\r\n                        if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\r\n\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        if (textOffset) {\r\n                                            if (l && l.nodeType === 3 && r && r.nodeType === 3) {\r\n                                                offsets[n] += addOffset;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (child.nodeType === 3) {\r\n                        addOffset = child.textContent.length;\r\n                        child.textContent += next.textContent;\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        offsets[n] += addOffset;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        child.innerHTML += next.innerHTML;\r\n                    }\r\n                    \r\n                    inst.removeItem(next);\r\n                    i--;\r\n                } else if (child.nodeType === 1) {\r\n                    recursionFunc(child, depth + 1, i);\r\n                }\r\n            }\r\n        })(element, 0, 0);\r\n\r\n        return offsets;\r\n    },\r\n\r\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\r\n    mergeNestedTags: function (element, validation) {\r\n        if (typeof validation === 'string') {\r\n            validation = function (current) { return this.test(current.tagName); }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\r\n        } else if (typeof validation !== 'function') {\r\n            validation = function () { return true; };\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            let children = current.children;\r\n            if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\r\n                const temp = children[0];\r\n                children = temp.children;\r\n                while (children[0]) {\r\n                    current.appendChild(children[0]);\r\n                }\r\n                current.removeChild(temp);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n    },\r\n\r\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\r\n    removeEmptyNode: function (element, notRemoveNode) {\r\n        const inst = this;\r\n\r\n        if (notRemoveNode) {\r\n            notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\r\n                return element === current.parentElement;\r\n            });\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\r\n            if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild))) {\r\n                if (current.parentNode) {\r\n                    current.parentNode.removeChild(current);\r\n                    return -1;\r\n                }\r\n            } else {\r\n                const children = current.children;\r\n                for (let i = 0, len = children.length, r = 0; i < len; i++) {\r\n                    if (!children[i + r] || inst.isComponent(children[i + r])) continue;\r\n                    r += recursionFunc(children[i + r]);\r\n                }\r\n            }\r\n\r\n            return 0;\r\n        })(element);\r\n\r\n        if (element.childNodes.length === 0) element.innerHTML = '<br>';\r\n    },\r\n\r\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\r\n    htmlRemoveWhiteSpace: function (html) {\r\n        if (!html) return '';\r\n        return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/ig, function (m) { return m.trim(); });\r\n    },\r\n\r\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\r\n    sortByDepth: function (array, des) {\r\n        const t = !des ? -1 : 1;\r\n        const f = t * -1;\r\n\r\n        array.sort(function (a, b) {\r\n            if (!this.isListCell(a) || !this.isListCell(b)) return 0;\r\n            a = this.getElementDepth(a);\r\n            b = this.getElementDepth(b);\r\n            return a > b ? t : a < b ? f : 0;\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isIgnoreNodeChange: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes (A, Label, Code)\r\n     * @param {Node|String} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isMaintainedNode: function (element) {\r\n        return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === 'string' ? element : element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Node with font-size style\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isSizeNode: function (element) {\r\n        return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\r\n    },\r\n\r\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _notTextNode: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Check disallowed tags\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _disallowedTags: function (element) {\r\n        return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?(\" + (?!\\\\b list[i] \\\\b) + \")[^>^<])+>\", \"g\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\r\n    createTagsWhitelist: function (list) {\r\n        const exclusionTags = list.split('|');\r\n        let regStr = '<\\\\/?(';\r\n\r\n        for (let i = 0, len = exclusionTags.length; i < len; i++) {\r\n            regStr += '(?!\\\\b' + exclusionTags[i] + '\\\\b)';\r\n        }\r\n\r\n        regStr += ')[^>]>';\r\n\r\n        return new RegExp(regStr, 'g');\r\n    },\r\n\r\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\r\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp) {\r\n        /**\r\n         * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n         * So check the node type and exclude the text no (current.nodeType !== 1)\r\n         */\r\n        const removeTags = [], emptyTags = [], wrongList = [], withoutFormatCells = [];\r\n\r\n        // wrong position\r\n        const wrongTags = this.getListChildNodes(documentFragment, function (current) {\r\n            if (current.nodeType !== 1) return false;\r\n\r\n            // white list\r\n            if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\r\n                removeTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            const nrtag = !this.getParentElement(current, this.isNotCheckingNode);\r\n            // empty tags\r\n            if ((!this.isTable(current) && !this.isListCell(current)) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\r\n                emptyTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            // wrong list\r\n            if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\r\n                wrongList.push(current);\r\n                return false;\r\n            }\r\n\r\n            // table cells\r\n            if (this.isCell(current)) {\r\n                const fel = current.firstElementChild;\r\n                if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\r\n                    withoutFormatCells.push(current);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return current.parentNode !== documentFragment &&\r\n             (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) &&\r\n             !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) &&\r\n             !this.getParentElement(current, this.isComponent) && nrtag;\r\n        }.bind(this));\r\n\r\n        for (let i = 0, len = removeTags.length; i < len; i++) {\r\n            this.removeItem(removeTags[i]);\r\n        }\r\n        \r\n        const checkTags = [];\r\n        for (let i = 0, len = wrongTags.length, t, p; i < len; i++) {\r\n            t = wrongTags[i];\r\n            p = t.parentNode;\r\n            if (!p || !p.parentNode) continue;\r\n            p.parentNode.insertBefore(t, p);\r\n            checkTags.push(p);\r\n        }\r\n\r\n        for (let i = 0, len = checkTags.length, t; i < len; i++) {\r\n            t = checkTags[i];\r\n            if (this.onlyZeroWidthSpace(t.textContent.trim())) {\r\n                this.removeItem(t);\r\n            }\r\n        }\r\n\r\n        for (let i = 0, len = emptyTags.length; i < len; i++) {\r\n            this.removeItem(emptyTags[i]);\r\n        }\r\n\r\n        for (let i = 0, len = wrongList.length, t, tp, children, p; i < len; i++) {\r\n            t = wrongList[i];\r\n\r\n            tp = this.createElement('LI');\r\n            children = t.childNodes;\r\n            while (children[0]) {\r\n                tp.appendChild(children[0]);\r\n            }\r\n            \r\n            p = t.parentNode;\r\n            if (!p) continue;\r\n            p.insertBefore(tp, t);\r\n            this.removeItem(t);\r\n        }\r\n\r\n        for (let i = 0, len = withoutFormatCells.length, t, f; i < len; i++) {\r\n            t = withoutFormatCells[i];\r\n            f = this.createElement('DIV');\r\n            f.innerHTML = t.textContent.trim().length === 0 ? '<br>' : t.innerHTML;\r\n            t.innerHTML = f.outerHTML;\r\n        }\r\n    },\r\n\r\n    _setDefaultOptionStyle: function (options, defaultStyle) {\r\n        let optionStyle = '';\r\n        if (options.height) optionStyle += 'height:' + options.height + ';';\r\n        if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\r\n        if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\r\n        if (options.position) optionStyle += 'position:' + options.position + ';';\r\n        if (options.width) optionStyle += 'width:' + options.width + ';';\r\n        if (options.minWidth) optionStyle += 'min-width:' + options.minWidth + ';';\r\n        if (options.maxWidth) optionStyle += 'max-width:' + options.maxWidth + ';';\r\n\r\n        let top = '', frame = '', editor = '';\r\n        defaultStyle = optionStyle + defaultStyle;\r\n        const styleArr = defaultStyle.split(';');\r\n        for (let i = 0, len = styleArr.length, s; i < len; i++) {\r\n            s = styleArr[i].trim();\r\n            if (!s) continue;\r\n            if (/^(min-|max-)?width\\s*:/.test(s)) {\r\n                top += s + ';';\r\n                continue;\r\n            }\r\n            if (/^(min-|max-)?height\\s*:/.test(s)) {\r\n                if (/^height/.test(s) && s.split(':')[1].trim() === 'auto') {\r\n                    options.height = 'auto';\r\n                }\r\n                frame += s + ';';\r\n                continue;\r\n            }\r\n            editor += s + ';';\r\n        }\r\n\r\n        return {\r\n            top: top,\r\n            frame: frame,\r\n            editor: editor\r\n        };\r\n    },\r\n\r\n    _setIframeDocument: function (frame, options) {\r\n        frame.setAttribute('scrolling', 'auto');\r\n        frame.contentDocument.head.innerHTML = '' +\r\n            '<meta charset=\"utf-8\" />' +\r\n            '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n            '<title></title>' + \r\n            this._setIframeCssTags(options);\r\n        frame.contentDocument.body.className = 'sun-editor-editable';\r\n        frame.contentDocument.body.setAttribute('contenteditable', true);\r\n    },\r\n\r\n    _setIframeCssTags: function (options) {\r\n        const linkNames = options.iframeCSSFileName;\r\n        const wRegExp = this._w.RegExp;\r\n        let tagString = '';\r\n\r\n        for (let f = 0, len = linkNames.length, path; f < len; f++) {\r\n            path = [];\r\n\r\n            if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\r\n                path.push(linkNames[f]);\r\n            } else {\r\n                const CSSFileName = new wRegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$', 'i');\r\n                for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\r\n                    styleTag = c[i].href.match(CSSFileName);\r\n                    if (styleTag) path.push(styleTag[0]);\r\n                }\r\n            }\r\n\r\n            if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\r\n\r\n            for (let i = 0, len = path.length; i < len; i++) {\r\n                tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\r\n            }\r\n        }\r\n\r\n        return tagString + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\r\n    }\r\n};\r\n\r\nexport default util;","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport _icons from '../assets/defaultIcons';\r\nimport _defaultLang from '../lang/en';\r\nimport util from './util';\r\n\r\nexport default {\r\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor';\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\r\n        tool_bar.element.style.visibility = 'hidden';\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\r\n        const line_breaker_t = doc.createElement('DIV');\r\n        line_breaker_t.className += 'se-line-breaker-component';\r\n        const line_breaker_b = line_breaker_t.cloneNode(true);\r\n        line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n\r\n        // toolbar container\r\n        const toolbarContainer = options.toolbarContainer;\r\n        if (toolbarContainer) {\r\n            toolbarContainer.appendChild(tool_bar.element);\r\n        }\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        if (!toolbarContainer) relative.appendChild(tool_bar.element);\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        relative.appendChild(line_breaker_t);\r\n        relative.appendChild(line_breaker_b);\r\n        if (resizing_bar) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _menuTray: tool_bar._menuTray,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _lineBreaker_t: line_breaker_t,\r\n                _lineBreaker_b: line_breaker_b,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _responsiveButtons: tool_bar.responsiveButtons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (util.hasOwn(option, key)) init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                if (util.hasOwn(option, key)) init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} plugins Origin plugins\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, plugins, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\r\n        const isNewToolbar = !!mergeOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\r\n        const isNewPlugins = !!mergeOptions.plugins;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), (isNewPlugins ? mergeOptions.plugins : plugins), mergeOptions);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            tool_bar.element.style.visibility = 'hidden';\r\n            // toolbar container\r\n            if (isNewToolbarContainer) {\r\n                mergeOptions.toolbarContainer.appendChild(tool_bar.element);\r\n                el.toolbar.parentElement.removeChild(el.toolbar);\r\n            } else {\r\n                el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\r\n            }\r\n\r\n            el.toolbar = tool_bar.element;\r\n            el._menuTray = tool_bar._menuTray;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) relative.removeChild(el.resizingBar);\r\n        if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\r\n\r\n        editorArea.innerHTML = '';\r\n        editorArea.appendChild(code);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        return {\r\n            callButtons: isNewToolbar ? tool_bar.pluginCallButtons : null,\r\n            plugins: isNewToolbar || isNewPlugins ? tool_bar.plugins : null,\r\n            toolbar: tool_bar\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.cssText = options._editorStyles.top;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            wysiwygDiv.className += ' sun-editor-editable';\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\r\n        } else {\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame;\r\n        }\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code';\r\n        textarea.style.cssText = options._editorStyles.frame;\r\n        textarea.style.display = 'none';\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        /** Values */\r\n        options.lang = options.lang || _defaultLang;\r\n        options.value = typeof options.value === 'string' ? options.value : null;\r\n        options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\r\n        /** Whitelist */\r\n        options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : 'br|p|div|pre|blockquote|h[1-6]|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code';\r\n        options._editorTagsWhitelist = options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : '');\r\n        options.pasteTagsWhitelist = typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist;\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.toolbarWidth = options.toolbarWidth ? (util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.toolbarContainer = /balloon/i.test(options.mode) ? null : (typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer);\r\n        options.stickyToolbar = (/balloon/i.test(options.mode) || !!options.toolbarContainer) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? util.getNumber(options.stickyToolbar, 0) : -1);\r\n        options.fullPage = !!options.fullPage;\r\n        options.iframe = options.fullPage || options.iframe;\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** Display */\r\n        options.position = typeof options.position === 'string' ? options.position : null;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area default style */\r\n        options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\r\n        /** Defining menu items */\r\n        options.font = !options.font ? null : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim() || 'px') : 'px';\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        options.imageMultipleFile = !!options.imageMultipleFile;\r\n        options.imageAccept = (typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\") ? 'image/*' : options.imageAccept.trim() || 'image/*';\r\n        /** Image - image gallery */\r\n        options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !util.getNumber(options.videoWidth, 0) ? '' : util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !util.getNumber(options.videoHeight, 0) ? '' : util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        options.videoFileInput = !!options.videoFileInput;\r\n        options.videoUrlInput = (options.videoUrlInput === undefined || !options.videoFileInput) ? true : options.videoUrlInput;\r\n        options.videoUploadHeader = options.videoUploadHeader || null;\r\n        options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\r\n        options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? util.getNumber(options.videoUploadSizeLimit, 0) : null;\r\n        options.videoMultipleFile = !!options.videoMultipleFile;\r\n        options.videoTagAttrs = options.videoTagAttrs || null;\r\n        options.videoIframeAttrs = options.videoIframeAttrs || null;\r\n        options.videoAccept = (typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\") ? 'video/*' : options.videoAccept.trim() || 'video/*';\r\n        /** Audio */\r\n        options.audioWidth = !options.audioWidth ? '' : util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\r\n        options.audioHeight = !options.audioHeight ? '' : util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\r\n        options.audioFileInput = !!options.audioFileInput;\r\n        options.audioUrlInput = (options.audioUrlInput === undefined || !options.audioFileInput) ? true : options.audioUrlInput;\r\n        options.audioUploadHeader = options.audioUploadHeader || null;\r\n        options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\r\n        options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? util.getNumber(options.audioUploadSizeLimit, 0) : null;\r\n        options.audioMultipleFile = !!options.audioMultipleFile;\r\n        options.audioTagAttrs = options.audioTagAttrs || null;\r\n        options.audioAccept = (typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\") ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\r\n        /** Table */\r\n        options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\r\n        /** Key actions */\r\n        options.tabDisable = !!options.tabDisable;\r\n        options.shortcutsDisable = (Array.isArray(options.shortcutsDisable) && options.shortcutsDisable.length > 0) ? options.shortcutsDisable.map(function (v) { return v.toLowerCase(); }) : [];\r\n        options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\r\n        /** Math (katex) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        /** Buttons */\r\n        options.buttonList = options.buttonList || [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** --- Define icons --- */\r\n        options.icons = (!options.icons || typeof options.icons !== 'object') ? _icons : [_icons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n\r\n        /** _init options */\r\n        options._editorStyles = util._setDefaultOptionStyle(options, options.defaultStyle);\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\r\n    _defaultButtons: function (options) {\r\n        const icons = options.icons;\r\n        const lang = options.lang;\r\n        const cmd = util.isOSX_IOS ? '⌘' : 'CTRL';\r\n        const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent'] : options.shortcutsDisable;\r\n\r\n        return {\r\n            /** default command */\r\n            bold: ['_se_command_bold', lang.toolbar.bold + (shortcutsDisable.indexOf('bold') > -1 ? '' : ' (' + cmd + '+B)'), 'STRONG', '', icons.bold],\r\n            underline: ['_se_command_underline', lang.toolbar.underline + (shortcutsDisable.indexOf('underline') > -1 ? '' : ' (' + cmd + '+U)'), 'U', '', icons.underline],\r\n            italic: ['_se_command_italic', lang.toolbar.italic + (shortcutsDisable.indexOf('italic') > -1 ? '' : ' (' + cmd + '+I)'), 'EM', '', icons.italic],\r\n            strike: ['_se_command_strike', lang.toolbar.strike + (shortcutsDisable.indexOf('strike') > -1 ? '' : ' (' + cmd + '+SHIFT+S)'), 'DEL', '', icons.strike],\r\n            subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['_se_command_indent', lang.toolbar.indent + (shortcutsDisable.indexOf('indent') > -1 ? '' : ' (' + cmd + '+])'), 'indent', '', icons.outdent],\r\n            outdent: ['_se_command_outdent', lang.toolbar.outdent + (shortcutsDisable.indexOf('indent') > -1 ? '' : ' (' + cmd + '+[)'), 'outdent', '', icons.indent],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + (shortcutsDisable.indexOf('undo') > -1 ? '' : ' (' + cmd + '+Z)'), 'undo', '', icons.undo],\r\n            redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + (shortcutsDisable.indexOf('undo') > -1 ? '' : ' (' + cmd + '+Y / ' + cmd + '+SHIFT+Z)'), 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            save: ['_se_command_save se-resizing-enabled', lang.toolbar.save, 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', icons.align_left],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\r\n            /** plugins - fileBrowser */\r\n            imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function () {\r\n        const oDiv = util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module se-btn-module-border';\r\n\r\n        const oUl = util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\r\n        const oLi = util.createElement('LI');\r\n        const oButton = util.createElement('BUTTON');\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.setAttribute('tabindex', '-1');\r\n        \r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        if (/^default\\./i.test(innerHTML)) {\r\n            innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\r\n        }\r\n        if (/^text\\./i.test(innerHTML)) {\r\n            innerHTML = innerHTML.replace(/^text\\./i, '');\r\n            oButton.className += ' se-btn-more-text';\r\n        }\r\n\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array|Object|null} _plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, _plugins, options) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        const _buttonTray = doc.createElement('DIV');\r\n        _buttonTray.className = 'se-btn-tray';\r\n        tool_bar.appendChild(_buttonTray);\r\n\r\n        /** create button list */\r\n        const icons = options.icons;\r\n        const defaultButtonList = this._defaultButtons(options);\r\n        const pluginCallButtons = {};\r\n        const responsiveButtons = [];\r\n        const plugins = {};\r\n        if (_plugins) {\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const moreLayer = util.createElement('DIV');\r\n        moreLayer.className = 'se-toolbar-more-layer';\r\n\r\n        buttonGroupLoop:\r\n        for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\r\n            more = false;\r\n            align = '';\r\n            buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup();\r\n\r\n            // button object\r\n            if (typeof buttonGroup === 'object') {\r\n                // buttons loop\r\n                for (let j = 0, moreButton; j < buttonGroup.length; j++) {\r\n                    button = buttonGroup[j];\r\n                    moreButton = false;\r\n\r\n                    if (/^\\%\\d+/.test(button) && j === 0) {\r\n                        buttonGroup[0] = button.replace(/[^\\d]/g, '');\r\n                        responsiveButtons.push(buttonGroup);\r\n                        buttonList.splice(i--, 1);\r\n                        continue buttonGroupLoop;\r\n                    }\r\n                    \r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        // align\r\n                        if (/^\\-/.test(button)) {\r\n                            align = button.substr(1);\r\n                            moduleElement.div.style.float = align;\r\n                            continue;\r\n                        }\r\n                        \r\n                        // more button\r\n                        if (/^\\:/.test(button)) {\r\n                            moreButton = true;\r\n                            const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\r\n                            moreCommand = '__se__' + matched[1].trim();\r\n                            const title = matched[2].trim();\r\n                            const innerHTML = matched[3].trim();\r\n                            module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\r\n                        }\r\n                        // buttons\r\n                        else {\r\n                            module = defaultButtonList[button];\r\n                        }\r\n\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\r\n                    (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n\r\n                    // more button\r\n                    if (moreButton) {\r\n                        more = true;\r\n                        moreContainer = util.createElement('DIV');\r\n                        moreContainer.className = 'se-more-layer ' + moreCommand;\r\n                        moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\r\n                        moreLayer.appendChild(moreContainer);\r\n                        moreContainer = moreContainer.firstElementChild.firstElementChild;\r\n                    }\r\n                }\r\n\r\n                if (vertical) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    if (align) sv.style.float = align;\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n                \r\n                _buttonTray.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                _buttonTray.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        if (_buttonTray.children.length === 1) util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\r\n        if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\r\n        if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\r\n\r\n        // menu tray\r\n        const _menuTray = doc.createElement('DIV');\r\n        _menuTray.className = 'se-menu-tray';\r\n        tool_bar.appendChild(_menuTray);\r\n\r\n        // cover\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons,\r\n            'responsiveButtons': responsiveButtons,\r\n            '_menuTray': _menuTray,\r\n            '_buttonTray': _buttonTray\r\n        };\r\n    }\r\n};","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\n/**\r\n * @description Elements and variables you should have\r\n * @param {Element} element textarea element\r\n * @param {object} cons Toolbar element you created\r\n * @param {JSON|Object} options Inserted options\r\n * @returns {Object} {Elements, variables of the editor, option}\r\n * @private\r\n */\r\nconst _Context = function (element, cons, options) {\r\n    return {\r\n        element: {\r\n            originElement: element,\r\n            topArea: cons._top,\r\n            relative: cons._relative,\r\n            toolbar: cons._toolBar,\r\n            _buttonTray: cons._toolBar.querySelector('.se-btn-tray'),\r\n            _menuTray: cons._menuTray,\r\n            resizingBar: cons._resizingBar,\r\n            navigation: cons._navigation,\r\n            charWrapper: cons._charWrapper,\r\n            charCounter: cons._charCounter,\r\n            editorArea: cons._editorArea,\r\n            wysiwygFrame: cons._wysiwygArea,\r\n            wysiwyg: cons._wysiwygArea, // if (options.iframe) cons._wysiwygArea.contentDocument.body\r\n            code: cons._codeArea,\r\n            placeholder: cons._placeholder,\r\n            loading: cons._loading,\r\n            lineBreaker: cons._lineBreaker,\r\n            lineBreaker_t: cons._lineBreaker_t,\r\n            lineBreaker_b: cons._lineBreaker_b,\r\n            resizeBackground: cons._resizeBack,\r\n            _stickyDummy: cons._stickyDummy,\r\n            _arrow: cons._arrow\r\n        },\r\n        tool: {\r\n            cover: cons._toolBar.querySelector('.se-toolbar-cover'),\r\n            bold: cons._toolBar.querySelector('._se_command_bold'),\r\n            underline: cons._toolBar.querySelector('._se_command_underline'),\r\n            italic: cons._toolBar.querySelector('._se_command_italic'),\r\n            strike: cons._toolBar.querySelector('._se_command_strike'),\r\n            subscript: cons._toolBar.querySelector('._se_command_subscript'),\r\n            superscript: cons._toolBar.querySelector('._se_command_superscript'),\r\n            undo: cons._toolBar.querySelector('._se_command_undo'),\r\n            redo: cons._toolBar.querySelector('._se_command_redo'),\r\n            save: cons._toolBar.querySelector('._se_command_save'),\r\n            outdent: cons._toolBar.querySelector('._se_command_outdent'),\r\n            indent: cons._toolBar.querySelector('._se_command_indent'),\r\n            fullScreen: cons._toolBar.querySelector('._se_command_fullScreen'),\r\n            showBlocks: cons._toolBar.querySelector('._se_command_showBlocks'),\r\n            codeView: cons._toolBar.querySelector('._se_command_codeView')\r\n        },\r\n        options: options,\r\n        option: options\r\n    };\r\n};\r\n\r\nexport default _Context;","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'notice',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.notice = {};\r\n\r\n        /** dialog */\r\n        let notice_div = core.util.createElement('DIV');\r\n        let notice_span = core.util.createElement('SPAN');\r\n        let notice_button = core.util.createElement('BUTTON');\r\n\r\n        notice_div.className = 'se-notice';\r\n        notice_button.className = 'close';\r\n        notice_button.setAttribute('aria-label', 'Close');\r\n        notice_button.setAttribute('title', core.lang.dialogBox.close);\r\n        notice_button.innerHTML = core.icons.cancel;\r\n        \r\n        notice_div.appendChild(notice_span);\r\n        notice_div.appendChild(notice_button);\r\n\r\n        context.notice.modal = notice_div;\r\n        context.notice.message = notice_span;\r\n\r\n        /** add event listeners */\r\n        notice_button.addEventListener('click', this.onClick_cancel.bind(core));\r\n        \r\n        /** append html */\r\n        context.element.editorArea.appendChild(notice_div);\r\n        \r\n        /** empty memory */\r\n        notice_div = null;\r\n    },\r\n\r\n    /**\r\n     * @description Event when clicking the cancel button\r\n     * @param {MouseEvent} e Event object\r\n     */\r\n    onClick_cancel: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.plugins.notice.close.call(this);\r\n    },\r\n\r\n    /**\r\n     * @description  Open the notice panel\r\n     * @param {String} text Notice message\r\n     */\r\n    open: function (text)  {\r\n        this.context.notice.message.textContent = text;\r\n        this.context.notice.modal.style.display = 'block';\r\n    },\r\n\r\n    /**\r\n     * @description  Open the notice panel\r\n     */\r\n    close: function () {\r\n        this.context.notice.modal.style.display = 'none';\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport core from './lib/core';\r\nimport util from './lib/util';\r\nimport _Constructor from './lib/constructor';\r\nimport _Context from './lib/context';\r\n\r\nexport default {\r\n    /**\r\n     * @description Returns the create function with preset options.\r\n     * If the options overlap, the options of the 'create' function take precedence.\r\n     * @param {Json} options Initialization options\r\n     * @returns {Object}\r\n     */\r\n    init: function (init_options) {\r\n        return {\r\n            create: function (idOrElement, options) {\r\n                return this.create(idOrElement, options, init_options);\r\n            }.bind(this)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create the suneditor\r\n     * @param {String|Element} idOrElement textarea Id or textarea element\r\n     * @param {JSON|Object} options user options\r\n     * @returns {Object}\r\n     */\r\n    create: function (idOrElement, options, _init_options) {\r\n        util._propertiesInit();\r\n\r\n        if (typeof options !== 'object') options = {};\r\n        if (_init_options) {\r\n            options =  [_init_options, options].reduce(function (init, option) {\r\n                            for (let key in option) {\r\n                                if (!util.hasOwn(option, key)) continue;\r\n                                if (key === 'plugins' && option[key] && init[key]) {\r\n                                    let i = init[key], o = option[key];\r\n                                    i = i.length ? i : Object.keys(i).map(function(name) { return i[name]; });\r\n                                    o = o.length ? o : Object.keys(o).map(function(name) { return o[name]; });\r\n                                    init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                                } else {\r\n                                    init[key] = option[key];\r\n                                }\r\n                            }\r\n                            return init;\r\n                        }, {});\r\n        }\r\n        \r\n        const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\r\n\r\n        if (!element) {\r\n            if (typeof idOrElement === 'string') {\r\n                throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\r\n            }\r\n\r\n            throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\r\n        }\r\n\r\n        const cons = _Constructor.init(element, options);\r\n\r\n        if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\r\n            throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\r\n        }\r\n\r\n        return core(_Context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport _Constructor from './constructor';\r\nimport _Context from './context';\r\nimport _history from './history';\r\nimport _util from './util';\r\nimport _notice from '../plugins/modules/_notice';\r\n\r\n/**\r\n * @description SunEditor constuctor function.\r\n * create core object and event registration.\r\n * core, event, functions\r\n * @param {Object} context\r\n * @param {Object} pluginCallButtons\r\n * @param {Object} plugins \r\n * @param {Object} lang\r\n * @param {Object} options\r\n * @param {Object} _responsiveButtons\r\n * @returns {Object} functions Object\r\n */\r\nexport default function (context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\r\n    const _d = context.element.originElement.ownerDocument || document;\r\n    const _w = _d.defaultView || window;\r\n    const util = _util;\r\n    const icons = options.icons;\r\n\r\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\r\n    const core = {\r\n        _d: _d,\r\n        _w: _w,\r\n        _parser: new _w.DOMParser(),\r\n\r\n        /**\r\n         * @description Document object of the iframe if created as an iframe || _d\r\n         * @private\r\n         */\r\n        _wd: null,\r\n\r\n        /**\r\n         * @description Window object of the iframe if created as an iframe || _w\r\n         * @private\r\n         */\r\n        _ww: null,\r\n        \r\n        /**\r\n         * @description Closest ShadowRoot to editor if found\r\n         * @private\r\n         */\r\n        _shadowRoot: null,\r\n\r\n        /**\r\n         * @description Util object\r\n         */\r\n        util: util,\r\n\r\n        /**\r\n         * @description Functions object\r\n         */\r\n        functions: null,\r\n\r\n        /**\r\n         * @description Notice object\r\n         */\r\n        notice: _notice,\r\n\r\n        /**\r\n         * @description Default icons object\r\n         */\r\n        icons: icons,\r\n\r\n        /**\r\n         * @description History object for undo, redo\r\n         */\r\n        history: null,\r\n        \r\n        /**\r\n         * @description Elements and user options parameters of the suneditor\r\n         */\r\n        context: context,\r\n\r\n        /**\r\n         * @description Plugin buttons\r\n         */\r\n        pluginCallButtons: pluginCallButtons,\r\n\r\n        /**\r\n         * @description Loaded plugins\r\n         */\r\n        plugins: plugins || {},\r\n\r\n        /**\r\n         * @description Whether the plugin is initialized\r\n         */\r\n        initPlugins: {},\r\n\r\n        /**\r\n         * @description Object for managing submenu elements\r\n         * @private\r\n         */\r\n        _targetPlugins: {},\r\n\r\n        /**\r\n         * @description Save rendered submenus and containers\r\n         * @private\r\n         */\r\n        _menuTray: {},\r\n\r\n        /**\r\n         * @description loaded language\r\n         */\r\n        lang: lang,\r\n\r\n        /**\r\n         * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n         */\r\n        effectNode: null,\r\n\r\n        /**\r\n         * @description submenu element\r\n         */\r\n        submenu: null,\r\n\r\n        /**\r\n         * @description container element\r\n         */\r\n        container: null,\r\n\r\n        /**\r\n         * @description current subment name\r\n         * @private\r\n         */\r\n        _submenuName: '',\r\n\r\n        /**\r\n         * @description binded submenuOff method\r\n         * @private\r\n         */\r\n        _bindedSubmenuOff: null,\r\n\r\n        /**\r\n         * @description binded containerOff method\r\n         * @private\r\n         */\r\n        _bindedContainerOff: null,\r\n\r\n        /**\r\n         * @description active button element in submenu\r\n         */\r\n        submenuActiveButton: null,\r\n\r\n        /**\r\n         * @description active button element in container\r\n         */\r\n        containerActiveButton: null,\r\n\r\n        /**\r\n         * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n         */\r\n        controllerArray: [],\r\n\r\n        /**\r\n         * @description The name of the plugin that called the currently active controller\r\n         */\r\n        currentControllerName: '',\r\n\r\n        /**\r\n         * @description The target element of current controller\r\n         */\r\n        currentControllerTarget: null,\r\n\r\n        /**\r\n         * @description The file component object of current selected file tag (getFileComponent)\r\n         */\r\n        currentFileComponentInfo: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n         */\r\n        codeViewDisabledButtons: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n         */\r\n        resizingDisabledButtons: null,\r\n\r\n        /**\r\n         * @description active more layer element in submenu\r\n         * @private\r\n         */\r\n        _moreLayerActiveButton: null,\r\n\r\n        /**\r\n         * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n         * ^(options._editorTagsWhitelist)$\r\n         * @private\r\n         */\r\n        _htmlCheckWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n         * @private\r\n         */\r\n        _disallowedTextTagsRegExp: null,\r\n\r\n        /**\r\n         * @description Editor tags whitelist (RegExp object)\r\n         * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n         */\r\n        editorTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Tag whitelist when pasting (RegExp object)\r\n         * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n         */\r\n        pasteTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor has focus\r\n         */\r\n        hasFocus: false,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor is disabled\r\n         */\r\n        isDisabled: false,\r\n\r\n        /**\r\n         * @description Attributes whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Attributes of tags whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesTagsWhitelist: null,\r\n\r\n        /**\r\n         * @description binded controllersOff method\r\n         * @private\r\n         */\r\n        _bindControllersOff: null,\r\n\r\n        /**\r\n         * @description Is inline mode?\r\n         * @private\r\n         */\r\n        _isInline: null,\r\n\r\n        /**\r\n         * @description Is balloon|balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloon: null,\r\n\r\n        /**\r\n         * @description Is balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloonAlways: null,\r\n\r\n        /**\r\n         * @description Required value when using inline mode to sticky toolbar\r\n         * @private\r\n         */\r\n        _inlineToolbarAttr: {top: '', width: '', isShow: false},\r\n\r\n        /**\r\n         * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n         * @private\r\n         */\r\n        _notHideToolbar: false,\r\n\r\n        /**\r\n         * @description Variable value that sticky toolbar mode\r\n         * @private\r\n         */\r\n        _sticky: false,\r\n\r\n        /**\r\n         * @description Variables for controlling focus and blur events\r\n         * @private\r\n         */\r\n        _antiBlur: false,\r\n\r\n        /**\r\n         * @description Component line breaker element\r\n         * @private\r\n         */\r\n        _lineBreaker: null,\r\n        _lineBreakerButton: null,\r\n\r\n        /**\r\n         * @description If true, (initialize, reset) all indexes of image, video information\r\n         * @private\r\n         */\r\n        _componentsInfoInit: true,\r\n        _componentsInfoReset: false,\r\n\r\n        /**\r\n         * @description Plugins array with \"active\" method.\r\n         * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n         */\r\n        activePlugins: null,\r\n\r\n        /**\r\n         * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n         * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n         * Basic Editor Actions:\r\n         * 1. All classes not starting with \"__se__\" or \"se-\" in the editor are removed.\r\n         * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n         * \"managedTagsInfo\" structure ex:\r\n         * managedTagsInfo: {\r\n         *   query: '.__se__xxx, se-xxx'\r\n         *   map: {\r\n         *     '__se__xxx': method.bind(core),\r\n         *     'se-xxx': method.bind(core),\r\n         *   }\r\n         * }\r\n         * @example\r\n         * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n         * managedTagInfo() => {\r\n         *  return {\r\n         *    className: 'string', // Class name to identify the tag. (\"__se__xxx\", \"se-xxx\")\r\n         *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n         *    // \"method\" is executed by binding \"core\".\r\n         *    method: function (element) {\r\n         *      // this === core\r\n         *      element.innerHTML = // (rendered html);\r\n         *    }\r\n         *  }\r\n         * }\r\n         */\r\n        managedTagsInfo: null,\r\n\r\n        /**\r\n         * @description cashing: options.charCounterType === 'byte-html'\r\n         * @private\r\n         */\r\n        _charTypeHTML: false,\r\n\r\n        /**\r\n         * @description Array of \"checkFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n         * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsCheck: null,\r\n\r\n        /**\r\n         * @description Array of \"resetFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsReset: null,\r\n\r\n        /**\r\n         * @description Variables for file component management\r\n         * @private\r\n         */\r\n        _fileManager: {\r\n            tags: null,\r\n            regExp: null,\r\n            queryString: null,\r\n            pluginRegExp: null,\r\n            pluginMap: null\r\n        },\r\n\r\n        /**\r\n         * @description Elements that need to change text or className for each selection change\r\n         * After creating the editor, \"activePlugins\" are added.\r\n         * @property {Element} STRONG bold button\r\n         * @property {Element} U underline button\r\n         * @property {Element} EM italic button\r\n         * @property {Element} DEL strike button\r\n         * @property {Element} SUB subscript button\r\n         * @property {Element} SUP superscript button\r\n         * @property {Element} OUTDENT outdent button\r\n         * @property {Element} INDENT indent button\r\n         */\r\n        commandMap: null,\r\n\r\n        /**\r\n         * @description Style button related to edit area\r\n         * @property {Element} fullScreen fullScreen button element\r\n         * @property {Element} showBlocks showBlocks button element\r\n         * @property {Element} codeView codeView button element\r\n         * @private\r\n         */\r\n        _styleCommandMap: null,\r\n\r\n        /**\r\n         * @description Map of default command\r\n         * @private\r\n         */\r\n        _defaultCommand: {\r\n            bold: 'STRONG',\r\n            underline: 'U',\r\n            italic: 'EM',\r\n            strike: 'DEL',\r\n            subscript: 'SUB',\r\n            superscript: 'SUP'\r\n        },\r\n\r\n        /**\r\n         * @description Variables used internally in editor operation\r\n         * @property {Boolean} isCodeView State of code view\r\n         * @property {Boolean} isFullScreen State of full screen\r\n         * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n         * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n         * @property {Number} tabSize Indent size of tab (4)\r\n         * @property {Number} codeIndent Indent size of Code view mode (4)\r\n         * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n         * @property {Array} currentNodes  An array of the current cursor's node structure\r\n         * @private\r\n         */\r\n        _variable: {\r\n            isCodeView: false,\r\n            isFullScreen: false,\r\n            innerHeight_fullScreen: 0,\r\n            resizeClientY: 0,\r\n            tabSize: 4,\r\n            codeIndent: 4,\r\n            minResizingSize: util.getNumber((context.element.wysiwygFrame.style.minHeight || '65'), 0),\r\n            currentNodes: [],\r\n            currentNodesMap: [],\r\n            _range: null,\r\n            _selectionNode: null,\r\n            _originCssText: context.element.topArea.style.cssText,\r\n            _bodyOverflow: '',\r\n            _editorAreaOriginCssText: '',\r\n            _wysiwygOriginCssText: '',\r\n            _codeOriginCssText: '',\r\n            _fullScreenAttrs: {sticky: false, balloon: false, inline: false},\r\n            _lineBreakComp: null,\r\n            _lineBreakDir: ''\r\n        },\r\n\r\n        /**\r\n         * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n         * If the plugin is added call callBack function.\r\n         * @param {String} pluginName The name of the plugin to call\r\n         * @param {function} callBackFunction Function to be executed immediately after module call\r\n         * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n         */\r\n        callPlugin: function (pluginName, callBackFunction, _target) {\r\n            _target = _target || pluginCallButtons[pluginName];\r\n\r\n            if (!this.plugins[pluginName]) {\r\n                throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\r\n            } else if (!this.initPlugins[pluginName]) {\r\n                this.plugins[pluginName].add(this, _target);\r\n                this.initPlugins[pluginName] = true;\r\n            } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\r\n                this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\r\n            }\r\n\r\n            if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\r\n                this.commandMap[pluginName] = _target;\r\n                this.activePlugins.push(pluginName);\r\n            }\r\n                \r\n            if (typeof callBackFunction === 'function') callBackFunction();\r\n        },\r\n\r\n        /**\r\n         * @description If the module is not added, add the module and call the 'add' function\r\n         * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n         */\r\n        addModule: function (moduleArray) {\r\n            for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\r\n                moduleName = moduleArray[i].name;\r\n                if (!this.plugins[moduleName]) {\r\n                    this.plugins[moduleName] = moduleArray[i];\r\n                }\r\n                if (!this.initPlugins[moduleName]) {\r\n                    this.initPlugins[moduleName] = true;\r\n                    if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Method for managing submenu element.\r\n         * You must add the \"submenu\" element using the this method at custom plugin.\r\n         * @param {String} pluginName Plugin name\r\n         * @param {Element|null} target Target button\r\n         * @param {Element} menu Submenu element\r\n         */\r\n        initMenuTarget: function (pluginName, target, menu) {\r\n            if (!target) {\r\n                this._targetPlugins[pluginName] = menu;\r\n            } else {\r\n                context.element._menuTray.appendChild(menu);\r\n                this._targetPlugins[pluginName] = true;\r\n                this._menuTray[target.getAttribute('data-command')] = menu;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enabled submenu\r\n         * @param {Element} element Submenu's button element to call\r\n         */\r\n        submenuOn: function (element) {\r\n            if (this._bindedSubmenuOff) this._bindedSubmenuOff();\r\n            if (this._bindControllersOff) this.controllersOff();\r\n\r\n            const submenuName = this._submenuName = element.getAttribute('data-command');\r\n            const menu = this.submenu = this._menuTray[submenuName];\r\n            this.submenuActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n            \r\n            this._bindedSubmenuOff = this.submenuOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\r\n\r\n            if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable submenu\r\n         */\r\n        submenuOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedSubmenuOff);\r\n            this._bindedSubmenuOff = null;\r\n\r\n            if (this.submenu) {\r\n                this._submenuName = '';\r\n                this.submenu.style.display = 'none';\r\n                this.submenu = null;\r\n                util.removeClass(this.submenuActiveButton, 'on');\r\n                this.submenuActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Enabled container\r\n         * @param {Element} element Container's button element to call\r\n         */\r\n        containerOn: function (element) {\r\n            if (this._bindedContainerOff) this._bindedContainerOff();\r\n\r\n            const containerName = this._containerName = element.getAttribute('data-command');\r\n            const menu = this.container = this._menuTray[containerName];\r\n            this.containerActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n            \r\n            this._bindedContainerOff = this.containerOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedContainerOff, false);\r\n\r\n            if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable container\r\n         */\r\n        containerOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedContainerOff);\r\n            this._bindedContainerOff = null;\r\n\r\n            if (this.container) {\r\n                this._containerName = '';\r\n                this.container.style.display = 'none';\r\n                this.container = null;\r\n                util.removeClass(this.containerActiveButton, 'on');\r\n                this.containerActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Set the menu position. (submenu, container)\r\n         * @param {*} element Button element\r\n         * @param {*} menu Menu element\r\n         * @private\r\n         */\r\n        _setMenuPosition: function (element, menu) {\r\n            menu.style.top = '-10000px';\r\n            menu.style.visibility = 'hidden';\r\n            menu.style.display = 'block';\r\n            menu.style.height = '';\r\n            util.addClass(element, 'on');\r\n\r\n            const toolbar = this.context.element.toolbar;\r\n            const toolbarW = toolbar.offsetWidth;\r\n            const menuW = menu.offsetWidth;\r\n            const l = element.parentElement.offsetLeft + 3;\r\n            const overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\r\n            if (overLeft < 0) menu.style.left = (l + overLeft) + 'px';\r\n            else menu.style.left = l + 'px';\r\n\r\n            // get element top\r\n            let t = 0;\r\n            let offsetEl = element;\r\n            while (offsetEl && offsetEl !== toolbar) {\r\n                t += offsetEl.offsetTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            const bt = t;\r\n            if (this._isBalloon) {\r\n                t += toolbar.offsetTop + element.offsetHeight;\r\n            } else {\r\n                t -= element.offsetHeight;\r\n            }\r\n\r\n            // set menu position\r\n            const toolbarTop = event._getEditorOffsets(context.element.toolbar).top;\r\n            let menuHeight = menu.offsetHeight;\r\n            let el = context.element.topArea;\r\n            let scrollTop = 0;\r\n            while (!!el) {\r\n                scrollTop += el.scrollTop;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            const menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\r\n            if (menuHeight_bottom < menuHeight) {\r\n                let menuTop = -1 * (menuHeight - bt + 3);\r\n                const insTop = toolbarTop - scrollTop + menuTop;\r\n                const menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\r\n                \r\n                if (menuHeight_top > menuHeight_bottom) {\r\n                    menu.style.height = menuHeight_top + 'px';\r\n                    menuTop = -1 * (menuHeight_top - bt + 3);\r\n                } else {\r\n                    menu.style.height = menuHeight_bottom + 'px';\r\n                    menuTop = bt + element.parentElement.offsetHeight;\r\n                }\r\n\r\n                menu.style.top = menuTop + 'px';\r\n            } else {\r\n                menu.style.top = (bt + element.parentElement.offsetHeight) + 'px';\r\n            }\r\n\r\n            menu.style.visibility = '';\r\n        },\r\n\r\n        /**\r\n         * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n         * @param {*} arguments controller elements, functions..\r\n         */\r\n        controllersOn: function () {\r\n            if (this._bindControllersOff) this._bindControllersOff();\r\n            this.controllerArray = [];\r\n\r\n            for (let i = 0, arg; i < arguments.length; i++) {\r\n                arg = arguments[i];\r\n                if (!arg) continue;\r\n                \r\n                if (typeof arg === 'string') {\r\n                    this.currentControllerName = arg;\r\n                    continue;\r\n                }\r\n                if (typeof arg === 'function') {\r\n                    this.controllerArray.push(arg);\r\n                    continue;\r\n                }\r\n                if (!util.hasClass(arg, 'se-controller')) {\r\n                    this.currentControllerTarget = arg;\r\n                    this.currentFileComponentInfo = this.getFileComponent(arg);\r\n                    continue;\r\n                }\r\n                if (arg.style) arg.style.display = 'block';\r\n                this.controllerArray.push(arg);\r\n            }\r\n\r\n            this._bindControllersOff = this.controllersOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindControllersOff, false);\r\n            this.addDocEvent('keydown', this._bindControllersOff, false);\r\n            this._antiBlur = true;\r\n\r\n            if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\r\n        },\r\n\r\n        /**\r\n         * @description Hide controller at editor area (link button, image resize button..)\r\n         * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n         */\r\n        controllersOff: function (e) {\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === 'keydown' && e.keyCode !== 27) return;\r\n            context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = 'none';\r\n            this._variable._lineBreakComp = null;\r\n\r\n            this.currentControllerName = '';\r\n            this.currentControllerTarget = null;\r\n            this.currentFileComponentInfo = null;\r\n            this.effectNode = null;\r\n            if (!this._bindControllersOff) return;\r\n\r\n            this.removeDocEvent('mousedown', this._bindControllersOff);\r\n            this.removeDocEvent('keydown', this._bindControllersOff);\r\n            this._bindControllersOff = null;\r\n\r\n            const len = this.controllerArray.length;\r\n            if (len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();\r\n                    else this.controllerArray[i].style.display = 'none';\r\n                }\r\n\r\n                this.controllerArray = [];\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Run event.stopPropagation and event.preventDefault.\r\n         * @param {Object} e Event Object\r\n         */\r\n        eventStop: function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * @description javascript execCommand\r\n         * @param {String} command javascript execCommand function property\r\n         * @param {Boolean} showDefaultUI javascript execCommand function property\r\n         * @param {String} value javascript execCommand function property\r\n         */\r\n        execCommand: function (command, showDefaultUI, value) {\r\n            this._wd.execCommand(command, showDefaultUI, (command === 'formatBlock' ? '<' + value + '>' : value));\r\n            // history stack\r\n            this.history.push(true);\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area using \"native focus function\"\r\n         */\r\n        nativeFocus: function () {\r\n            const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\r\n            if (caption) {\r\n                caption.focus();\r\n            } else {\r\n                context.element.wysiwyg.focus();\r\n            }\r\n\r\n            this._editorRange();\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area\r\n         */\r\n        focus: function () {\r\n            if (context.element.wysiwygFrame.style.display === 'none') return;\r\n\r\n            if (options.iframe) {\r\n                this.nativeFocus();\r\n            } else {\r\n                try {\r\n                    const range = this.getRange();\r\n\r\n                    if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\r\n                        const format = util.createElement('P');\r\n                        const br = util.createElement('BR');\r\n                        format.appendChild(br);\r\n                        context.element.wysiwyg.appendChild(format);\r\n                        this.setRange(br, 0, br, 0);\r\n                    } else {\r\n                        this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\r\n                    }\r\n                } catch (e) {\r\n                    this.nativeFocus();\r\n                }\r\n            }\r\n\r\n            event._applyTagEffects();\r\n            if (this._isBalloon) event._toggleToolbarBalloon();\r\n        },\r\n\r\n        /**\r\n         * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n         * If \"focusEdge\" is null, then selected last element\r\n         * @param {Element|null} focusEl Focus element\r\n         */\r\n        focusEdge: function (focusEl) {\r\n            if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\r\n\r\n            const fileComponentInfo = this.getFileComponent(focusEl);\r\n            if (fileComponentInfo) {\r\n                this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n            } else if (focusEl) {\r\n                focusEl = util.getChildElement(focusEl, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\r\n                if (!focusEl) this.nativeFocus();\r\n                else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\r\n            } else {\r\n                this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set current editor's range object and return.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @returns {Object} Range object.\r\n         */\r\n        setRange: function (startCon, startOff, endCon, endOff) {\r\n            if (!startCon || !endCon) return;\r\n            if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\r\n            if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\r\n            \r\n            const range = this._wd.createRange();\r\n\r\n            try {\r\n                range.setStart(startCon, startOff);\r\n                range.setEnd(endCon, endOff);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.core.focus.error] ' + error);\r\n                this.nativeFocus();\r\n                return;\r\n            }\r\n\r\n            const selection = this.getSelection();\r\n\r\n            if (selection.removeAllRanges) {\r\n                selection.removeAllRanges();\r\n            }\r\n\r\n            selection.addRange(range);\r\n            this._editorRange();\r\n            if (options.iframe) this.nativeFocus();\r\n\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Remove range object and button effect\r\n         */\r\n        removeRange: function () {\r\n            this._variable._range = null;\r\n            this._variable._selectionNode = null;\r\n            this.getSelection().removeAllRanges();\r\n\r\n            const commandMap = this.commandMap;\r\n            const activePlugins = this.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (!util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(this, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get current editor's range object\r\n         * @returns {Object}\r\n         */\r\n        getRange: function () {\r\n            const range = this._variable._range || this._createDefaultRange();\r\n            const selection = this.getSelection();\r\n            if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\r\n            \r\n            if (selection.rangeCount > 0) {\r\n                this._variable._range = selection.getRangeAt(0);\r\n                return this._variable._range;\r\n            } else {\r\n                const sc = selection.anchorNode, ec = selection.focusNode, so = selection.anchorOffset, eo = selection.focusOffset;\r\n                const compareValue = util.compareElements(sc, ec);\r\n                const rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\r\n                return this.setRange(\r\n                    rightDir ? sc : ec,\r\n                    rightDir ? so : eo,\r\n                    rightDir ? ec : sc,\r\n                    rightDir ? eo : so\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n         * Returns a new \"range\" or argument \"range\".\r\n         * @param {Object} range core.getRange()\r\n         * @returns {Object} range\r\n         */\r\n        getRange_addLine: function (range) {\r\n            if (this._selectionVoid(range)) {\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const op = util.createElement('P');\r\n                op.innerHTML = '<br>';\r\n                wysiwyg.insertBefore(op, wysiwyg.firstElementChild);\r\n                this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\r\n                range = this._variable._range;\r\n            }\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Get window selection obejct\r\n         * @returns {Object}\r\n         */\r\n        getSelection: function () {\r\n            return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\r\n        },\r\n\r\n        /**\r\n         * @description Get current select node\r\n         * @returns {Node}\r\n         */\r\n        getSelectionNode: function () {\r\n            if (util.isWysiwygDiv(this._variable._selectionNode)) this._editorRange();\r\n            if (!this._variable._selectionNode) {\r\n                const selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\r\n                if (!selectionNode) {\r\n                    this._editorRange();\r\n                } else {\r\n                    this._variable._selectionNode = selectionNode;\r\n                    return selectionNode;\r\n                }\r\n            }\r\n            return this._variable._selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Saving the range object and the currently selected node of editor\r\n         * @private\r\n         */\r\n        _editorRange: function () {\r\n            const selection = this.getSelection();\r\n            if (!selection) return null;\r\n            let range = null;\r\n            let selectionNode = null;\r\n\r\n            if (selection.rangeCount > 0) {\r\n                range = selection.getRangeAt(0);\r\n            } else {\r\n                range = this._createDefaultRange();\r\n            }\r\n\r\n            this._variable._range = range;\r\n\r\n            if (range.collapsed) {\r\n                selectionNode = range.commonAncestorContainer;\r\n            } else {\r\n                selectionNode = selection.extentNode || selection.anchorNode;\r\n            }\r\n\r\n            this._variable._selectionNode = selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Return the range object of editor's first child node\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _createDefaultRange: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            wysiwyg.focus();\r\n            const range = this._wd.createRange();\r\n\r\n            let focusEl = wysiwyg.firstElementChild;\r\n            if (!focusEl) {\r\n                focusEl = util.createElement('P');\r\n                focusEl.innerHTML = '<br>';\r\n                wysiwyg.appendChild(focusEl);\r\n            }\r\n\r\n            range.setStart(focusEl, 0);\r\n            range.setEnd(focusEl, 0);\r\n            \r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Returns true if there is no valid \"selection\".\r\n         * @param {Object} range core.getRange()\r\n         * @returns {Object} range\r\n         * @private\r\n         */\r\n        _selectionVoid: function (range) {\r\n            const comm = range.commonAncestorContainer;\r\n            return (util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer)) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\r\n        },\r\n\r\n        /**\r\n         * @description Reset range object to text node selected status.\r\n         * @returns {Boolean} Returns false if there is no valid selection.\r\n         * @private\r\n         */\r\n        _resetRangeToTextNode: function () {\r\n            const range = this.getRange();\r\n            if (this._selectionVoid(range)) return false;\r\n            \r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n            let tempCon, tempOffset, tempChild;\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.lastChild;\r\n                startOff = startCon.textContent.length;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            // startContainer\r\n            tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\r\n            tempOffset = startOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\r\n                        tempOffset = 0;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : 'P');\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    if (onlyBreak) {\r\n                        if (startCon === endCon) {\r\n                            endCon = tempCon;\r\n                            endOff = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set startContainer\r\n            startCon = tempCon;\r\n            startOff = tempOffset;\r\n\r\n            // endContainer\r\n            tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\r\n            tempOffset = endOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempChild = tempCon.childNodes;\r\n                        if (tempChild.length === 0) break;\r\n                        tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : (tempCon.previousElementSibling || tempCon.previousSibling || startCon);\r\n                        tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.isCell(format) ? 'DIV' : 'P');\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    tempOffset = 1;\r\n                    if (onlyBreak && !tempCon.previousSibling) {\r\n                        util.removeItem(endCon);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set endContainer\r\n            endCon = tempCon;\r\n            endOff = tempOffset;\r\n\r\n            // set Range\r\n            this.setRange(startCon, startOff, endCon, endOff);\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n         * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElements: function (validation) {\r\n            if (!this._resetRangeToTextNode()) return [];\r\n            let range = this.getRange();\r\n\r\n            if (util.isWysiwygDiv(range.startContainer)) {\r\n                const children = context.element.wysiwyg.children;\r\n                if (children.length === 0) return [];\r\n\r\n                this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\r\n                range = this.getRange();\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const endCon = range.endContainer;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            // get line nodes\r\n            const lineNodes = util.getListChildren(commonCon, function (current) {\r\n                return validation ? validation(current) : util.isFormatElement(current);\r\n            });\r\n\r\n            if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\r\n            if (startCon === endCon || lineNodes.length === 1) return lineNodes;\r\n\r\n            let startLine = util.getFormatElement(startCon, null);\r\n            let endLine = util.getFormatElement(endCon, null);\r\n            let startIdx = null;\r\n            let endIdx = null;\r\n            \r\n            const onlyTable = function (current) {\r\n                return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\r\n            };\r\n\r\n            let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\r\n            let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\r\n            if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\r\n            if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\r\n            \r\n            const sameRange = startRangeEl === endRangeEl;\r\n            for (let i = 0, len = lineNodes.length, line; i < len; i++) {\r\n                line = lineNodes[i];\r\n\r\n                if (startLine === line || (!sameRange && line === startRangeEl)) {\r\n                    startIdx = i;\r\n                    continue;\r\n                }\r\n\r\n                if (endLine === line || (!sameRange && line === endRangeEl)) {\r\n                    endIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (startIdx === null) startIdx = 0;\r\n            if (endIdx === null) endIdx = lineNodes.length - 1;\r\n\r\n            return lineNodes.slice(startIdx, endIdx + 1);\r\n        },\r\n\r\n        /**\r\n         * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n         * If some of the component are included in the selection, get the entire that component.\r\n         * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElementsAndComponents: function (removeDuplicate) {\r\n            const commonCon = this.getRange().commonAncestorContainer;\r\n            const myComponent = util.getParentElement(commonCon, util.isComponent);\r\n            const selectedLines = util.isTable(commonCon) ? \r\n                this.getSelectedElements(null) :\r\n                this.getSelectedElements(function (current) {\r\n                    const component = this.getParentElement(current, this.isComponent);\r\n                    return (this.isFormatElement(current) && (!component || component === myComponent)) || (this.isComponent(current) && !this.getFormatElement(current));\r\n                }.bind(util));\r\n            \r\n            if (removeDuplicate) {\r\n                for (let i = 0, len = selectedLines.length; i < len; i++) {\r\n                    for (let j = i - 1; j >= 0; j--) {\r\n                        if (selectedLines[j].contains(selectedLines[i])) {\r\n                            selectedLines.splice(i, 1);\r\n                            i--; len--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return selectedLines;\r\n        },\r\n\r\n        /**\r\n         * @description Determine if this offset is the edge offset of container\r\n         * @param {Node} container The node of the selection object. (range.startContainer..)\r\n         * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n         * @returns {Boolean}\r\n         */\r\n        isEdgePoint: function (container, offset) {\r\n            return (offset === 0) || (!container.nodeValue && offset === 1) || (offset === container.nodeValue.length);\r\n        },\r\n\r\n        /**\r\n         * @description Show loading box\r\n         */\r\n        showLoading: function () {\r\n            context.element.loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close loading box\r\n         */\r\n        closeLoading: function () {\r\n            context.element.loading.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Append format element to sibling node of argument element.\r\n         * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n         * If not, the currently selected format tag is inserted.\r\n         * @param {Element} element Insert as siblings of that element\r\n         * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n         * @returns {Element}\r\n         */\r\n        appendFormatTag: function (element, formatNode) {\r\n            const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\r\n            const oFormatName = formatNode ? (typeof formatNode === 'string' ? formatNode : formatNode.nodeName) : (util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl)) ? currentFormatEl.nodeName : 'P';\r\n            const oFormat = util.createElement(oFormatName);\r\n            oFormat.innerHTML = '<br>';\r\n\r\n            if ((formatNode && typeof formatNode !== 'string') || (!formatNode && util.isFormatElement(currentFormatEl))) {\r\n                util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\r\n            }\r\n\r\n            if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);\r\n            else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\r\n\r\n            return oFormat;\r\n        },\r\n\r\n        /**\r\n         * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n         * If \"element\" is \"HR\", insert and return the new line.\r\n         * @param {Element} element Element to be inserted\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n         * @returns {Element}\r\n         */\r\n        insertComponent: function (element, notHistoryPush, checkCharCount, notSelect) {\r\n            if (checkCharCount && !this.checkCharCount(element, null)) {\r\n                return null;\r\n            }\r\n\r\n            const r = this.removeNode();\r\n            this.getRange_addLine(this.getRange());\r\n            let oNode = null;\r\n            let selectionNode = this.getSelectionNode();\r\n            let formatEl = util.getFormatElement(selectionNode, null);\r\n\r\n            if (util.isListCell(formatEl)) {\r\n                this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\r\n                if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\r\n            } else {\r\n                if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current); }.bind(util));\r\n                    oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (oNode) formatEl = oNode.previousSibling;\r\n                }\r\n                this.insertNode(element, formatEl, false);\r\n                if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\r\n            }\r\n\r\n            if (!notSelect) {\r\n                const fileComponentInfo = this.getFileComponent(element);\r\n                if (fileComponentInfo) {\r\n                    this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                } else if (oNode) {\r\n                    oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\r\n                    this.setRange(oNode, 0, oNode, 0);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            if (!notHistoryPush) this.history.push(1);\r\n\r\n            return oNode || element;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the file component and that plugin name\r\n         * return: {target, component, pluginName} | null\r\n         * @param {Element} element Target element (figure tag, component div, file tag)\r\n         * @returns {Object|null}\r\n         */\r\n        getFileComponent: function (element) {\r\n            if (!this._fileManager.queryString || !element) return null;\r\n\r\n            let target, pluginName;\r\n            if (/^FIGURE$/i.test(element.nodeName) || /se-component/.test(element.className)) {\r\n                target = element.querySelector(this._fileManager.queryString);\r\n            }\r\n            if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\r\n                target = element;\r\n            }\r\n\r\n            if (target) {\r\n                pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\r\n                if (pluginName) {\r\n                    return {\r\n                        target: target,\r\n                        component: util.getParentElement(target, util.isComponent),\r\n                        pluginName: pluginName\r\n                    };\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * @description The component(image, video) is selected and the resizing module is called.\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @param {String} pluginName Plugin name (image, video)\r\n         */\r\n        selectComponent: function (element, pluginName) {\r\n            if (!this.hasFocus) this.focus();\r\n            const plugin = this.plugins[pluginName];\r\n            if (!plugin) return;\r\n            _w.setTimeout(function () {\r\n                if (typeof plugin.select === 'function') this.callPlugin(pluginName, plugin.select.bind(this, element), null);\r\n                this._setComponentLineBreaker(element);\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * @description Set line breaker of component\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @private\r\n         */\r\n        _setComponentLineBreaker: function (element) {\r\n            // line breaker\r\n            this._lineBreaker.style.display = 'none';\r\n            const container = util.getParentElement(element, util.isComponent);\r\n            const t_style = context.element.lineBreaker_t.style;\r\n            const b_style = context.element.lineBreaker_b.style;\r\n            const target = this.context.resizing.resizeContainer.style.display === 'block' ? this.context.resizing.resizeContainer : element;\r\n\r\n            const isList = util.isListCell(container.parentNode);\r\n            let componentTop, wScroll, w;\r\n            // top\r\n            if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\r\n                this._variable._lineBreakComp = container;\r\n                wScroll = context.element.wysiwyg.scrollTop;\r\n                componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                w = (target.offsetWidth / 2) / 2;\r\n\r\n                t_style.top = (componentTop - wScroll - 12) + 'px';\r\n                t_style.left = (util.getOffset(target).left + w) + 'px';\r\n                t_style.display = 'block';\r\n            } else {\r\n                t_style.display = 'none';\r\n            }\r\n            // bottom\r\n            if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\r\n                if (!componentTop) {\r\n                    this._variable._lineBreakComp = container;\r\n                    wScroll = context.element.wysiwyg.scrollTop;\r\n                    componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                    w = (target.offsetWidth / 2) / 2;\r\n                }\r\n\r\n                b_style.top = (componentTop + target.offsetHeight - wScroll - 12) + 'px';\r\n                b_style.left = (util.getOffset(target).left + target.offsetWidth - w - 24) + 'px';\r\n                b_style.display = 'block';\r\n            } else {\r\n                b_style.display = 'none';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Delete selected node and insert argument value node and return.\r\n         * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n         * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n         * @param {Node} oNode Element to be inserted\r\n         * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @returns {Object|Node|null}\r\n         */\r\n        insertNode: function (oNode, afterNode, checkCharCount) {\r\n            if (checkCharCount && !this.checkCharCount(oNode, null)) {\r\n                return null;\r\n            }\r\n\r\n            const freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\r\n            const isFormats = (!freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) || util.isComponent(oNode);\r\n\r\n            if (!afterNode && isFormats) {\r\n                const r = this.removeNode();\r\n                if (r.container.nodeType === 3 || util.isBreak(r.container)) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current) || this.isListCell(current); }.bind(util));\r\n                    afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (afterNode) afterNode = afterNode.previousSibling;\r\n                }\r\n            }\r\n\r\n            const range = (!afterNode && !isFormats) ? this.getRange_addLine(this.getRange()) : this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\r\n            const startCon = formatRange ? commonCon.childNodes[startOff] : range.startContainer;\r\n            const endCon = formatRange ? commonCon.childNodes[endOff] : range.endContainer;\r\n            let parentNode, originAfter = null;\r\n\r\n            if (!afterNode) {\r\n                parentNode = startCon;\r\n                if (startCon.nodeType === 3) {\r\n                    parentNode = startCon.parentNode;\r\n                }\r\n\r\n                /** No Select range node */\r\n                if (range.collapsed) {\r\n                    if (commonCon.nodeType === 3) {\r\n                        if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);\r\n                        else afterNode = commonCon.nextSibling;\r\n                    } else {\r\n                        if (!util.isBreak(parentNode)) {\r\n                            let c = parentNode.childNodes[startOff];\r\n                            const focusNode = (c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling)) ? c.nextSibling : c;\r\n                            if (focusNode) {\r\n                                if (!focusNode.nextSibling) {\r\n                                    parentNode.removeChild(focusNode);\r\n                                    afterNode = null;\r\n                                } else {\r\n                                    afterNode = (util.isBreak(focusNode) && !util.isBreak(oNode)) ? focusNode : focusNode.nextSibling;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            afterNode = parentNode;\r\n                            parentNode = parentNode.parentNode;\r\n                        }\r\n                    }\r\n                } else { /** Select range nodes */\r\n                    const isSameContainer = startCon === endCon;\r\n\r\n                    if (isSameContainer) {\r\n                        if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;\r\n                        else afterNode = endCon.splitText(endOff);\r\n\r\n                        let removeNode = startCon;\r\n                        if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\r\n\r\n                        parentNode.removeChild(removeNode);\r\n                        if (parentNode.childNodes.length === 0 && isFormats) {\r\n                            parentNode.innerHTML = '<br>';\r\n                        }\r\n                    }\r\n                    else {\r\n                        const removedTag = this.removeNode();\r\n                        const container = removedTag.container;\r\n                        const prevContainer = removedTag.prevContainer;\r\n                        if (container && container.childNodes.length === 0 && isFormats) {\r\n                            if (util.isFormatElement(container)) {\r\n                                container.innerHTML = '<br>';\r\n                            } else if (util.isRangeFormatElement(container)) {\r\n                                container.innerHTML = '<p><br></p>';\r\n                            }\r\n                        }\r\n\r\n                        if (!isFormats && prevContainer) {\r\n                            parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\r\n                            if (parentNode.contains(container)) {\r\n                                afterNode = container;\r\n                                while (afterNode.parentNode === parentNode) {\r\n                                    afterNode = afterNode.parentNode;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            parentNode = isFormats ? commonCon : container;\r\n                            afterNode = isFormats ? endCon : null;\r\n                        }\r\n\r\n                        while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\r\n                            afterNode = afterNode.parentNode;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // has afterNode\r\n            else {\r\n                parentNode = afterNode.parentNode;\r\n                afterNode = afterNode.nextSibling;\r\n                originAfter = true;\r\n            }\r\n\r\n            // --- insert node ---\r\n            try {\r\n                if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || (!util.isListCell(parentNode) && util.isComponent(oNode))) {\r\n                    const oldParent = parentNode;\r\n                    if (util.isList(afterNode)) {\r\n                        parentNode = afterNode;\r\n                        afterNode = null;\r\n                    } else if (util.isListCell(afterNode)) {\r\n                        parentNode = afterNode.previousElementSibling || afterNode;\r\n                    } else if (!originAfter && !afterNode) {\r\n                        const r = this.removeNode();\r\n                        const container = r.container.nodeType === 3 ? (util.isListCell(util.getFormatElement(r.container, null)) ? r.container : (util.getFormatElement(r.container, null) || r.container.parentNode)) : r.container;\r\n                        const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\r\n                        parentNode = rangeCon ? container : container.parentNode;\r\n                        afterNode = rangeCon ? null : container.nextSibling;\r\n                    }\r\n\r\n                    if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\r\n                }\r\n\r\n                if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\r\n                    afterNode = parentNode.nextElementSibling;\r\n                    parentNode = parentNode.parentNode;\r\n                }\r\n                parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\r\n            } catch (e) {\r\n                parentNode.appendChild(oNode);\r\n            } finally {\r\n                if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\r\n                    oNode = this._setIntoFreeFormat(oNode);\r\n                }\r\n\r\n                if (!util.isComponent(oNode)) {\r\n                    let offset = 1;\r\n                    if (oNode.nodeType === 3) {\r\n                        const previous = oNode.previousSibling;\r\n                        const next = oNode.nextSibling;\r\n                        const previousText = (!previous ||  previous.nodeType === 1 || util.onlyZeroWidthSpace(previous)) ? '' : previous.textContent;\r\n                        const nextText = (!next || next.nodeType === 1 || util.onlyZeroWidthSpace(next)) ? '' : next.textContent;\r\n        \r\n                        if (previous && previousText.length > 0) {\r\n                            oNode.textContent = previousText + oNode.textContent;\r\n                            util.removeItem(previous);\r\n                        }\r\n        \r\n                        if (next && next.length > 0) {\r\n                            oNode.textContent += nextText;\r\n                            util.removeItem(next);\r\n                        }\r\n\r\n                        const newRange = {\r\n                            container: oNode,\r\n                            startOffset: previousText.length,\r\n                            endOffset: oNode.textContent.length - nextText.length\r\n                        };\r\n\r\n                        this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\r\n    \r\n                        return newRange;\r\n                    } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\r\n                        let zeroWidth = null;\r\n                        if (!oNode.previousSibling) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.insertBefore(zeroWidth, oNode);\r\n                        }\r\n                        \r\n                        if (!oNode.nextSibling) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.appendChild(zeroWidth);\r\n                        }\r\n    \r\n                        if (util._isIgnoreNodeChange(oNode)) {\r\n                            oNode = oNode.nextSibling;\r\n                            offset = 0;\r\n                        }\r\n                    }\r\n    \r\n                    this.setRange(oNode, offset, oNode, offset);\r\n                }\r\n\r\n                // history stack\r\n                this.history.push(true);\r\n\r\n                return oNode;\r\n            }\r\n        },\r\n\r\n        _setIntoFreeFormat: function (oNode) {\r\n            const parentNode = oNode.parentNode;\r\n            let oNodeChildren, lastONode;\r\n            \r\n            while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\r\n                oNodeChildren = oNode.childNodes;\r\n                lastONode = null;\r\n                \r\n                while (oNodeChildren[0]) {\r\n                    lastONode = oNodeChildren[0];\r\n                    if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\r\n                        this._setIntoFreeFormat(lastONode);\r\n                        if (!oNode.parentNode) break;\r\n                        oNodeChildren = oNode.childNodes;\r\n                        continue;\r\n                    }\r\n                    \r\n                    parentNode.insertBefore(lastONode, oNode);\r\n                }\r\n                \r\n                if (oNode.childNodes.length === 0) util.removeItem(oNode);\r\n                oNode = util.createElement('BR');\r\n                parentNode.insertBefore(oNode, lastONode.nextSibling);\r\n            }\r\n\r\n            return oNode;\r\n        },\r\n\r\n        /**\r\n         * @description Delete the currently selected nodes and reset selection range\r\n         * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n         * @returns {Object}\r\n         */\r\n        removeNode: function () {\r\n            if (!this._resetRangeToTextNode()) console.warn('[SUNEDITOR.core.removeNode.exception] An exception occurred while resetting the \"Range\" object.');\r\n\r\n            const range = this.getRange();\r\n            let container, offset = 0;\r\n            let startCon = range.startContainer;\r\n            let endCon = range.endContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            let beforeNode = null;\r\n            let afterNode = null;\r\n\r\n            const childNodes = util.getListChildNodes(commonCon, null);\r\n            let startIndex = util.getArrayIndex(childNodes, startCon);\r\n            let endIndex = util.getArrayIndex(childNodes, endCon);\r\n\r\n            if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\r\n                for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\r\n                    if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\r\n                        startIndex = i;\r\n                        startNode = startNode.parentNode;\r\n                    }\r\n                }\r\n    \r\n                for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\r\n                    if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\r\n                        childNodes.splice(i, 1);\r\n                        endNode = endNode.parentNode;\r\n                        --endIndex;\r\n                    }\r\n                }\r\n            } else {\r\n                if (childNodes.length === 0) {\r\n                    if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                    childNodes.push(commonCon);\r\n                    startCon = endCon = commonCon;\r\n                } else {\r\n                    startCon = endCon = childNodes[0];\r\n                    if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\r\n                        return {\r\n                            container: startCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                }\r\n\r\n                startIndex = endIndex = 0;\r\n            }\r\n\r\n            function remove (item) {\r\n                const format = util.getFormatElement(item, null);\r\n                util.removeItem(item);\r\n\r\n                if(util.isListCell(format)) {\r\n                    const list = util.getArrayItem(format.children, util.isList, false);\r\n                    if (list) {\r\n                        const child = list.firstElementChild;\r\n                        const children = child.childNodes;\r\n                        while (children[0]) {\r\n                            format.insertBefore(children[0], list);\r\n                        }\r\n                        util.removeItemAllParents(child, null, null);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                const item = childNodes[i];\r\n\r\n                if (item.length === 0 || (item.nodeType === 3 && item.data === undefined)) {\r\n                    remove(item);\r\n                    continue;\r\n                }\r\n\r\n                if (item === startCon) {\r\n                    if (startCon.nodeType === 1) {\r\n                        beforeNode = util.createTextNode(startCon.textContent);\r\n                    } else {\r\n                        if (item === endCon) {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, (endCon.length - endOff)));\r\n                            offset = startOff;\r\n                        } else {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff));\r\n                        }\r\n                    }\r\n\r\n                    if (beforeNode.length > 0) {\r\n                        startCon.data = beforeNode.data;\r\n                    } else {\r\n                        remove(startCon);\r\n                    }\r\n\r\n                    if (item === endCon) break;\r\n                    continue;\r\n                }\r\n\r\n                if (item === endCon) {\r\n                    if (endCon.nodeType === 1) {\r\n                        afterNode = util.createTextNode(endCon.textContent);\r\n                    } else {\r\n                        afterNode = util.createTextNode(endCon.substringData(endOff, (endCon.length - endOff)));\r\n                    }\r\n\r\n                    if (afterNode.length > 0) {\r\n                        endCon.data = afterNode.data;\r\n                    } else {\r\n                        remove(endCon);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                remove(item);\r\n            }\r\n\r\n            container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : (range.endContainer || range.startContainer);\r\n            \r\n            if (!util.isWysiwygDiv(container)) {\r\n                const rc = util.removeItemAllParents(container, function (current) {\r\n                    if (this.isComponent(current)) return false;\r\n                    const text = current.textContent;\r\n                    return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n                }.bind(util), null);\r\n                \r\n                if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\r\n            }\r\n\r\n            // set range\r\n            this.setRange(container, offset, container, offset);\r\n            // history stack\r\n            this.history.push(true);\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset,\r\n                prevContainer: startCon && startCon.parentNode ? startCon : null\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Appended all selected format Element to the argument element and insert\r\n         * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n         */\r\n        applyRangeFormatElement: function (rangeElement) {\r\n            this.getRange_addLine(this.getRange());\r\n            const rangeLines = this.getSelectedElementsAndComponents(false);\r\n            if (!rangeLines || rangeLines.length === 0) return;\r\n\r\n            linesLoop:\r\n            for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\r\n                line = rangeLines[i];\r\n                if (!util.isListCell(line)) continue;\r\n\r\n                nested = line.lastElementChild;\r\n                if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\r\n                    lEl = nested.lastElementChild;\r\n                    if (rangeLines.indexOf(lEl) > -1) {\r\n                        let list = null;\r\n                        while ((list = lEl.lastElementChild)) {\r\n                            if (util.isList(list)) {\r\n                                if (rangeLines.indexOf(list.lastElementChild) > -1) {\r\n                                    lEl = list.lastElementChild;\r\n                                } else {\r\n                                    continue linesLoop;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        fEl = nested.firstElementChild;\r\n                        f = rangeLines.indexOf(fEl);\r\n                        l = rangeLines.indexOf(lEl);\r\n                        rangeLines.splice(f, (l - f) + 1);\r\n                        len = rangeLines.length;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let last  = rangeLines[rangeLines.length - 1];\r\n            let standTag, beforeTag, pElement;\r\n\r\n            if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\r\n                standTag = last;\r\n            } else {\r\n                standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\r\n            }\r\n\r\n            if (util.isCell(standTag)) {\r\n                beforeTag = null;\r\n                pElement = standTag;\r\n            } else {\r\n                beforeTag = standTag.nextSibling;\r\n                pElement = standTag.parentNode;\r\n            }\r\n            \r\n            let parentDepth = util.getElementDepth(standTag);\r\n            let listParent = null;\r\n            const lineArr = [];\r\n            const removeItems = function (parent, origin, before) {\r\n                let cc = null;\r\n                if (parent !== origin && !util.isTable(origin)) {\r\n                    if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\r\n                    cc = util.removeItemAllParents(origin, null, parent);\r\n                }\r\n\r\n                return cc ? cc.ec : before;\r\n            };\r\n            \r\n            for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\r\n                line = rangeLines[i];\r\n                originParent = line.parentNode;\r\n                if (!originParent || rangeElement.contains(originParent)) continue;\r\n\r\n                depth = util.getElementDepth(line);\r\n\r\n                if (util.isList(originParent)) {\r\n                    if (listParent === null) {\r\n                        if (nextList) {\r\n                            listParent = nextList;\r\n                            nested = true;\r\n                            nextList = null;\r\n                        } else {\r\n                            listParent = originParent.cloneNode(false);\r\n                        }\r\n                    }\r\n\r\n                    lineArr.push(line);\r\n                    nextLine = rangeLines[i + 1];\r\n\r\n                    if (i === len - 1 || (nextLine && nextLine.parentNode !== originParent)) {\r\n                        // nested list\r\n                        if (nextLine && line.contains(nextLine.parentNode)) {\r\n                            nextList = nextLine.parentNode.cloneNode(false);\r\n                        }\r\n\r\n                        let list = originParent.parentNode, p;\r\n                        while (util.isList(list)) {\r\n                            p = util.createElement(list.nodeName);\r\n                            p.appendChild(listParent);\r\n                            listParent = p;\r\n                            list = list.parentNode;\r\n                        }\r\n\r\n                        const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\r\n\r\n                        if (parentDepth >= depth) {\r\n                            parentDepth = depth;\r\n                            pElement = edge.cc;\r\n                            beforeTag = removeItems(pElement, originParent, edge.ec);\r\n                            if (beforeTag) pElement = beforeTag.parentNode;\r\n                        } else if (pElement === edge.cc) {\r\n                            beforeTag = edge.ec;\r\n                        }\r\n\r\n                        if (pElement !== edge.cc) {\r\n                            before = removeItems(pElement, edge.cc, before);\r\n                            if (before !== undefined) beforeTag = before;\r\n                            else beforeTag = edge.cc;\r\n                        }\r\n\r\n                        for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\r\n                            listParent.appendChild(edge.removeArray[c]);\r\n                        }\r\n\r\n                        if (!nested) rangeElement.appendChild(listParent);\r\n                        if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\r\n                        listParent = null;\r\n                        nested = false;\r\n                    }\r\n                } else {\r\n                    if (parentDepth >= depth) {\r\n                        parentDepth = depth;\r\n                        pElement = originParent;\r\n                        beforeTag = line.nextSibling;\r\n                    }\r\n                    \r\n                    rangeElement.appendChild(line);\r\n\r\n                    if (pElement !== originParent) {\r\n                        before = removeItems(pElement, originParent);\r\n                        if (before !== undefined) beforeTag = before;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.effectNode = null;\r\n            util.mergeSameTags(rangeElement, null, false);\r\n            util.mergeNestedTags(rangeElement, function (current) { return this.isList(current); }.bind(util));\r\n\r\n            // Nested list\r\n            if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\r\n                const depthFormat = util.getParentElement(beforeTag, function (current) { return this.isRangeFormatElement(current) && !this.isList(current); }.bind(util));\r\n                const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                splitRange.parentNode.insertBefore(rangeElement, splitRange);\r\n            } else { // basic\r\n                pElement.insertBefore(rangeElement, beforeTag);\r\n                removeItems(rangeElement, beforeTag);\r\n            }\r\n\r\n            const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\r\n            if (rangeLines.length > 1) {\r\n                this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\r\n            } else {\r\n                this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n         * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n         * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n         * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n         * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n         * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @returns {Object}\r\n         */\r\n        detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\r\n            const range = this.getRange();\r\n            const so = range.startOffset;\r\n            const eo = range.endOffset;\r\n\r\n            let children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n            let parent = rangeElement.parentNode;\r\n            let firstNode = null;\r\n            let lastNode = null;\r\n            let rangeEl = rangeElement.cloneNode(false);\r\n            \r\n            const removeArray = [];\r\n            const newList = util.isList(newRangeElement);\r\n            let insertedNew = false;\r\n            let reset = false;\r\n            let moveComplete = false;\r\n\r\n            function appendNode (parent, insNode, sibling, originNode) {\r\n                if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\r\n\r\n                if (insNode.nodeType === 3) {\r\n                    parent.insertBefore(insNode, sibling);\r\n                    return insNode;\r\n                }\r\n                \r\n                const insChildren = (moveComplete ? insNode : originNode).childNodes;\r\n                let format = insNode.cloneNode(false);\r\n                let first = null;\r\n                let c = null;\r\n\r\n                while (insChildren[0]) {\r\n                    c = insChildren[0];\r\n                    if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\r\n                        if (format.childNodes.length > 0) {\r\n                            if (!first) first = format;\r\n                            parent.insertBefore(format, sibling);\r\n                            format = insNode.cloneNode(false);\r\n                        }\r\n                        parent.insertBefore(c, sibling);\r\n                        if (!first) first = c;\r\n                    } else {\r\n                        format.appendChild(c);\r\n                    }\r\n                }\r\n\r\n                if (format.childNodes.length > 0) {\r\n                    if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\r\n                        if (newList) {\r\n                            first = sibling;\r\n                            while(sibling) {\r\n                                format.appendChild(sibling);\r\n                                sibling = sibling.nextSibling;\r\n                            }\r\n                            parent.parentNode.insertBefore(format, parent.nextElementSibling);\r\n                        } else {\r\n                            const originNext = originNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(originNode, false);\r\n                            if ((rangeElement !== detachRange) || (originNext !== originNode.nextElementSibling)) {\r\n                                const fChildren = format.childNodes;\r\n                                while (fChildren[0]) {\r\n                                    originNode.appendChild(fChildren[0]);\r\n                                }\r\n\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        parent.insertBefore(format, sibling);\r\n                    }\r\n\r\n                    if (!first) first = format;\r\n                }\r\n\r\n                return first;\r\n            }\r\n\r\n            // detach loop\r\n            for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\r\n                insNode = children[i];\r\n                if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\r\n                \r\n                moveComplete = false;\r\n                if (remove && i === 0) {\r\n                    if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\r\n                        firstNode = rangeElement.previousSibling;\r\n                    } else {\r\n                        firstNode = rangeEl;\r\n                    }\r\n                }\r\n\r\n                if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\r\n                if (selectedFormats && lineIndex === -1) {\r\n                    if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\r\n                    rangeEl.appendChild(insNode);\r\n                } else {\r\n                    if (selectedFormats) next = selectedFormats[lineIndex + 1];\r\n                    if (rangeEl && rangeEl.children.length > 0) {\r\n                        parent.insertBefore(rangeEl, rangeElement);\r\n                        rangeEl = null;\r\n                    }\r\n\r\n                    if (!newList && util.isListCell(insNode)) {\r\n                        if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\r\n                            const insNext = insNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(insNode, false);\r\n                            if ((rangeElement !== detachRange) || insNext !== insNode.nextElementSibling) {\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        } else {\r\n                            const inner = insNode;\r\n                            insNode = util.createElement(remove ? inner.nodeName : (util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode)) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : 'P');\r\n                            const isCell = util.isListCell(insNode);\r\n                            const innerChildren = inner.childNodes;\r\n                            while (innerChildren[0]) {\r\n                                if (util.isList(innerChildren[0]) && !isCell) break;\r\n                                insNode.appendChild(innerChildren[0]);\r\n                            }\r\n                            util.copyFormatAttributes(insNode, inner);\r\n                            moveComplete = true;\r\n                        }\r\n                    } else {\r\n                        insNode = insNode.cloneNode(false);\r\n                    }\r\n\r\n                    if (!reset) {\r\n                        if (!remove) {\r\n                            if (newRangeElement) {\r\n                                if (!insertedNew) {\r\n                                    parent.insertBefore(newRangeElement, rangeElement);\r\n                                    insertedNew = true;\r\n                                }\r\n                                insNode = appendNode(newRangeElement, insNode, null, children[i]);\r\n                            } else {\r\n                                insNode = appendNode(parent, insNode, rangeElement, children[i]);\r\n                            }\r\n    \r\n                            if (!reset) {\r\n                                if (selectedFormats) {\r\n                                    lastNode = insNode;\r\n                                    if (!firstNode) {\r\n                                        firstNode = insNode;\r\n                                    }\r\n                                } else if (!firstNode) {\r\n                                    firstNode = lastNode = insNode;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            removeArray.push(insNode);\r\n                            util.removeItem(children[i]);\r\n                        }\r\n\r\n                        if (reset) {\r\n                            reset = moveComplete = false;\r\n                            children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n                            rangeEl = rangeElement.cloneNode(false);\r\n                            parent = rangeElement.parentNode;\r\n                            i = -1;\r\n                            len = children.length;\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const rangeParent = rangeElement.parentNode;\r\n            let rangeRight = rangeElement.nextSibling;\r\n            if (rangeEl && rangeEl.children.length > 0) {\r\n                rangeParent.insertBefore(rangeEl, rangeRight);\r\n            }\r\n            \r\n            if (newRangeElement) firstNode = newRangeElement.previousSibling;\r\n            else if (!firstNode) firstNode = rangeElement.previousSibling;\r\n            rangeRight = rangeElement.nextSibling;\r\n\r\n            if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\r\n                util.removeItem(rangeElement);\r\n            } else {\r\n                util.removeEmptyNode(rangeElement, null);\r\n            }\r\n\r\n            let edge = null;\r\n            if (remove) {\r\n                edge = {\r\n                    cc: rangeParent,\r\n                    sc: firstNode,\r\n                    ec: rangeRight,\r\n                    removeArray: removeArray\r\n                };\r\n            } else {\r\n                if (!firstNode) firstNode = lastNode;\r\n                if (!lastNode) lastNode = firstNode;\r\n                const childEdge = util.getEdgeChildNodes(firstNode, (lastNode.parentNode ? firstNode : lastNode));\r\n                edge = {\r\n                    cc: (childEdge.sc || childEdge.ec).parentNode,\r\n                    sc: childEdge.sc,\r\n                    ec: childEdge.ec\r\n                };\r\n            }\r\n\r\n            this.effectNode = null;\r\n            if (notHistoryPush) return edge;\r\n            \r\n            if (!remove && edge) {\r\n                if (!selectedFormats) {\r\n                    this.setRange(edge.sc, 0, edge.sc, 0);\r\n                } else {\r\n                    this.setRange(edge.sc, so, edge.ec, eo);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description \"selectedFormats\" array are detached from the list element.\r\n         * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n         * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n         */\r\n        detachList: function (selectedFormats, remove) {\r\n            let rangeArr = {};\r\n            let listFirst = false;\r\n            let listLast = false;\r\n            let first = null;\r\n            let last = null;\r\n            const passComponent = function (current) { return !this.isComponent(current); }.bind(util);\r\n\r\n            for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\r\n                lastIndex = i === len - 1;\r\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\r\n                isList = util.isList(o);\r\n                if (!r && isList) {\r\n                    r = o;\r\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                    if (i === 0) listFirst = true;\r\n                } else if (r && isList) {\r\n                    if (r !== o) {\r\n                        const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                        o = selectedFormats[i].parentNode;\r\n                        if (listFirst) {\r\n                            first = edge.sc;\r\n                            listFirst = false;\r\n                        }\r\n                        if (lastIndex) last = edge.ec;\r\n\r\n                        if (isList) {\r\n                            r = o;\r\n                            rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                            if (lastIndex) listLast = true;\r\n                        } else {\r\n                            r = null;\r\n                        }\r\n                    } else {\r\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\r\n                        if (lastIndex) listLast = true;\r\n                    }\r\n                }\r\n\r\n                if (lastIndex && util.isList(r)) {\r\n                    const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                    if (listLast || len === 1) last = edge.ec;\r\n                    if (listFirst) first = edge.sc || last;\r\n                }\r\n            }\r\n\r\n            return {\r\n                sc: first,\r\n                ec: last\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Add, update, and delete nodes from selected text.\r\n         * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n         * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n         * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n         * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n         *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n         * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n         *    (The class name is preceded by \".\" [\".className\"])\r\n         * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n         * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n         * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n         * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         *10. It won't work if the parent node has the same class and same value style.\r\n         *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n         * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n         * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n         * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n         * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         */\r\n        nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\r\n            this._resetRangeToTextNode();\r\n            let range = this.getRange_addLine(this.getRange());\r\n            styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\r\n            removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\r\n            \r\n            const isRemoveNode = !appendNode;\r\n            const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n\r\n            if ((isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode)) || (startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon))) {\r\n                return;\r\n            }\r\n\r\n            if (range.collapsed && !isRemoveFormat) {\r\n                if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\r\n                    let afterNode = null;\r\n                    const focusNode = startCon.childNodes[startOff];\r\n\r\n                    if (focusNode) {\r\n                        if (!focusNode.nextSibling) {\r\n                            afterNode = null;\r\n                        } else {\r\n                            afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\r\n                        }\r\n                    }\r\n\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    startCon.insertBefore(zeroWidth, afterNode);\r\n                    this.setRange(zeroWidth, 1, zeroWidth, 1);\r\n\r\n                    range = this.getRange();\r\n                    startCon = range.startContainer;\r\n                    startOff = range.startOffset;\r\n                    endCon = range.endContainer;\r\n                    endOff = range.endOffset;\r\n                }\r\n            }\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.firstChild;\r\n                startOff = 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            if (isRemoveNode) {\r\n                appendNode = util.createElement('DIV');\r\n            }\r\n\r\n            const wRegExp = _w.RegExp;\r\n            const newNodeName = appendNode.nodeName;\r\n\r\n            /* checked same style property */\r\n            if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\r\n                let sNode = startCon;\r\n                let checkCnt = 0;\r\n                const checkAttrs = [];\r\n                \r\n                const checkStyles = appendNode.style;\r\n                for (let i = 0, len = checkStyles.length; i < len; i++) {\r\n                    checkAttrs.push(checkStyles[i]);\r\n                }\r\n\r\n                const ckeckClasses = appendNode.classList;\r\n                for (let i = 0, len = ckeckClasses.length; i < len; i++) {\r\n                    checkAttrs.push('.' + ckeckClasses[i]);\r\n                }\r\n\r\n                if (checkAttrs.length > 0) {\r\n                    while(!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\r\n                        for (let i = 0; i < checkAttrs.length; i++) {\r\n                            if (sNode.nodeType === 1) {\r\n                                const s = checkAttrs[i];\r\n                                const classReg = /^\\./.test(s) ? new wRegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\r\n    \r\n                                const styleCheck = isRemoveNode ? !!sNode.style[s] : (!!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s]);\r\n                                const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\r\n                                if (styleCheck || classCheck) {\r\n                                    checkCnt++;\r\n                                }\r\n                            }\r\n                        }\r\n                        sNode = sNode.parentNode;\r\n                    }\r\n    \r\n                    if (checkCnt >= checkAttrs.length) return;\r\n                }\r\n            }\r\n\r\n            let start = {}, end = {};\r\n            let newNode, styleRegExp = '', classRegExp = '', removeNodeRegExp = '';\r\n\r\n            if (styleArray) {\r\n                for (let i = 0, len = styleArray.length, s; i < len; i++) {\r\n                    s = styleArray[i];\r\n                    if (/^\\./.test(s)) {\r\n                        classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\r\n                    } else {\r\n                        styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\r\n                    }\r\n                }\r\n\r\n                if (styleRegExp) {\r\n                    styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\r\n                    styleRegExp = new wRegExp(styleRegExp, 'ig');\r\n                }\r\n\r\n                if (classRegExp) {\r\n                    classRegExp += ')(?=\\\\s+|$)';\r\n                    classRegExp = new wRegExp(classRegExp, 'ig');\r\n                }\r\n            }\r\n\r\n            if (removeNodeArray) {\r\n                removeNodeRegExp = '^(?:' + removeNodeArray[0];\r\n                for (let i = 1; i < removeNodeArray.length; i++) {\r\n                    removeNodeRegExp += '|' + removeNodeArray[i];\r\n                }\r\n                removeNodeRegExp += ')$';\r\n                removeNodeRegExp = new wRegExp(removeNodeRegExp, 'i');\r\n            }\r\n\r\n            /** validation check function*/\r\n            const wBoolean = _w.Boolean;\r\n            const _removeCheck = {v: false};\r\n            const validation = function (checkNode) {\r\n                const vNode = checkNode.cloneNode(false);\r\n\r\n                // all path\r\n                if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode;\r\n                // all remove\r\n                if (isRemoveFormat) return null;\r\n\r\n                // remove node check\r\n                const tagRemove = (!removeNodeRegExp && isRemoveNode) || (removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName));\r\n\r\n                // tag remove\r\n                if (tagRemove && !strictRemove) {\r\n                    _removeCheck.v = true;\r\n                    return null;\r\n                }\r\n\r\n                // style regexp\r\n                const originStyle = vNode.style.cssText;\r\n                let style = '';\r\n                if (styleRegExp && originStyle.length > 0) {\r\n                    style = originStyle.replace(styleRegExp, '').trim();\r\n                    if (style !== originStyle) _removeCheck.v = true;\r\n                }\r\n\r\n                // class check\r\n                const originClasses = vNode.className;\r\n                let classes = '';\r\n                if (classRegExp && originClasses.length > 0) {\r\n                    classes = originClasses.replace(classRegExp, '').trim();\r\n                    if (classes !== originClasses) _removeCheck.v = true;\r\n                }\r\n\r\n                // remove only\r\n                if (isRemoveNode) {\r\n                    if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n                }\r\n\r\n                // change\r\n                if (style || classes || vNode.nodeName !== newNodeName || (wBoolean(styleRegExp) !== wBoolean(originStyle)) || (wBoolean(classRegExp) !== wBoolean(originClasses))) {\r\n                    if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\r\n                    if (!vNode.style.cssText) {\r\n                        vNode.removeAttribute('style');\r\n                    }\r\n\r\n                    if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\r\n                    if (!vNode.className.trim()) {\r\n                        vNode.removeAttribute('class');\r\n                    }\r\n\r\n                    if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n\r\n                    return vNode;\r\n                }\r\n\r\n                _removeCheck.v = true;\r\n                return null;\r\n            };\r\n\r\n            // get line nodes\r\n            const lineNodes = this.getSelectedElements(null);\r\n            range = this.getRange();\r\n            startCon = range.startContainer;\r\n            startOff = range.startOffset;\r\n            endCon = range.endContainer;\r\n            endOff = range.endOffset;\r\n\r\n            if (!util.getFormatElement(startCon, null)) {\r\n                startCon = util.getChildElement(lineNodes[0], function (current) { return current.nodeType === 3; }, false);\r\n                startOff = 0;\r\n            }\r\n\r\n            if (!util.getFormatElement(endCon, null)) {\r\n                endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) { return current.nodeType === 3; }, false);\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            \r\n            const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\r\n            const endLength = lineNodes.length - (oneLine ? 0 : 1);\r\n\r\n            // node Changes\r\n            newNode = appendNode.cloneNode(false);\r\n\r\n            const isRemoveAnchor = isRemoveFormat || (isRemoveNode && (function (arr) {\r\n                for (let n = 0, len = arr.length; n < len; n++) {\r\n                    if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\r\n                }\r\n                return false;\r\n            })(removeNodeArray));\r\n\r\n            const isSizeNode = util._isSizeNode(newNode);\r\n            const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n            const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n\r\n            // one line\r\n            if (oneLine) {\r\n                const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                start.container = newRange.startContainer;\r\n                start.offset = newRange.startOffset;\r\n                end.container = newRange.endContainer;\r\n                end.offset = newRange.endOffset;\r\n                if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\r\n                    start.offset = end.offset = 1;\r\n                }\r\n                this._setCommonListStyle(newRange.ancestor, null);\r\n            } else { // multi line \r\n                // end\r\n                if (endLength > 0) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                }\r\n\r\n                // mid\r\n                for (let i = endLength - 1, newRange; i > 0; i--) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    newRange = this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\r\n                    if (newRange.endContainer) {\r\n                        end.ancestor = null;\r\n                        end.container = newRange.endContainer;\r\n                    }\r\n                    this._setCommonListStyle(newRange.ancestor, null);\r\n                }\r\n\r\n                // start\r\n                newNode = appendNode.cloneNode(false);\r\n                start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\r\n\r\n                if (start.endContainer) {\r\n                    end.ancestor = null;\r\n                    end.container = start.endContainer;\r\n                }\r\n\r\n                if (endLength <= 0) {\r\n                    end = start;\r\n                } else if (!end.container) {\r\n                    end.ancestor = null;\r\n                    end.container = start.container;\r\n                    end.offset = start.container.textContent.length;\r\n                }\r\n\r\n                this._setCommonListStyle(start.ancestor, null);\r\n                this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\r\n            }\r\n\r\n            // set range\r\n            this.controllersOff();\r\n            this.setRange(start.container, start.offset, end.container, end.offset);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n         * @param {Element} el List cell element. <li>\r\n         * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n         * @private\r\n         */\r\n        _setCommonListStyle: function (el, child) {\r\n            if (!util.isListCell(el)) return;\r\n            if (!child) el.removeAttribute('style');\r\n            \r\n            const children = util.getArrayItem((child || el).childNodes, function (current) { return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim()); }, true);\r\n            if (children[0] && children.length === 1){\r\n                child = children[0];\r\n                if (!child || child.nodeType !== 1) return;\r\n\r\n                const childStyle = child.style;\r\n                const elStyle = el.style;\r\n\r\n                // bold\r\n                if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = 'bold'; // bold\r\n                else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight;\r\n\r\n                // styles\r\n                if (childStyle.color) elStyle.color = childStyle.color; // color\r\n                if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\r\n\r\n                this._setCommonListStyle(el, child);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Strip remove node\r\n         * @param {Node} removeNode The remove node\r\n         * @private\r\n         */\r\n        _stripRemoveNode: function (removeNode) {\r\n            const element = removeNode.parentNode;\r\n            if (!removeNode || removeNode.nodeType === 3 || !element) return;\r\n            \r\n            const children = removeNode.childNodes;\r\n            while (children[0]) {\r\n                element.insertBefore(children[0], removeNode);\r\n            }\r\n\r\n            element.removeChild(removeNode);\r\n        },\r\n\r\n        /**\r\n         * @description Return the parent maintained tag. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_getMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove) return null;\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\r\n        },\r\n\r\n        /**\r\n         * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_isMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove || element.nodeType !== 1) return false;\r\n            const anchor = this._isMaintainedNode(element);\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : (anchor || (!_isSizeNode ? this._isSizeNode(element) : false));\r\n        },\r\n\r\n        /**\r\n         * @description wraps text nodes of line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Boolean} collapsed range.collapsed\r\n         * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\r\n                if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                    const children = parentCon.childNodes;\r\n                    let sameTag = true;\r\n    \r\n                    for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\r\n                        c = children[i];\r\n                        z = !util.onlyZeroWidthSpace(c);\r\n                        if (c === startCon) {\r\n                            s = true;\r\n                            continue;\r\n                        }\r\n                        if (c === endCon) {\r\n                            e = true;\r\n                            continue;\r\n                        }\r\n                        if ((!s && z) || (s && e && z)) {\r\n                            sameTag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n    \r\n                    if (sameTag) {\r\n                        util.copyTagAttributes(parentCon, newInnerNode);\r\n        \r\n                        return {\r\n                            startContainer: startCon,\r\n                            startOffset: startOff,\r\n                            endContainer: endCon,\r\n                            endOffset: endOff\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n            const isSameNode = startCon === endCon;\r\n            let startContainer = startCon;\r\n            let startOffset = startOff;\r\n            let endContainer = endCon;\r\n            let endOffset = endOff;\r\n            let startPass = false;\r\n            let endPass = false;\r\n            let pCurrent, newNode, appendNode, cssText, anchorNode;\r\n\r\n            const wRegExp = _w.RegExp;\r\n            function checkCss (vNode) {\r\n                const regExp = new wRegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\r\n                let style = '';\r\n\r\n                if (regExp && vNode.style.cssText.length > 0) {\r\n                    style = regExp.test(vNode.style.cssText);\r\n                }\r\n            \r\n                return !style;\r\n            }\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n                    let cloneNode;\r\n\r\n                    // startContainer\r\n                    if (!startPass && child === startContainer) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\r\n                        const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, \r\n                                isSameNode ? \r\n                                (endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset) : \r\n                                startContainer.data.length - startOffset)\r\n                            );\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== line && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        newInnerNode.appendChild(childNode);\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        if (anchorNode && !_getMaintainedNode(endContainer)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        startContainer = textNode;\r\n                        startOffset = 0;\r\n                        startPass = true;\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(startContainer);\r\n                        if (!isSameNode) continue;\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!endPass && child === endContainer) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, (endContainer.length - endOffset)));\r\n                        const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            newNode = child;\r\n                            cssText = '';\r\n                            pCurrent = [];\r\n                            const anchors = [];\r\n                            while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                                if (newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));\r\n                                    else pCurrent.push(newNode.cloneNode(false));\r\n                                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                                }\r\n                                newNode = newNode.parentNode;\r\n                            }\r\n                            pCurrent = pCurrent.concat(anchors);\r\n\r\n                            cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n\r\n                            pNode.appendChild(cloneNode);\r\n                            newNode.textContent = afterNode.data;\r\n                        }\r\n\r\n                        if (anchorNode && cloneNode) {\r\n                            const afterAnchorNode = _getMaintainedNode(cloneNode);\r\n                            if (afterAnchorNode) {\r\n                                anchorNode = afterAnchorNode;\r\n                            }\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            newInnerNode.appendChild(childNode);\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.appendChild(anchorNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                        }\r\n\r\n                        endContainer = textNode;\r\n                        endOffset = textNode.data.length;\r\n                        endPass = true;\r\n\r\n                        if (!isRemoveFormat && collapsed) {\r\n                            newInnerNode = textNode;\r\n                            textNode.textContent = util.zeroWidthSpace;\r\n                        }\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(endContainer);\r\n                        continue;\r\n                    }\r\n\r\n                    // other\r\n                    if (startPass) {\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                pNode.appendChild(child.cloneNode(true));\r\n                                if (!collapsed) {\r\n                                    newInnerNode = newInnerNode.cloneNode(false);\r\n                                    pNode.appendChild(newInnerNode);\r\n                                    nNodeArray.push(newInnerNode);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\r\n                            if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n                        \r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (childNode === child) {\r\n                            if (!endPass) ancestor = newInnerNode;\r\n                            else ancestor = pNode;\r\n                        } else if (endPass) {\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    cloneNode = child.cloneNode(false);\r\n                    ancestor.appendChild(cloneNode);\r\n                    if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    startContainer: startCon,\r\n                    startOffset: startOff,\r\n                    endContainer: endCon,\r\n                    endOffset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    let textNode, textNode_s, textNode_e;\r\n                    \r\n                    if (collapsed) {\r\n                        textNode = util.createTextNode(util.zeroWidthSpace);\r\n                        pNode.replaceChild(textNode, removeNode);\r\n                    } else {\r\n                        const rChildren = removeNode.childNodes;\r\n                        textNode_s = rChildren[0];\r\n                        while (rChildren[0]) {\r\n                            textNode_e = rChildren[0];\r\n                            pNode.insertBefore(textNode_e, removeNode);\r\n                        }\r\n                        util.removeItem(removeNode);\r\n                    }\r\n\r\n                    if (i === 0) {\r\n                        if (collapsed) {\r\n                            startContainer = endContainer = textNode;\r\n                        } else {\r\n                            startContainer = textNode_s;\r\n                            endContainer = textNode_e;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (isRemoveNode) {\r\n                    for (let i = 0; i < nNodeArray.length; i++) {\r\n                        this._stripRemoveNode(nNodeArray[i]);\r\n                    }\r\n                }\r\n                \r\n                if (collapsed) {\r\n                    startContainer = endContainer = newInnerNode;\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n            if (collapsed) {\r\n                startOffset = startContainer.textContent.length;\r\n                endOffset = endContainer.textContent.length;\r\n            }\r\n\r\n            // endContainer reset\r\n            const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\r\n\r\n            if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\r\n                util.removeItem(endContainer);\r\n                endContainer = startContainer;\r\n            }\r\n            endOffset = endConReset ? endContainer.textContent.length : endOffset;\r\n\r\n            // node change\r\n            const newStartOffset = {s: 0, e: 0};\r\n            const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\r\n\r\n            const mergeEndCon = !endContainer.parentNode;\r\n            if (mergeEndCon) endContainer = startContainer;\r\n            const newEndOffset = {s: 0, e: 0};\r\n            const endPath = util.getNodePath(endContainer , pNode, (!mergeEndCon && !endConReset) ? newEndOffset : null);\r\n\r\n            startOffset += newStartOffset.s;\r\n            endOffset = (collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s);\r\n\r\n            // tag merge\r\n            const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\r\n\r\n            element.parentNode.replaceChild(pNode, element);\r\n\r\n            startContainer = util.getNodeFromPath(startPath, pNode);\r\n            endContainer = util.getNodeFromPath(endPath, pNode);\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                startContainer: startContainer,\r\n                startOffset: startOffset + newOffsets[0],\r\n                endContainer: endContainer,\r\n                endOffset: endOffset + newOffsets[1]\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps first line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {null|Node} If end container is renewed, returned renewed node\r\n         * @returns {Object} { ancestor, container, offset, endContainer }\r\n         * @private\r\n         */\r\n        _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\r\n                let sameTag = true;\r\n                let s = startCon.previousSibling;\r\n                while (s) {\r\n                    if (!util.onlyZeroWidthSpace(s)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    s = s.previousSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        ancestor: element,\r\n                        container: startCon,\r\n                        offset: startOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = startCon;\r\n            let offset = startOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                cloneChild = child.cloneNode(true);\r\n                                pNode.appendChild(cloneChild);\r\n                                pNode.appendChild(newInnerNode);\r\n                                nNodeArray.push(newInnerNode);\r\n\r\n                                // end container\r\n                                if (_endContainer && child.contains(_endContainer)) {\r\n                                    const endPath = util.getNodePath(_endContainer, child);\r\n                                    _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\r\n                            nNodeArray.push(newInnerNode);\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // startContainer\r\n                    if (!passNode && child === container) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== line && newNode !== null) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        container = textNode;\r\n                        offset = 0;\r\n                        passNode = true;\r\n\r\n                        ancestor.appendChild(container);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.appendChild(vNode);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: startCon,\r\n                    offset: startOff,\r\n                    endContainer: _endContainer\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n\r\n                    const rChildren = removeNode.childNodes;\r\n                    const textNode = rChildren[0];\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === 0) container = textNode;\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = 0;\r\n                }\r\n\r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset,\r\n                endContainer: _endContainer\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps mid lines selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n         * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n         * @private\r\n         */\r\n        _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\r\n            // not add tag\r\n            if (!isRemoveNode) {\r\n                // end container path\r\n                let endPath = null;\r\n                if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\r\n\r\n                const tempNode = element.cloneNode(true);\r\n                const newNodeName = newInnerNode.nodeName;\r\n                const newCssText = newInnerNode.style.cssText;\r\n                const newClass = newInnerNode.className;\r\n\r\n                let children = tempNode.childNodes;\r\n                let i = 0, len = children.length;\r\n                for (let child; i < len; i++) {\r\n                    child = children[i];\r\n                    if (child.nodeType === 3) break;\r\n                    if (child.nodeName === newNodeName) {\r\n                        child.style.cssText += newCssText;\r\n                        util.addClass(child, newClass);\r\n                    } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        continue;\r\n                    } else if (len === 1) {\r\n                        children = child.childNodes;\r\n                        len = children.length;\r\n                        i = -1;\r\n                        continue;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (len > 0 && i === len) {\r\n                    element.innerHTML = tempNode.innerHTML;\r\n                    return {\r\n                        ancestor: element,\r\n                        endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const pNode = element.cloneNode(false);\r\n            const nNodeArray = [newInnerNode];\r\n            let noneChange = true;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        if (newInnerNode.childNodes.length > 0) {\r\n                            pNode.appendChild(newInnerNode);\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        cloneChild = child.cloneNode(true);\r\n                        pNode.appendChild(cloneChild);\r\n                        pNode.appendChild(newInnerNode);\r\n                        nNodeArray.push(newInnerNode);\r\n                        ancestor = newInnerNode;\r\n\r\n                        // end container\r\n                        if (_endContainer && child.contains(_endContainer)) {\r\n                            const endPath = util.getNodePath(_endContainer, child);\r\n                            _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                        }\r\n\r\n                        continue;\r\n                    } else {\r\n                        vNode = validation(child);\r\n                        if (vNode) {\r\n                            noneChange = false;\r\n                            ancestor.appendChild(vNode);\r\n                            if (child.nodeType === 1) coverNode = vNode;\r\n                        }\r\n                    }\r\n\r\n                    if (!util.isBreak(child)) recursionFunc(child, coverNode);\r\n                }\r\n            })(element, newInnerNode);\r\n\r\n            // not remove tag\r\n            if (noneChange || (isRemoveNode && !isRemoveFormat && !_removeCheck.v)) return { ancestor: element, endContainer: _endContainer };\r\n\r\n            pNode.appendChild(newInnerNode);\r\n\r\n            if (isRemoveFormat && isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n            util.mergeSameTags(pNode, null, true);\r\n\r\n            // node change\r\n            element.parentNode.replaceChild(pNode, element);\r\n            return { ancestor: pNode, endContainer: _endContainer };\r\n        },\r\n\r\n        /**\r\n         * @description wraps last line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {Object} { ancestor, container, offset }\r\n         * @private\r\n         */\r\n        _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = endCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n            \r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                let sameTag = true;\r\n                let e = endCon.nextSibling;\r\n                while (e) {\r\n                    if (!util.onlyZeroWidthSpace(e)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    e = e.nextSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        ancestor: element,\r\n                        container: endCon,\r\n                        offset: endOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = endCon;\r\n            let offset = endOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                const cloneChild = child.cloneNode(true);\r\n                                pNode.insertBefore(cloneChild, ancestor);\r\n                                pNode.insertBefore(newInnerNode, cloneChild);\r\n                                nNodeArray.push(newInnerNode);\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.insertBefore(childNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!passNode && child === container) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== pNode) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== pNode) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.insertBefore(a, m.parentNode.firstChild);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            ancestor.insertBefore(afterNode, ancestor.firstChild);\r\n                        }\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== pNode && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        \r\n                        if (anchorNode) {\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.insertBefore(anchorNode, pNode.firstChild);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                        }\r\n\r\n                        container = textNode;\r\n                        offset = textNode.data.length;\r\n                        passNode = true;\r\n\r\n                        ancestor.insertBefore(container, ancestor.firstChild);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.insertBefore(vNode, ancestor.firstChild);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: endCon,\r\n                    offset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    let textNode = null;\r\n                    while (rChildren[0]) {\r\n                        textNode = rChildren[0];\r\n                        pNode.insertBefore(textNode, removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === nNodeArray.length - 1) {\r\n                        container = textNode;\r\n                        offset = textNode.textContent.length;\r\n                    }\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                if (!isRemoveNode && newInnerNode.textContent.length === 0) {\r\n                    util.removeEmptyNode(pNode, null);\r\n                    return {\r\n                        ancestor: null,\r\n                        container: null,\r\n                        offset: 0\r\n                    };\r\n                }\r\n\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = container.textContent.length;\r\n                } else if (util.onlyZeroWidthSpace(container)) {\r\n                    container = newInnerNode;\r\n                    offset = 1;\r\n                }\r\n                \r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Run plugin calls and basic commands.\r\n         * @param {String} command Command string\r\n         * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n         * @param {Element} target The element of command button\r\n         */\r\n        actionCall: function (command, display, target) {\r\n            // call plugins\r\n            if (display) {\r\n                if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\r\n                    const layer = context.element.toolbar.querySelector('.' + command);\r\n                    if (layer) {\r\n                        if (this._moreLayerActiveButton) {\r\n                            (context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'))).style.display = 'none';\r\n                            util.removeClass(this._moreLayerActiveButton, 'on');\r\n                        }\r\n                        util.addClass(target, 'on');\r\n                        this._moreLayerActiveButton = target;\r\n                        layer.style.display = 'block';\r\n\r\n                        event._showToolbarBalloon();\r\n                        event._showToolbarInline();\r\n                    }\r\n                    return;\r\n                } else if (/submenu/.test(display) && (this._menuTray[command] === null || target !== this.submenuActiveButton)) {\r\n                    this.callPlugin(command, this.submenuOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/dialog/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this), target);\r\n                    return;\r\n                } else if (/command/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].action.bind(this), target);\r\n                } else if (/container/.test(display) && (this._menuTray[command] === null || target !== this.containerActiveButton)) {\r\n                    this.callPlugin(command, this.containerOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/fileBrowser/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\r\n                }\r\n            } // default command\r\n            else if (command) {\r\n                this.commandHandler(target, command);\r\n            }\r\n\r\n            if (/more/i.test(display)) {\r\n                const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\r\n                if (layer) {\r\n                    util.removeClass(this._moreLayerActiveButton, 'on');\r\n                    this._moreLayerActiveButton = null;\r\n                    layer.style.display = 'none';\r\n\r\n                    event._showToolbarBalloon();\r\n                    event._showToolbarInline();\r\n                }\r\n            } else if (/submenu/.test(display)) {\r\n                this.submenuOff();\r\n            } else {\r\n                this.submenuOff();\r\n                this.containerOff();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Execute command of command button(All Buttons except submenu and dialog)\r\n         * (undo, redo, bold, underline, italic, strikethrough, subscript, superscript, removeFormat, indent, outdent, fullscreen, showBlocks, codeview, preview, print)\r\n         * @param {Element} target The element of command button\r\n         * @param {String} command Property of command button (data-value)\r\n         */\r\n        commandHandler: function (target, command) {\r\n            switch (command) {\r\n                case 'selectAll':\r\n                    const wysiwyg = context.element.wysiwyg;\r\n                    const first = util.getChildElement(wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false) || wysiwyg.firstChild;\r\n                    const last = util.getChildElement(wysiwyg.lastChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true) || wysiwyg.lastChild;\r\n                    if (!first || !last) return;\r\n                    this.setRange(first, 0, last, last.textContent.length);\r\n                    break;\r\n                case 'codeView':\r\n                    this.toggleCodeView();\r\n                    break;\r\n                case 'fullScreen':\r\n                    this.toggleFullScreen(target);\r\n                    break;\r\n                case 'indent':\r\n                case 'outdent':\r\n                    this.indent(command);\r\n                    break;\r\n                case 'undo':\r\n                    this.history.undo();\r\n                    break;\r\n                case 'redo':\r\n                    this.history.redo();\r\n                    break;\r\n                case 'removeFormat':\r\n                    this.removeFormat();\r\n                    this.focus();\r\n                    break;\r\n                case 'print':\r\n                    this.print();\r\n                    break;\r\n                case 'preview':\r\n                    this.preview();\r\n                    break;\r\n                case 'showBlocks':\r\n                    this.toggleDisplayBlocks();\r\n                    break;\r\n                case 'save':\r\n                    if (typeof options.callBackSave === 'function') {\r\n                        options.callBackSave(this.getContents(false));\r\n                    } else if (typeof functions.save === 'function') {\r\n                        functions.save();\r\n                    } else {\r\n                        throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\r\n                    }\r\n\r\n                    if (context.tool.save) context.tool.save.setAttribute('disabled', true);\r\n                    break;\r\n                default : // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\r\n                    command = this._defaultCommand[command.toLowerCase()] || command;\r\n                    if (!this.commandMap[command]) this.commandMap[command] = target;\r\n\r\n                    const nodesMap = this._variable.currentNodesMap;\r\n                    const cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\r\n                    let removeNode = command;\r\n\r\n                    if (/^SUB$/i.test(command) && nodesMap.indexOf('SUP') > -1) {\r\n                        removeNode = 'SUP';\r\n                    } else if (/^SUP$/i.test(command) && nodesMap.indexOf('SUB') > -1) {\r\n                        removeNode = 'SUB';\r\n                    }\r\n\r\n                    this.nodeChange(cmd, null, [removeNode], false);\r\n                    this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove format of the currently selected range\r\n         */\r\n        removeFormat: function () {\r\n            this.nodeChange(null, null, null, null);\r\n        },\r\n\r\n        /**\r\n         * @description This method implements indentation to selected range.\r\n         * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n         * @param {String} command Separator (\"indent\" or \"outdent\")\r\n         */\r\n        indent: function (command) {\r\n            const range = this.getRange();\r\n            const rangeLines = this.getSelectedElements(null);\r\n            const cells = [];\r\n            const shift = 'indent' !== command;\r\n            let sc = range.startContainer;\r\n            let ec = range.endContainer;\r\n            let so = range.startOffset;\r\n            let eo = range.endOffset;\r\n\r\n            for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\r\n                f = rangeLines[i];\r\n\r\n                if (!util.isListCell(f) || !this.plugins.list) {\r\n                    margin = /\\d+/.test(f.style.marginLeft) ? util.getNumber(f.style.marginLeft, 0) : 0;\r\n                    if (shift) {\r\n                        margin -= 25;\r\n                    } else {\r\n                        margin += 25;\r\n                    }\r\n                    util.setStyle(f, 'marginLeft', (margin <= 0 ? '' : margin + 'px'));\r\n                } else {\r\n                    if (shift || f.previousElementSibling) {\r\n                        cells.push(f);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // list cells\r\n            if (cells.length > 0) {\r\n                this.plugins.list.editInsideList.call(this, shift, cells);\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.setRange(sc, so, ec, eo);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Add or remove the class name of \"body\" so that the code block is visible\r\n         */\r\n        toggleDisplayBlocks: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            util.toggleClass(wysiwyg, 'se-show-block');\r\n            if (util.hasClass(wysiwyg, 'se-show-block')) {\r\n                util.addClass(this._styleCommandMap.showBlocks, 'active');\r\n            } else {\r\n                util.removeClass(this._styleCommandMap.showBlocks, 'active');\r\n            }\r\n            this._resourcesStateChange();\r\n        },\r\n\r\n        /**\r\n         * @description Changes to code view or wysiwyg view\r\n         */\r\n        toggleCodeView: function () {\r\n            const isCodeView = this._variable.isCodeView;\r\n            this.controllersOff();\r\n            util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\r\n\r\n            if (isCodeView) {\r\n                this._setCodeDataToEditor();\r\n                context.element.wysiwygFrame.scrollTop = 0;\r\n                context.element.code.style.display = 'none';\r\n                context.element.wysiwygFrame.style.display = 'block';\r\n\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\r\n                \r\n                this._variable.isCodeView = false;\r\n                \r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = false;\r\n                    if (/balloon|balloon-always/i.test(options.mode)) {\r\n                        context.element._arrow.style.display = '';\r\n                        this._isInline = false;\r\n                        this._isBalloon = true;\r\n                        event._hideToolbar();    \r\n                    }\r\n                }\r\n\r\n                this.nativeFocus();\r\n                util.removeClass(this._styleCommandMap.codeView, 'active');\r\n\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                this._setEditorDataToCodeView();\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? (context.element.code.scrollHeight + 'px') : 'auto';\r\n                if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\r\n                \r\n                this._variable.isCodeView = true;\r\n\r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = true;\r\n                    if (this._isBalloon) {\r\n                        context.element._arrow.style.display = 'none';\r\n                        context.element.toolbar.style.left = '';\r\n                        this._isInline = true;\r\n                        this._isBalloon = false;\r\n                        event._showToolbarInline();\r\n                    }\r\n                }\r\n                \r\n                this._variable._range = null;\r\n                context.element.code.focus();\r\n                util.addClass(this._styleCommandMap.codeView, 'active');\r\n            }\r\n\r\n            this._checkPlaceholder();\r\n\r\n            if (typeof functions.toggleCodeView === 'function') functions.toggleCodeView(this._variable.isCodeView, this);\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n         * @private\r\n         */\r\n        _setCodeDataToEditor: function () {\r\n            const code_html = this._getCodeView();\r\n\r\n            if (options.fullPage) {\r\n                const parseDocument = this._parser.parseFromString(code_html, 'text/html');\r\n                const headChildren = parseDocument.head.children;\r\n\r\n                for (let i = 0, len = headChildren.length; i < len; i++) {\r\n                    if (/script/i.test(headChildren[i].tagName)) {\r\n                        parseDocument.head.removeChild(headChildren[i]);\r\n                        i--, len--;\r\n                    }\r\n                }\r\n\r\n                this._wd.head.innerHTML = parseDocument.head.innerHTML;\r\n                this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\r\n\r\n                const attrs = parseDocument.body.attributes;\r\n                for (let i = 0, len = attrs.length; i < len; i++) {\r\n                    if (attrs[i].name === 'contenteditable') continue;\r\n                    this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\r\n                }\r\n                if (!util.hasClass(this._wd.body, 'sun-editor-editable')) util.addClass(this._wd.body, 'sun-editor-editable');\r\n            } else {\r\n                context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<p><br></p>';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n         * @private\r\n         */\r\n        _setEditorDataToCodeView: function () {\r\n            const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\r\n            let codeValue = '';\r\n\r\n            if (options.fullPage) {\r\n                const attrs = util.getAttributesToString(this._wd.body, null);\r\n                codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\r\n            } else {\r\n                codeValue = codeContents;\r\n            }\r\n\r\n            context.element.code.style.display = 'block';\r\n            context.element.wysiwygFrame.style.display = 'none';\r\n\r\n            this._setCodeView(codeValue);\r\n        },\r\n\r\n        /**\r\n         * @description Changes to full screen or default screen\r\n         * @param {Element} element full screen button\r\n         */\r\n        toggleFullScreen: function (element) {\r\n            const topArea = context.element.topArea;\r\n            const toolbar = context.element.toolbar;\r\n            const editorArea = context.element.editorArea;\r\n            const wysiwygFrame = context.element.wysiwygFrame;\r\n            const code = context.element.code;\r\n            const _var = this._variable;\r\n            this.controllersOff();\r\n\r\n            if (!_var.isFullScreen) {\r\n                _var.isFullScreen = true;\r\n                \r\n                _var._fullScreenAttrs.inline = this._isInline;\r\n                _var._fullScreenAttrs.balloon = this._isBalloon;\r\n\r\n                if (this._isInline || this._isBalloon) {\r\n                    this._isInline = false;\r\n                    this._isBalloon = false;\r\n                }\r\n                \r\n                if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\r\n\r\n                topArea.style.position = 'fixed';\r\n                topArea.style.top = '0';\r\n                topArea.style.left = '0';\r\n                topArea.style.width = '100%';\r\n                topArea.style.maxWidth = '100%';\r\n                topArea.style.height = '100%';\r\n                topArea.style.zIndex = '2147483647';\r\n\r\n                if (context.element._stickyDummy.style.display !== ('none' && '')) {\r\n                    _var._fullScreenAttrs.sticky = true;\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                _var._bodyOverflow = _d.body.style.overflow;\r\n                _d.body.style.overflow = 'hidden';\r\n\r\n                _var._editorAreaOriginCssText = editorArea.style.cssText;\r\n                _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\r\n                _var._codeOriginCssText = code.style.cssText;\r\n\r\n                editorArea.style.cssText = toolbar.style.cssText = '';\r\n                wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\r\n                toolbar.style.position = 'relative';\r\n                toolbar.style.display = 'block';\r\n\r\n                _var.innerHeight_fullScreen = (_w.innerHeight - toolbar.offsetHeight);\r\n                editorArea.style.height = _var.innerHeight_fullScreen + 'px';\r\n\r\n                util.changeElement(element.firstElementChild, icons.reduction);\r\n\r\n                if (options.iframe && options.height === 'auto') {\r\n                    editorArea.style.overflow = 'auto';\r\n                    this._iframeAutoHeight();\r\n                }\r\n\r\n                util.addClass(this._styleCommandMap.fullScreen, 'active');\r\n            } else {\r\n                _var.isFullScreen = false;\r\n\r\n                wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\r\n                code.style.cssText = _var._codeOriginCssText;\r\n                toolbar.style.cssText = '';\r\n                editorArea.style.cssText = _var._editorAreaOriginCssText;\r\n                topArea.style.cssText = _var._originCssText;\r\n                _d.body.style.overflow = _var._bodyOverflow;\r\n\r\n                if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\r\n\r\n                if (options.stickyToolbar > -1) {\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\r\n                    _var._fullScreenAttrs.sticky = false;\r\n                    context.element._stickyDummy.style.display = 'block';\r\n                    util.addClass(toolbar, \"se-toolbar-sticky\");\r\n                }\r\n\r\n                this._isInline = _var._fullScreenAttrs.inline;\r\n                this._isBalloon = _var._fullScreenAttrs.balloon;\r\n                if (this._isInline) event._showToolbarInline();\r\n                if (!!options.toolbarContainer) util.removeClass(toolbar, 'se-toolbar-balloon');\r\n\r\n                event.onScroll_window();\r\n                util.changeElement(element.firstElementChild, icons.expansion);\r\n\r\n                util.removeClass(this._styleCommandMap.fullScreen, 'active');\r\n            }\r\n\r\n            if (typeof functions.toggleFullScreen === 'function') functions.toggleFullScreen(this._variable.isFullScreen, this);\r\n        },\r\n\r\n        /**\r\n         * @description Prints the current contents of the editor.\r\n         */\r\n        print: function () {\r\n            const iframe = util.createElement('IFRAME');\r\n            iframe.style.display = 'none';\r\n            _d.body.appendChild(iframe);\r\n\r\n            const printDocument = util.getIframeDocument(iframe);\r\n            const contentsHTML = this.getContents(true);\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"sun-editor-editable\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n\r\n            this.showLoading();\r\n            _w.setTimeout(function () {\r\n                try {\r\n                    iframe.focus();\r\n                    // IE or Edge\r\n                    if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\r\n                        try {\r\n                            iframe.contentWindow.document.execCommand('print', false, null);\r\n                        } catch (e) {\r\n                            iframe.contentWindow.print();\r\n                        }\r\n                    } else {\r\n                        // Other browsers\r\n                        iframe.contentWindow.print();\r\n                    }\r\n                } catch (error) {\r\n                    throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\r\n                } finally {\r\n                    core.closeLoading();\r\n                    util.removeItem(iframe);\r\n                }\r\n            }, 1000);\r\n        },\r\n\r\n        /**\r\n         * @description Open the preview window.\r\n         */\r\n        preview: function () {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            \r\n            const contentsHTML = this.getContents(true);\r\n            const windowObject = _w.open('', '_blank');\r\n            windowObject.mimeType = 'text/html';\r\n            const w = context.element.wysiwygFrame.offsetWidth + 'px !important';\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\r\n\r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '<style>body {overflow:auto !important; width:' + w + '; border:1px solid #ccc; margin: 10px auto !important; height:auto !important;}</style>' +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n                \r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    '<meta charset=\"utf-8\" />' +\r\n                    '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n                    '<title>' + lang.toolbar.preview + '</title>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"sun-editor-editable\" style=\"width:' + w + '; border:1px solid #ccc; margin:10px auto !important; height:auto !important;\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the HTML string\r\n         * @param {String} html HTML string\r\n         */\r\n        setContents: function (html) {\r\n            const convertValue = this.convertContentsForEditor(html);\r\n            this._resetComponents();\r\n\r\n            if (!this._variable.isCodeView) {\r\n                context.element.wysiwyg.innerHTML = convertValue;\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                const value = this.convertHTMLForCodeView(convertValue);\r\n                this._setCodeView(value);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current contents\r\n         * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {Object}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            const contents = context.element.wysiwyg.innerHTML;\r\n            const renderHTML = util.createElement('DIV');\r\n            renderHTML.innerHTML = contents;\r\n\r\n            const figcaptions = util.getListChildren(renderHTML, function (current) {\r\n                return /FIGCAPTION/i.test(current.nodeName);\r\n            });\r\n\r\n            for (let i = 0, len = figcaptions.length; i < len; i++) {\r\n                figcaptions[i].removeAttribute('contenteditable');\r\n            }\r\n\r\n            if (options.fullPage && !onlyContents) {\r\n                const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\r\n                return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\r\n            } else {\r\n                return renderHTML.innerHTML;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Returns HTML string according to tag type and configuration.\r\n         * Use only \"cleanHTML\", \"convertContentsForEditor\"\r\n         * @param {Node} node Node\r\n         * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n         * @private\r\n         */\r\n        _makeLine: function (node, requireFormat) {\r\n            // element\r\n            if (node.nodeType === 1) {\r\n                if (util._disallowedTags(node)) return '';\r\n                if (!requireFormat || (util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || (util.isAnchor(node) && util.isMedia(node.firstElementChild)))) {\r\n                    return node.outerHTML;\r\n                } else {\r\n                    return '<p>' + node.outerHTML + '</p>';\r\n                }\r\n            }\r\n            // text\r\n            if (node.nodeType === 3) {\r\n                if (!requireFormat) return node.textContent;\r\n                const textArray = node.textContent.split(/\\n/g);\r\n                let html = '';\r\n                for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\r\n                    text = textArray[i].trim();\r\n                    if (text.length > 0) html += '<p>' + text + '</p>';\r\n                }\r\n                return html;\r\n            }\r\n            // comments\r\n            if (node.nodeType === 8 && this._allowHTMLComments) {\r\n                return '<!--' + node.textContent.trim() + '-->';\r\n            }\r\n\r\n            return '';\r\n        },\r\n\r\n        /**\r\n         * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n         * @param {String} text \r\n         * @returns {String} HTML string\r\n         * @private\r\n         */\r\n        _tagConvertor: function (text) {\r\n            if (!this._disallowedTextTagsRegExp) return text;\r\n\r\n            const ec = {'b': 'strong', 'i': 'em', 'ins': 'u', 'strike': 'del', 's': 'del'};\r\n            return text.replace(this._disallowedTextTagsRegExp, function (m, t, n) {\r\n                return t + (typeof ec[n] === 'string' ? ec[n] : n);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Delete disallowed tags\r\n         * @param {String} html HTML string\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _deleteDisallowedTags: function (html) {\r\n            return html\r\n                .replace(/\\n/g, '')\r\n                .replace(/<(script|style).*>(\\n|.)*<\\/(script|style)>/gi, '')\r\n                .replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, '')\r\n                .replace(this.editorTagsWhitelistRegExp, '');\r\n        },\r\n\r\n        /**\r\n         * @description Gets the clean HTML code for editor\r\n         * @param {String} html HTML string\r\n         * @param {String|RegExp} whitelist Regular expression of allowed tags.\r\n         * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n         * @returns {String}\r\n         */\r\n        cleanHTML: function (html, whitelist) {\r\n            html = this._deleteDisallowedTags(html)\r\n                .replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\r\n                    if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\r\n\r\n                    let v = null;\r\n                    const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9]+/)[0].toLowerCase()];\r\n                    if (tAttr) v = m.match(tAttr);\r\n                    else v = m.match(this._attributesWhitelistRegExp);\r\n\r\n                    if (/<span/i.test(t) && (!v || !/style=/i.test(v.toString()))) {\r\n                        const sv = m.match(/style\\s*=\\s*\"[^\"]*\"/);\r\n                        if (sv) {\r\n                            if (!v) v = [];\r\n                            v.push(sv[0]);\r\n                        }\r\n                    }\r\n\r\n                    if (v) {\r\n                        for (let i = 0, len = v.length; i < len; i++) {\r\n                            if (/^class=\"(?!(__se__|se-|katex))/.test(v[i])) continue;\r\n                            t += ' ' + v[i];\r\n                        }\r\n                    }\r\n\r\n                    return t;\r\n                }.bind(this));\r\n\r\n            const dom = _d.createRange().createContextualFragment(html);\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            if (this.managedTagsInfo && this.managedTagsInfo.query) {\r\n                const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\r\n                for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\r\n                    classList = [].slice.call(textCompList[i].classList);\r\n                    for (let c = 0, cLen = classList.length; c < cLen; c++) {\r\n                        initMethod = this.managedTagsInfo.map[classList[c]];\r\n                        if (initMethod) {\r\n                            initMethod(textCompList[i]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            let requireFormat = false;\r\n\r\n            for (let i = 0, len = domTree.length, t; i < len; i++) {\r\n                t = domTree[i];\r\n                if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\r\n                    requireFormat = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], requireFormat);\r\n            }\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\r\n        },\r\n\r\n        /**\r\n         * @description Converts contents into a format that can be placed in an editor\r\n         * @param {String} contents contents\r\n         * @returns {String}\r\n         */\r\n        convertContentsForEditor: function (contents) {\r\n            const dom = _d.createRange().createContextualFragment(this._deleteDisallowedTags(contents));\r\n\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], true);\r\n            }\r\n\r\n            if (cleanHTML.length === 0) return '<p><br></p>';\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(cleanHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n         * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n         * @returns {String}\r\n         */\r\n        convertHTMLForCodeView: function (html) {\r\n            let returnHTML = '';\r\n            const wRegExp = _w.RegExp;\r\n            const brReg = new wRegExp('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\r\n            const isFormatElement = util.isFormatElement.bind(util);\r\n            const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\r\n\r\n            let indentSize = this._variable.codeIndent * 1;\r\n            indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\r\n\r\n            (function recursionFunc (element, indent, lineBR) {\r\n                const children = element.childNodes;\r\n                const elementRegTest = brReg.test(element.nodeName);\r\n                const elementIndent = (elementRegTest ? indent : '');\r\n\r\n                for (let i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\r\n                    node = children[i];\r\n                    nodeRegTest = brReg.test(node.nodeName);\r\n                    br = nodeRegTest ? '\\n' : '';\r\n                    lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\r\n\r\n                    if (node.nodeType === 8) {\r\n                        returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\r\n                        continue;\r\n                    }\r\n                    if (node.nodeType === 3) {\r\n                        returnHTML += util._HTMLConvertor((/^\\n+$/.test(node.data) ? '' : node.data));\r\n                        continue;\r\n                    }\r\n                    if (node.childNodes.length === 0) {\r\n                        returnHTML += (/^HR$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\r\n                        continue;\r\n                    }\r\n                    \r\n                    node.innerHTML = node.innerHTML;\r\n                    const tag = node.nodeName.toLowerCase();\r\n                    returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(wRegExp('<' + tag + '[^>]*>', 'i'))[0] + br;\r\n                    recursionFunc(node, indent + indentSize, '');\r\n                    returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' : '' || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\r\n                }\r\n            }(wDoc, '', '\\n'));\r\n\r\n            return returnHTML.trim() + '\\n';\r\n        },\r\n\r\n        /**\r\n         * @description Add an event to document.\r\n         * When created as an Iframe, the same event is added to the document in the Iframe.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         * @param {Boolean} useCapture Use event capture\r\n         */\r\n        addDocEvent: function (type, listener, useCapture) {\r\n            _d.addEventListener(type, listener, useCapture);\r\n            if (options.iframe) {\r\n                this._wd.addEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove events from document.\r\n         * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         */\r\n        removeDocEvent: function (type, listener) {\r\n            _d.removeEventListener(type, listener);\r\n            if (options.iframe) {\r\n                this._wd.removeEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The current number of characters is counted and displayed.\r\n         * @param {String} inputText Text added.\r\n         * @returns {Boolean}\r\n         * @private\r\n         */\r\n        _charCount: function (inputText) {\r\n            const maxCharCount = options.maxCharCount;\r\n            const countType = options.charCounterType;\r\n            let nextCharCount = 0;\r\n            if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\r\n\r\n            this._setCharCount();\r\n\r\n            if (maxCharCount > 0) {\r\n                let over = false;\r\n                const count = functions.getCharCount(countType);\r\n                \r\n                if (count > maxCharCount) {\r\n                    over = true;\r\n                    if (nextCharCount > 0) {\r\n                        this._editorRange();\r\n                        const range = this.getRange();\r\n                        const endOff = range.endOffset - 1;\r\n                        const text = this.getSelectionNode().textContent;\r\n                        const slicePosition = range.endOffset - (count - maxCharCount);\r\n    \r\n                        this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\r\n                        this.setRange(range.endContainer, endOff, range.endContainer, endOff);\r\n                    }\r\n                } else if ((count + nextCharCount) > maxCharCount) {\r\n                    over = true;\r\n                }\r\n\r\n                if (over) {\r\n                    this._callCounterBlink();\r\n                    if (nextCharCount > 0) return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n         * @param {Node|String} element Element node or String.\r\n         * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n         * @returns {Boolean}\r\n         */\r\n        checkCharCount: function (element, charCounterType) {\r\n            if (options.maxCharCount) {\r\n                const countType = charCounterType || options.charCounterType;\r\n                const length = this.getCharLength((typeof element === 'string' ? element : this._charTypeHTML ? element.outerHTML : element.textContent), countType);\r\n                if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\r\n                    this._callCounterBlink();\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Get the length of the content.\r\n         * Depending on the option, the length of the character is taken. (charCounterType)\r\n         * @param {String} content Content to count\r\n         * @param {String} charCounterType options.charCounterType\r\n         * @returns {Number}\r\n         */\r\n        getCharLength: function (content, charCounterType) {\r\n            return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\r\n        },\r\n\r\n        /**\r\n         * @description Set the char count to charCounter element textContent.\r\n         * @private\r\n         */\r\n        _setCharCount: function () {\r\n            if (context.element.charCounter) {\r\n                _w.setTimeout(function () { context.element.charCounter.textContent = functions.getCharCount(options.charCounterType); });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The character counter blinks.\r\n         * @private\r\n         */\r\n        _callCounterBlink: function () {\r\n            const charWrapper = context.element.charWrapper;\r\n            if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\r\n                util.addClass(charWrapper, 'se-blink');\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(charWrapper, 'se-blink');\r\n                }, 600);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Check the components such as image and video and modify them according to the format.\r\n         * @private\r\n         */\r\n        _checkComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\r\n                this._fileInfoPluginsCheck[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Initialize the information of the components.\r\n         * @private\r\n         */\r\n        _resetComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\r\n                this._fileInfoPluginsReset[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set method in the code view area\r\n         * @param {String} value HTML string\r\n         * @private\r\n         */\r\n        _setCodeView: function (value) {\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.getDoc().setValue(value);\r\n            } else {\r\n                context.element.code.value = value;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get method in the code view area\r\n         * @private\r\n         */\r\n        _getCodeView: function () {\r\n            return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\r\n        },\r\n\r\n        /**\r\n         * @description Initializ core variable\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _init: function (reload, _initHTML) {\r\n            const wRegExp = _w.RegExp;\r\n            this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\r\n            this._wd = _d;\r\n            this._charTypeHTML = options.charCounterType === 'byte-html';\r\n\r\n            if (!options.iframe && typeof _w.ShadowRoot === 'function') {\r\n                let child = context.element.wysiwygFrame;\r\n                while (child) {\r\n                    if (child.shadowRoot) {\r\n                        this._shadowRoot = child.shadowRoot;\r\n                        break;\r\n                    } else if (child instanceof _w.ShadowRoot) {\r\n                        this._shadowRoot = child;\r\n                        break;\r\n                    }\r\n                    child = child.parentNode;\r\n                }\r\n            }\r\n\r\n            // set disallow text nodes\r\n            const disallowTextTags = ['b', 'i', 'ins', 's', 'strike'];\r\n            const allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split('|').filter(function (v) { return /b|i|ins|s|strike/i.test(v); });\r\n            for (let i = 0; i < allowTextTags.length; i++) {\r\n                disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\r\n            }\r\n            this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp('(<\\\\/?)(' + disallowTextTags.join('|') + ')\\\\b\\\\s*(?:[^>^<]+)?\\\\s*(?=>)', 'gi');\r\n\r\n            // set whitelist\r\n            const defaultAttr = 'contenteditable|colspan|rowspan|target|href|src|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size';\r\n            this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\r\n            this._htmlCheckWhitelistRegExp = new wRegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\r\n            this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|<!--|-->'));\r\n            this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\r\n\r\n            const _attr = options.attributesWhitelist;\r\n            const tagsAttr = {};\r\n            let allAttr = '';\r\n            if (!!_attr) {\r\n                for (let k in _attr) {\r\n                    if (!util.hasOwn(_attr, k)) continue;\r\n                    if (k === 'all') {\r\n                        allAttr = _attr[k] + '|';\r\n                    } else {\r\n                        tagsAttr[k] = new wRegExp('((?:' + _attr[k] + '|' + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\r\n                    }\r\n                }\r\n            }\r\n\r\n            this._attributesWhitelistRegExp = new wRegExp('((?:' + allAttr + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\r\n            this._attributesTagsWhitelist = tagsAttr;\r\n\r\n            // set modes\r\n            this._isInline = /inline/i.test(options.mode);\r\n            this._isBalloon = /balloon|balloon-always/i.test(options.mode);\r\n            this._isBalloonAlways = /balloon-always/i.test(options.mode);\r\n\r\n            // caching buttons\r\n            this._cachingButtons();\r\n\r\n            // file components\r\n            this._fileInfoPluginsCheck = [];\r\n            this._fileInfoPluginsReset = [];\r\n\r\n            // text components\r\n            this.managedTagsInfo = { query: '', map: {} };\r\n            const managedClass = [];\r\n\r\n            // Command and file plugins registration\r\n            this.activePlugins = [];\r\n            this._fileManager.tags = [];\r\n            this._fileManager.pluginMap = {};\r\n\r\n            let filePluginRegExp = [];\r\n            let plugin, button;\r\n            for (let key in plugins) {\r\n                if (!util.hasOwn(plugins, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (plugin.active && button) {\r\n                    this.callPlugin(key, null, button);\r\n                }\r\n                if (typeof plugin.checkFileInfo === 'function' && typeof plugin.resetFileInfo === 'function') {\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\r\n                    this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\r\n                }\r\n                if (_w.Array.isArray(plugin.fileTags)) {\r\n                    const fileTags = plugin.fileTags;\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileManager.tags = this._fileManager.tags.concat(fileTags);\r\n                    filePluginRegExp.push(key);\r\n                    for (let tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\r\n                        this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\r\n                    }\r\n                }\r\n                if (plugin.managedTags) {\r\n                    const info = plugin.managedTags();\r\n                    managedClass.push('.' + info.className);\r\n                    this.managedTagsInfo.map[info.className] = info.method.bind(this);\r\n                }\r\n            }\r\n\r\n            this.managedTagsInfo.query = managedClass.toString();\r\n            this._fileManager.queryString = this._fileManager.tags.join(',');\r\n            this._fileManager.regExp = new wRegExp('^(' +  this._fileManager.tags.join('|') + ')$', 'i');\r\n            this._fileManager.pluginRegExp = new wRegExp('^(' +  (filePluginRegExp.length === 0 ? 'undefined' : filePluginRegExp.join('|')) + ')$', 'i');\r\n            \r\n            // cache editor's element\r\n            this._variable._originCssText = context.element.topArea.style.cssText;\r\n            this._placeholder = context.element.placeholder;\r\n            this._lineBreaker = context.element.lineBreaker;\r\n            this._lineBreakerButton = this._lineBreaker.querySelector('button');\r\n\r\n            // Excute history function\r\n            this.history = _history(this, this._onChange_historyStack.bind(this));\r\n\r\n            // register notice module\r\n            this.addModule([_notice]);\r\n\r\n            // Init, validate\r\n            if (options.iframe) {\r\n                this._wd = context.element.wysiwygFrame.contentDocument;\r\n                context.element.wysiwyg = this._wd.body;\r\n                if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\r\n                if (options.height === 'auto') this._iframeAuto = this._wd.body;\r\n            }\r\n            \r\n            this._initWysiwygArea(reload, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Caching basic buttons to use\r\n         * @private\r\n         */\r\n        _cachingButtons: function () {\r\n            this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\r\n            this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\r\n            const tool = context.tool;\r\n            this.commandMap = {\r\n                STRONG: tool.bold,\r\n                U: tool.underline,\r\n                EM: tool.italic,\r\n                DEL: tool.strike,\r\n                SUB: tool.subscript,\r\n                SUP: tool.superscript,\r\n                OUTDENT: tool.outdent,\r\n                INDENT: tool.indent\r\n            };\r\n            this._styleCommandMap = {\r\n                fullScreen: tool.fullScreen,\r\n                showBlocks: tool.showBlocks,\r\n                codeView: tool.codeView\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Initializ wysiwyg area (Only called from core._init)\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _initWysiwygArea: function (reload, _initHTML) {\r\n            context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === 'string' ? _initHTML : context.element.originElement.value);\r\n        },\r\n\r\n        /**\r\n         * @description Called when there are changes to tags in the wysiwyg region.\r\n         * @private\r\n         */\r\n        _resourcesStateChange: function () {\r\n            this._iframeAutoHeight();\r\n            this._checkPlaceholder();\r\n        },\r\n\r\n        /**\r\n         * @description Called when after execute \"history.push\"\r\n         * @private\r\n         */\r\n        _onChange_historyStack: function () {\r\n            event._applyTagEffects();\r\n            if (context.tool.save) context.tool.save.removeAttribute('disabled');\r\n            if (functions.onChange) functions.onChange(this.getContents(true), this);\r\n        },\r\n\r\n        /**\r\n         * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n         * @private\r\n         */\r\n        _iframeAutoHeight: function () {\r\n            if (this._iframeAuto) {\r\n                _w.setTimeout(function () { context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px'; });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set display property when there is placeholder.\r\n         * @private\r\n         */\r\n        _checkPlaceholder: function () {\r\n            if (this._placeholder) {\r\n                if (this._variable.isCodeView) {\r\n                    this._placeholder.style.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector('.se-component, pre, blockquote, hr, li, table, img, iframe, video') || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\r\n                    this._placeholder.style.display = 'none';\r\n                } else {\r\n                    this._placeholder.style.display = 'block';\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If there is no default format, add a format and move \"selection\".\r\n         * @param {String|null} formatName Format tag name (default: 'P')\r\n         * @private\r\n         */\r\n        _setDefaultFormat: function (formatName) {\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\r\n\r\n            const range = this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startCon = range.startContainer;\r\n            const rangeEl = util.getRangeFormatElement(commonCon, null);\r\n            let focusNode, offset, format;\r\n\r\n            const fileComponent = util.getParentElement(commonCon, util.isComponent);\r\n            if (fileComponent && !util.isTable(fileComponent)) return;\r\n            if((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && util.isComponent(startCon.childNodes[range.startOffset])) return;\r\n\r\n            if (rangeEl) {\r\n                format = util.createElement(formatName || 'P');\r\n                format.innerHTML = rangeEl.innerHTML;\r\n                if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\r\n\r\n                rangeEl.innerHTML = format.outerHTML;\r\n                format = rangeEl.firstChild;\r\n                focusNode = util.getEdgeChildNodes(format, null).sc;\r\n\r\n                if (!focusNode) {\r\n                    focusNode = util.createTextNode(util.zeroWidthSpace);\r\n                    format.insertBefore(focusNode, format.firstChild);\r\n                }\r\n                \r\n                offset = focusNode.textContent.length;\r\n                this.setRange(focusNode, offset, focusNode, offset);\r\n                return;\r\n            }\r\n\r\n            if(util.isRangeFormatElement(commonCon) && (commonCon.childNodes.length <= 1)) {\r\n                let br = null;\r\n                if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\r\n                    br = commonCon.firstChild;\r\n                } else {\r\n                    br = util.createTextNode(util.zeroWidthSpace);\r\n                    commonCon.appendChild(br);\r\n                }\r\n\r\n                this.setRange(br, 1, br, 1);\r\n                return;\r\n            }\r\n\r\n            this.execCommand('formatBlock', false, (formatName || 'P'));\r\n            focusNode = util.getEdgeChildNodes(commonCon, commonCon);\r\n            focusNode = focusNode ? focusNode.ec : commonCon;\r\n\r\n            format = util.getFormatElement(focusNode, null);\r\n            if (!format) {\r\n                this.removeRange();\r\n                this._editorRange();\r\n                return;\r\n            }\r\n            \r\n            if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\r\n            if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\r\n            if (util.isBreak(focusNode)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                focusNode.parentNode.insertBefore(zeroWidth, focusNode);\r\n                focusNode = zeroWidth;\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.nativeFocus();\r\n        },\r\n\r\n        /**\r\n         * @description Initialization after \"setOptions\"\r\n         * @param {Object} el context.element\r\n         * @param {String} _initHTML Initial html string\r\n         * @private\r\n         */\r\n        _setOptionsInit: function (el, _initHTML) {\r\n            this.context = context = _Context(el.originElement, this._getConstructed(el), options);\r\n            this._componentsInfoReset = true;\r\n            this._editorInit(true, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Initializ editor\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _editorInit: function (reload, _initHTML) {\r\n            // initialize core and add event listeners\r\n            this._init(reload, _initHTML);\r\n            event._addEvent();\r\n            this._setCharCount();\r\n            event._offStickyToolbar();\r\n            event.onResize_window();\r\n\r\n            // toolbar visibility\r\n            context.element.toolbar.style.visibility = '';\r\n\r\n            this._checkComponents();\r\n            this._componentsInfoInit = false;\r\n            this._componentsInfoReset = false;\r\n\r\n            this.history.reset(true);\r\n            this._resourcesStateChange();\r\n\r\n            _w.setTimeout(function () {\r\n              if (typeof functions.onload === 'function') functions.onload(core, reload);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Create and return an object to cache the new context.\r\n         * @param {Element} contextEl context.element\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _getConstructed: function (contextEl) {\r\n            return {\r\n                _top: contextEl.topArea,\r\n                _relative: contextEl.relative,\r\n                _toolBar: contextEl.toolbar,\r\n                _menuTray: contextEl._menuTray,\r\n                _editorArea: contextEl.editorArea,\r\n                _wysiwygArea: contextEl.wysiwygFrame,\r\n                _codeArea: contextEl.code,\r\n                _placeholder: contextEl.placeholder,\r\n                _resizingBar: contextEl.resizingBar,\r\n                _navigation: contextEl.navigation,\r\n                _charCounter: contextEl.charCounter,\r\n                _charWrapper: contextEl.charWrapper,\r\n                _loading: contextEl.loading,\r\n                _lineBreaker: contextEl.lineBreaker,\r\n                _lineBreaker_t: contextEl.lineBreaker_t,\r\n                _lineBreaker_b: contextEl.lineBreaker_b,\r\n                _resizeBack: contextEl.resizeBackground,\r\n                _stickyDummy: contextEl._stickyDummy,\r\n                _arrow: contextEl._arrow\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @description event function\r\n     */\r\n    const event = {\r\n        _IEisComposing: false, // In IE, there is no \"e.isComposing\" in the key-up event.\r\n        _lineBreakerBind: null,\r\n        _responsiveCurrentSize: 'default',\r\n        _responsiveButtonSize: null,\r\n        _responsiveButtons: null,\r\n        _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\r\n        _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\r\n        _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\r\n        _onButtonsCheck: new _w.RegExp('^(STRONG|U|EM|DEL|SUB|SUP)$'),\r\n        _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\r\n        _keyCodeShortcut: {\r\n            65: 'A',\r\n            66: 'B',\r\n            83: 'S',\r\n            85: 'U',\r\n            73: 'I',\r\n            89: 'Y',\r\n            90: 'Z',\r\n            219: '[',\r\n            221: ']'\r\n        },\r\n\r\n        _shortcutCommand: function (keyCode, shift) {\r\n            let command = null;\r\n            const keyStr = event._keyCodeShortcut[keyCode];\r\n\r\n            switch (keyStr) {\r\n                case 'A':\r\n                    command = 'selectAll';\r\n                    break;\r\n                case 'B':\r\n                    if (options.shortcutsDisable.indexOf('bold') === -1) {\r\n                        command = 'STRONG';\r\n                    }\r\n                    break;\r\n                case 'S':\r\n                    if (shift && options.shortcutsDisable.indexOf('strike') === -1) {\r\n                        command = 'DEL';\r\n                    }\r\n                    break;\r\n                case 'U':\r\n                    if (options.shortcutsDisable.indexOf('underline') === -1) {\r\n                        command = 'U';\r\n                    }\r\n                    break;\r\n                case 'I':\r\n                    if (options.shortcutsDisable.indexOf('italic') === -1) {\r\n                        command = 'EM';\r\n                    }\r\n                    break;\r\n                case 'Z':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        if (shift) {\r\n                            command = 'redo';\r\n                        } else {\r\n                            command = 'undo';\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'Y':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        command = 'redo';\r\n                    }\r\n                    break;\r\n                case '[':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = 'outdent';\r\n                    }\r\n                    break;\r\n                case ']':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = 'indent';\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (!command) return false;\r\n\r\n            core.commandHandler(core.commandMap[command], command);\r\n            return true;\r\n        },\r\n\r\n        _applyTagEffects: function () {\r\n            let selectionNode = core.getSelectionNode();\r\n            if (selectionNode === core.effectNode) return;\r\n            core.effectNode = selectionNode;\r\n\r\n            const commandMap = core.commandMap;\r\n            const classOnCheck = this._onButtonsCheck;\r\n            const commandMapNodes = [];\r\n            const currentNodes = [];\r\n\r\n            const activePlugins = core.activePlugins;\r\n            const cLen = activePlugins.length;\r\n            let nodeName = '';\r\n\r\n            while (selectionNode.firstChild) {\r\n                selectionNode = selectionNode.firstChild;\r\n            }\r\n\r\n            for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\r\n                if (!element) break;\r\n                if (element.nodeType !== 1 || util.isBreak(element)) continue;\r\n                nodeName = element.nodeName.toUpperCase();\r\n                currentNodes.push(nodeName);\r\n\r\n                /* Active plugins */\r\n                for (let c = 0, name; c < cLen; c++) {\r\n                    name = activePlugins[c];\r\n                    if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\r\n                        commandMapNodes.push(name);\r\n                    }\r\n                }\r\n\r\n                if (util.isFormatElement(element)) {\r\n                    /* Outdent */\r\n                    if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\r\n                        if (util.isListCell(element) || (element.style.marginLeft && util.getNumber(element.style.marginLeft, 0) > 0)) {\r\n                            commandMapNodes.push('OUTDENT');\r\n                            commandMap.OUTDENT.removeAttribute('disabled');\r\n                        }\r\n                    }\r\n\r\n                    /* Indent */\r\n                    if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT && util.isListCell(element) && !element.previousElementSibling) {\r\n                        commandMapNodes.push('INDENT');\r\n                        commandMap.INDENT.setAttribute('disabled', true);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                /** default active buttons [strong, ins, em, del, sub, sup] */\r\n                if (classOnCheck.test(nodeName)) {\r\n                    commandMapNodes.push(nodeName);\r\n                    util.addClass(commandMap[nodeName], 'active');\r\n                }\r\n            }\r\n\r\n            /** remove class, display text */\r\n            for (let key in commandMap) {\r\n                if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            /** save current nodes */\r\n            core._variable.currentNodes = currentNodes.reverse();\r\n            core._variable.currentNodesMap = commandMapNodes;\r\n\r\n            /**  Displays the current node structure to resizingBar */\r\n            if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\r\n        },\r\n\r\n        _cancelCaptionEdit: function () {\r\n            this.setAttribute('contenteditable', false);\r\n            this.removeEventListener('blur', event._cancelCaptionEdit);\r\n        },\r\n\r\n        _buttonsEventHandler: function (e) {\r\n            let target = e.target;\r\n            if (core._bindControllersOff) e.stopPropagation();\r\n\r\n            if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\r\n                core._antiBlur = false;\r\n            } else {\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (util.getParentElement(target, '.se-submenu')) {\r\n                e.stopPropagation();\r\n                core._notHideToolbar = true;\r\n            } else {\r\n                let command = target.getAttribute('data-command');\r\n                let className = target.className;\r\n    \r\n                while (!command && !/se-menu-list/.test(className) && !/sun-editor-common/.test(className)) {\r\n                    target = target.parentNode;\r\n                    command = target.getAttribute('data-command');\r\n                    className = target.className;\r\n                }\r\n    \r\n                if (command === core._submenuName || command === core._containerName) {\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n        },\r\n\r\n        onClick_toolbar: function (e) {\r\n            let target = e.target;\r\n            let display = target.getAttribute('data-display');\r\n            let command = target.getAttribute('data-command');\r\n            let className = target.className;\r\n\r\n            while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\r\n                target = target.parentNode;\r\n                command = target.getAttribute('data-command');\r\n                display = target.getAttribute('data-display');\r\n                className = target.className;\r\n            }\r\n\r\n            if (!command && !display) return;\r\n            if (target.disabled) return;\r\n            if (!core.hasFocus) core.nativeFocus();\r\n            if (!core._variable.isCodeView) core._editorRange();\r\n\r\n            core.actionCall(command, display, target);\r\n        },\r\n\r\n        onMouseDown_wysiwyg: function (e) {\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n            \r\n            const tableCell = util.getParentElement(e.target, util.isCell);\r\n            if (tableCell) {\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\r\n                    core.callPlugin('table', function () {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\r\n                    }, null);\r\n                }\r\n            }\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\r\n            if (typeof functions.onMouseDown === 'function') functions.onMouseDown(e, core);\r\n        },\r\n\r\n        onClick_wysiwyg: function (e) {\r\n            const targetElement = e.target;\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n\r\n            const fileComponentInfo = core.getFileComponent(targetElement);\r\n            if (fileComponentInfo) {\r\n                e.preventDefault();\r\n                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                return;\r\n            }\r\n\r\n            const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\r\n            if (util.isNonEditable(figcaption)) {\r\n                e.preventDefault();\r\n                figcaption.setAttribute('contenteditable', true);\r\n                figcaption.focus();\r\n\r\n                if (core._isInline && !core._inlineToolbarAttr.isShow) {\r\n                    event._showToolbarInline();\r\n\r\n                    const hideToolbar = function () {\r\n                        event._hideToolbar();\r\n                        figcaption.removeEventListener('blur', hideToolbar);\r\n                    };\r\n\r\n                    figcaption.addEventListener('blur', hideToolbar);\r\n                }\r\n            }\r\n\r\n            _w.setTimeout(core._editorRange.bind(core));\r\n            core._editorRange();\r\n\r\n            const selectionNode = core.getSelectionNode();\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\r\n                const range = core.getRange();\r\n                if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\r\n                    if (util.isList(rangeEl)) {\r\n                        const oLi = util.createElement('LI');\r\n                        const prevLi = selectionNode.nextElementSibling;\r\n                        oLi.appendChild(selectionNode);\r\n                        rangeEl.insertBefore(oLi, prevLi);\r\n                    } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\r\n                        core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\r\n                    }\r\n                    \r\n                    e.preventDefault();\r\n                    core.focus();\r\n                }\r\n            } else {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\r\n            if (typeof functions.onClick === 'function') functions.onClick(e, core);\r\n        },\r\n\r\n        _balloonDelay: null,\r\n        _showToolbarBalloonDelay: function () {\r\n            if (event._balloonDelay) {\r\n                _w.clearTimeout(event._balloonDelay);\r\n            }\r\n\r\n            event._balloonDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(this._balloonDelay);\r\n                this._balloonDelay = null;\r\n                this._showToolbarBalloon();\r\n            }.bind(event), 350);\r\n        },\r\n\r\n        _toggleToolbarBalloon: function () {\r\n            core._editorRange();\r\n            const range = core.getRange();\r\n            if (core._bindControllersOff || (!core._isBalloonAlways && range.collapsed)) event._hideToolbar();\r\n            else event._showToolbarBalloon(range);\r\n        },\r\n\r\n        _showToolbarBalloon: function (rangeObj) {\r\n            if (!core._isBalloon) return;\r\n\r\n            const range = rangeObj || core.getRange();\r\n            const toolbar = context.element.toolbar;\r\n            const selection = core.getSelection();\r\n\r\n            let isDirTop;\r\n            if (core._isBalloonAlways && range.collapsed) {\r\n                isDirTop = true;\r\n            } else if (selection.focusNode === selection.anchorNode) {\r\n                isDirTop = selection.focusOffset < selection.anchorOffset;\r\n            } else {\r\n                const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\r\n                isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\r\n            }\r\n\r\n            let rects = range.getClientRects();\r\n            rects = rects[isDirTop ? 0 : rects.length - 1];\r\n\r\n            let scrollLeft = 0;\r\n            let scrollTop = 0;\r\n            let el = context.element.topArea;\r\n            while (!!el) {\r\n                scrollLeft += el.scrollLeft;\r\n                scrollTop += el.scrollTop;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            const editorWidth = context.element.topArea.offsetWidth;\r\n            const offsets = event._getEditorOffsets(null);\r\n            const stickyTop = offsets.top;\r\n            const editorLeft = offsets.left;\r\n            \r\n            toolbar.style.top = '-10000px';\r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n\r\n            if (!rects) {\r\n                const node = core.getSelectionNode();\r\n                if (util.isFormatElement(node)) {\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    core.insertNode(zeroWidth, null, false);\r\n                    core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n                    core._editorRange();\r\n                    rects = core.getRange().getClientRects();\r\n                    rects = rects[isDirTop ? 0 : rects.length - 1];\r\n                }\r\n\r\n                if (!rects) {\r\n                    const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\r\n                    rects = {\r\n                        left: nodeOffset.left,\r\n                        top: nodeOffset.top,\r\n                        right: nodeOffset.left,\r\n                        bottom: nodeOffset.top + node.offsetHeight,\r\n                        noText: true\r\n                    };\r\n                    scrollLeft = 0;\r\n                    scrollTop = 0;\r\n                }\r\n\r\n                isDirTop = true;\r\n            }\r\n\r\n            const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = toolbar.offsetHeight;\r\n            const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\r\n            if (iframeRects) {\r\n                rects = {\r\n                    left: rects.left + iframeRects.left,\r\n                    top: rects.top + iframeRects.top,\r\n                    right: rects.right + iframeRects.right - iframeRects.width,\r\n                    bottom: rects.bottom + iframeRects.bottom - iframeRects.height\r\n                };\r\n            }\r\n            \r\n            event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\r\n                event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            }\r\n\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\r\n            const padding = 1;\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\r\n\r\n            const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - (toolbarWidth / 2) + scrollLeft;\r\n            const overRight = absoluteLeft + toolbarWidth - editorWidth;\r\n            \r\n            let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n            let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\r\n\r\n            let resetTop = false;\r\n            const space = t + (isDirTop ? (event._getEditorOffsets(null).top) : (toolbar.offsetHeight - context.element.wysiwyg.offsetHeight));\r\n            if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\r\n                isDirTop = true;\r\n                resetTop = true;\r\n            } else if (isDirTop && _d.documentElement.offsetTop > space) {\r\n                isDirTop = false;\r\n                resetTop = true;\r\n            }\r\n\r\n            if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n\r\n            toolbar.style.left = _w.Math.floor(l) + 'px';\r\n            toolbar.style.top = _w.Math.floor(t) + 'px';\r\n\r\n            if (isDirTop) {\r\n                util.removeClass(context.element._arrow, 'se-arrow-up');\r\n                util.addClass(context.element._arrow, 'se-arrow-down');\r\n                context.element._arrow.style.top = toolbarHeight + 'px';\r\n            } else {\r\n                util.removeClass(context.element._arrow, 'se-arrow-down');\r\n                util.addClass(context.element._arrow, 'se-arrow-up');\r\n                context.element._arrow.style.top = -arrowMargin + 'px';\r\n            }\r\n\r\n            const arrow_left = _w.Math.floor((toolbarWidth / 2) + (absoluteLeft - l));\r\n            context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\r\n        },\r\n\r\n        _showToolbarInline: function () {\r\n            if (!core._isInline) return;\r\n\r\n            const toolbar = context.element.toolbar;\r\n            if (options.toolbarContainer) toolbar.style.position = 'relative';\r\n            else toolbar.style.position = 'absolute';\r\n            \r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n            core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\r\n            core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : (-1 - toolbar.offsetHeight)) + 'px';\r\n            \r\n            if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\r\n\r\n            event.onScroll_window();\r\n            core._inlineToolbarAttr.isShow = true;\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _hideToolbar: function () {\r\n            if (!core._notHideToolbar && !core._variable.isFullScreen) {\r\n                context.element.toolbar.style.display = 'none';\r\n                core._inlineToolbarAttr.isShow = false;\r\n            }\r\n        },\r\n\r\n        onInput_wysiwyg: function (e) {\r\n            core._editorRange();\r\n\r\n            const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';       \r\n            if (!core._charCount(data)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n\r\n            if (typeof functions.onInput === 'function') functions.onInput(e, core);\r\n        },\r\n\r\n        _onShortcutKey: false,\r\n        onKeyDown_wysiwyg: function (e) {\r\n            const keyCode = e.keyCode;\r\n            const shift = e.shiftKey;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            event._IEisComposing = keyCode === 229;\r\n\r\n            core.submenuOff();\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            /** Shortcuts */\r\n            if (ctrl && event._shortcutCommand(keyCode, shift)) {\r\n                event._onShortcutKey = true;\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            } else if (event._onShortcutKey) {\r\n                event._onShortcutKey = false;\r\n            }\r\n\r\n            /** default key action */\r\n            let selectionNode = core.getSelectionNode();\r\n            const range = core.getRange();\r\n            const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\r\n            const fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : '';\r\n            let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\r\n            let rangeEl = util.getRangeFormatElement(formatEl, null);\r\n\r\n            switch (keyCode) {\r\n                case 8: /** backspace key */\r\n                    if (!selectRange) {\r\n                        if (fileComponentName) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            core.plugins[fileComponentName].destroy.call(core);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core._setDefaultFormat('P');\r\n                        return false;\r\n                    }\r\n\r\n                    if (!selectRange && !formatEl.previousElementSibling && (range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && \r\n                     (util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))))) {\r\n                        // closure range\r\n                        if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            return false;\r\n                        }\r\n                        // maintain default format\r\n                        if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n\r\n                            formatEl.innerHTML = '<br>';\r\n                            const attrs = formatEl.attributes;\r\n                            while (attrs[0]) {\r\n                                formatEl.removeAttribute(attrs[0].name);\r\n                            }\r\n                            core.nativeFocus();\r\n\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    // clean remove tag\r\n                    if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\r\n                        if (range.collapsed ? selectionNode.textContent.length === 1 : (range.endOffset - range.startOffset) === selectionNode.textContent.length) {\r\n                            e.preventDefault();\r\n\r\n                            let offset = null;\r\n                            let prev = selectionNode.parentNode.previousSibling;\r\n                            const next = selectionNode.parentNode.nextSibling;\r\n                            if (!prev) {\r\n                                if (!next) {\r\n                                    prev = util.createElement('BR');\r\n                                    formatEl.appendChild(prev);\r\n                                } else {\r\n                                    prev = next;\r\n                                    offset = 0;\r\n                                }\r\n                            }\r\n\r\n                            selectionNode.textContent = '';\r\n                            util.removeItemAllParents(selectionNode, null, formatEl);\r\n                            offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\r\n                            core.setRange(prev, offset, prev, offset);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    const commonCon = range.commonAncestorContainer;\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling)))) &&\r\n                         (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : (range.startOffset === 0  && range.collapsed))) {\r\n                            if (range.startContainer !== range.endContainer) {\r\n                                e.preventDefault();\r\n\r\n                                core.removeNode();\r\n                                if (range.startContainer.nodeType === 3) {\r\n                                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\r\n                                }\r\n                                // history stack\r\n                                core.history.push(true);\r\n                            } else {\r\n                                let prev = formatEl.previousElementSibling || rangeEl.parentNode;\r\n                                if (util.isListCell(prev)) {\r\n                                    e.preventDefault();\r\n\r\n                                    let prevLast = prev;\r\n                                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                        prevLast = prevLast.lastElementChild.lastElementChild;\r\n                                        while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                            prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\r\n                                        }\r\n                                        prev = prevLast;\r\n                                    }\r\n\r\n                                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\r\n                                    if (!con) {\r\n                                        con = util.createTextNode(util.zeroWidthSpace);\r\n                                        rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\r\n                                    }\r\n                                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\r\n                                    const children = formatEl.childNodes;\r\n                                    let after = con;\r\n                                    let child = children[0];\r\n                                    while ((child = children[0])) {\r\n                                        prev.insertBefore(child, after.nextSibling);\r\n                                        after = child;\r\n                                    }\r\n\r\n                                    util.removeItem(formatEl);\r\n                                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\r\n\r\n                                    core.setRange(con, offset, con, offset);\r\n                                    // history stack\r\n                                    core.history.push(true);\r\n                                }\r\n                            }\r\n                            \r\n                            break;\r\n                        }\r\n\r\n                        // detach range\r\n                        if (!selectRange && range.startOffset === 0) {\r\n                            let detach = true;\r\n                            let comm = commonCon;\r\n                            while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\r\n                                if (comm.previousSibling) {\r\n                                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\r\n                                        detach = false;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                comm = comm.parentNode;\r\n                            }\r\n    \r\n                            if (detach && rangeEl.parentNode) {\r\n                                e.preventDefault();\r\n                                core.detachRangeFormatElement(rangeEl, (util.isListCell(formatEl) ? [formatEl] : null), null, false, false);\r\n                                // history stack\r\n                                core.history.push(true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // component\r\n                    if (!selectRange && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        // select file component\r\n                        const ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\r\n                        if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || (ignoreZWS && util.isComponent(formatEl.previousSibling)))) {\r\n                            const fileComponentInfo = core.getFileComponent(formatEl.previousSibling);\r\n                            if (fileComponentInfo) {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                if (formatEl.textContent.length === 0) util.removeItem(formatEl);\r\n                                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                            }\r\n                            break;\r\n                        }\r\n                        // delete nonEditable\r\n                        if (util.isNonEditable(sel.previousSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.previousSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                case 46: /** delete key */\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.plugins[fileComponentName].destroy.call(core);\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    // component\r\n                    if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || (util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null)) && range.startOffset === selectionNode.textContent.length) {\r\n                        let nextEl = formatEl.nextElementSibling;\r\n                        if (!nextEl) {\r\n                            e.preventDefault();\r\n                            break;\r\n                        }\r\n\r\n                        if (util.isComponent(nextEl)) {\r\n                            e.preventDefault();\r\n\r\n                            if (util.onlyZeroWidthSpace(formatEl)) {\r\n                                util.removeItem(formatEl);\r\n                                // table component\r\n                                if (util.isTable(nextEl)) {\r\n                                    let cell = util.getChildElement(nextEl, util.isCell, false);\r\n                                    cell = cell.firstElementChild || cell;\r\n                                    core.setRange(cell, 0, cell, 0);\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            // select file component\r\n                            const fileComponentInfo = core.getFileComponent(nextEl);\r\n                            if (fileComponentInfo) {\r\n                                e.stopPropagation();\r\n                                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        // delete nonEditable\r\n                        if (util.isNonEditable(sel.nextSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.nextSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) &&\r\n                     (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : (range.endOffset === selectionNode.textContent.length && range.collapsed))))) {\r\n                        if (range.startContainer !== range.endContainer) core.removeNode();\r\n                        \r\n                        let next = util.getArrayItem(formatEl.children, util.isList, false);\r\n                        next = next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\r\n                        if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\r\n                            e.preventDefault();\r\n\r\n                            let con, children;\r\n                            if (util.isList(next)) {\r\n                                const child = next.firstElementChild;\r\n                                children = child.childNodes;\r\n                                con = children[0];\r\n                                while (children[0]) {\r\n                                    formatEl.insertBefore(children[0], next);\r\n                                }\r\n                                util.removeItem(child);\r\n                            } else {\r\n                                con = next.firstChild;\r\n                                children = next.childNodes;\r\n                                while (children[0]) {\r\n                                    formatEl.appendChild(children[0]);\r\n                                }\r\n                                util.removeItem(next);\r\n                            }\r\n                            core.setRange(con, 0, con, 0);\r\n                            // history stack\r\n                            core.history.push(true);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                    break;\r\n                case 9: /** tab key */\r\n                    if (fileComponentName || options.tabDisable) break;\r\n                    e.preventDefault();\r\n                    if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\r\n\r\n                    const isEdge = (!range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset));            \r\n                    const selectedFormats = core.getSelectedElements(null);\r\n                    selectionNode = core.getSelectionNode();\r\n                    const cells = [];\r\n                    let lines = [];\r\n                    let fc = util.isListCell(selectedFormats[0]), lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\r\n                    let r = {sc: range.startContainer, so: range.startOffset, ec: range.endContainer, eo: range.endOffset};\r\n                    for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\r\n                        f = selectedFormats[i];\r\n                        if (util.isListCell(f)) {\r\n                            if (!f.previousElementSibling && !shift) {\r\n                                continue;\r\n                            } else {\r\n                                cells.push(f);\r\n                            }\r\n                        } else {\r\n                            lines.push(f);\r\n                        }\r\n                    }\r\n                    \r\n                    // Nested list\r\n                    if (cells.length > 0 && isEdge && core.plugins.list) {\r\n                        r = core.plugins.list.editInsideList.call(core, shift, cells);\r\n                    } else {\r\n                        // table\r\n                        const tableCell = util.getParentElement(selectionNode, util.isCell);\r\n                        if (tableCell && isEdge) {\r\n                            const table = util.getParentElement(tableCell, 'table');\r\n                            const cells = util.getListChildren(table, util.isCell);\r\n                            let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\r\n\r\n                            if (idx === cells.length && !shift) idx = 0;\r\n                            if (idx === -1 && shift) idx = cells.length - 1;\r\n\r\n                            let moveCell = cells[idx];\r\n                            if (!moveCell) break;\r\n                            moveCell = moveCell.firstElementChild || moveCell;\r\n                            core.setRange(moveCell, 0, moveCell, 0);\r\n                            break;\r\n                        }\r\n\r\n                        lines = lines.concat(cells);\r\n                        fc = lc = null;\r\n                    }\r\n\r\n                    // Lines tab(4)\r\n                    if (lines.length > 0) {\r\n                        if (!shift) {\r\n                            const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\r\n                            if (lines.length === 1) {\r\n                                const textRange = core.insertNode(tabText, null, true);\r\n                                if (!textRange) return false;\r\n                                if (!fc) {\r\n                                    r.sc = tabText;\r\n                                    r.so = textRange.endOffset;\r\n                                }\r\n                                if (!lc) {\r\n                                    r.ec = tabText;\r\n                                    r.eo = textRange.endOffset;\r\n                                }\r\n                            } else {\r\n                                const len = lines.length - 1;\r\n                                for (let i = 0, child; i <= len; i++) {\r\n                                    child = lines[i].firstChild;\r\n                                    if (!child) continue;\r\n    \r\n                                    if (util.isBreak(child)) {\r\n                                        lines[i].insertBefore(tabText.cloneNode(false), child);\r\n                                    } else {\r\n                                        child.textContent = tabText.textContent + child.textContent;\r\n                                    }\r\n                                }\r\n    \r\n                                const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                                const endChild = util.getChildElement(lines[len], 'text', true);\r\n                                if (!fc && firstChild) {\r\n                                    r.sc = firstChild;\r\n                                    r.so = 0;\r\n                                }\r\n                                if (!lc && endChild) {\r\n                                    r.ec = endChild;\r\n                                    r.eo = endChild.textContent.length;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            const len = lines.length - 1;\r\n                            for (let i = 0, line; i <= len; i++) {\r\n                                line = lines[i].childNodes;\r\n                                for (let c = 0, cLen = line.length, child; c < cLen; c++) {\r\n                                    child = line[c];\r\n                                    if (!child) break;\r\n                                    if (util.onlyZeroWidthSpace(child)) continue;\r\n        \r\n                                    if (/^\\s{1,4}$/.test(child.textContent)) {\r\n                                        util.removeItem(child);\r\n                                    } else if (/^\\s{1,4}/.test(child.textContent)) {\r\n                                        child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\r\n                                    }\r\n                                    \r\n                                    break;\r\n                                }\r\n                            }\r\n    \r\n                            const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                            const endChild = util.getChildElement(lines[len], 'text', true);\r\n                            if (!fc && firstChild) {\r\n                                r.sc = firstChild;\r\n                                r.so = 0;\r\n                            }\r\n                            if (!lc && endChild) {\r\n                                r.ec = endChild;\r\n                                r.eo = endChild.textContent.length;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    core.setRange(r.sc, r.so, r.ec, r.eo);\r\n                    // history stack\r\n                    core.history.push(false);\r\n                    \r\n                    break;\r\n                case 13: /** enter key */\r\n                    const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\r\n\r\n                    if (core._charTypeHTML) {\r\n                        let enterHTML = '';\r\n                        if ((!shift && freeFormatEl) || shift) {\r\n                            enterHTML = '<br>';\r\n                        } else {\r\n                            enterHTML = '<' + formatEl.nodeName + '><br></' + formatEl.nodeName + '>';\r\n                        }\r\n\r\n                        if (!core.checkCharCount(enterHTML, 'byte-html')) {\r\n                            e.preventDefault();\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    if (!shift && freeFormatEl) {\r\n                        e.preventDefault();\r\n                        const selectionFormat = selectionNode === freeFormatEl;\r\n                        const wSelection = core.getSelection();\r\n                        const children = selectionNode.childNodes, offset = wSelection.focusOffset, prev = selectionNode.previousElementSibling, next = selectionNode.nextSibling;\r\n\r\n                        if (!util.isClosureFreeFormatElement(freeFormatEl) && !!children && ((selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || ((!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent))) &&  offset > 0 && util.isBreak(children[offset - 1])) ||\r\n                          (!selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || (!util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))))) {\r\n                            if (selectionFormat) util.removeItem(children[offset - 1]);\r\n                            else util.removeItem(selectionNode);\r\n                            const newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\r\n                            util.copyFormatAttributes(newEl, freeFormatEl);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                        \r\n                        if (selectionFormat) {\r\n                            functions.insertHTML(((range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1])) ? '<br>' : '<br><br>'), true, false);\r\n\r\n                            let focusNode = wSelection.focusNode;\r\n                            const wOffset = wSelection.focusOffset;\r\n                            if (freeFormatEl === focusNode) {\r\n                                focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\r\n                            }\r\n\r\n                            core.setRange(focusNode, 1, focusNode, 1);\r\n                        } else {\r\n                            const focusNext = wSelection.focusNode.nextSibling;\r\n                            const br = util.createElement('BR');\r\n                            core.insertNode(br, null, false);\r\n\r\n                            const brPrev = br.previousSibling, brNext = br.nextSibling;\r\n                            if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\r\n                                br.parentNode.insertBefore(br.cloneNode(false), br);\r\n                                core.setRange(br, 1, br, 1);\r\n                            } else {\r\n                                core.setRange(brNext, 0, brNext, 0);\r\n                            }\r\n                        }\r\n\r\n                        event._onShortcutKey = true;\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange) break;\r\n                    \r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        const range = core.getRange();\r\n                        if(core.isEdgePoint(range.endContainer, range.endOffset) && util.isList(selectionNode.nextSibling)) {\r\n                            e.preventDefault();\r\n                            const newEl = util.createElement('LI');\r\n                            const br = util.createElement('BR');\r\n                            newEl.appendChild(br);\r\n\r\n                            formatEl.parentNode.insertBefore(newEl, formatEl.nextElementSibling);\r\n                            newEl.appendChild(selectionNode.nextSibling);\r\n                            \r\n                            core.setRange(br, 1, br, 1);\r\n                            break;\r\n                        }\r\n\r\n                        if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\r\n                            e.preventDefault();\r\n                            let newEl = null;\r\n\r\n                            if (util.isListCell(rangeEl.parentNode)) {\r\n                                rangeEl = formatEl.parentNode.parentNode.parentNode;\r\n                                newEl = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\r\n                                if (!newEl) {\r\n                                    const newListCell = util.createElement('LI');\r\n                                    newListCell.innerHTML = '<br>';\r\n                                    rangeEl.insertBefore(newListCell, newEl);\r\n                                    newEl = newListCell;\r\n                                }\r\n                            } else {\r\n                                const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : 'P';\r\n                                newEl = util.createElement(newFormat);\r\n                                const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\r\n                                edge.cc.insertBefore(newEl, edge.ec);\r\n                            }\r\n                            \r\n                            newEl.innerHTML = '<br>';\r\n                            util.copyFormatAttributes(newEl, formatEl);\r\n                            util.removeItemAllParents(formatEl, null, null);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\r\n                        e.preventDefault();\r\n                        formatEl = core.appendFormatTag(formatEl, null);\r\n                        core.setRange(formatEl, 0, formatEl, 0);\r\n                    }\r\n\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        const compContext = context[fileComponentName];\r\n                        const container = compContext._container;\r\n                        const sibling = container.previousElementSibling || container.nextElementSibling;\r\n\r\n                        let newEl = null;\r\n                        if (util.isListCell(container.parentNode)) {\r\n                            newEl = util.createElement('BR');\r\n                        } else {\r\n                            newEl = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : 'P');\r\n                            newEl.innerHTML = '<br>';\r\n                        }\r\n\r\n                        container.parentNode.insertBefore(newEl, container);\r\n                        \r\n                        core.callPlugin(fileComponentName, function () {\r\n                            core.selectComponent(compContext._element, fileComponentName);\r\n                        }, null);\r\n                    }\r\n                    \r\n                    break;\r\n                case 27:\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.controllersOff();\r\n                        return false;\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (shift && /16/.test(keyCode)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\r\n                    const cell = util.getParentElement(formatEl, util.isCell);\r\n                    if (cell) {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, cell, true);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                core.insertNode(zeroWidth, null, false);\r\n                core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n            }\r\n\r\n            if (typeof functions.onKeyDown === 'function') functions.onKeyDown(e, core);\r\n        },\r\n\r\n        onKeyUp_wysiwyg: function (e) {\r\n            if (event._onShortcutKey) return;\r\n            core._editorRange();\r\n\r\n            const range = core.getRange();\r\n            const keyCode = e.keyCode;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            let selectionNode = core.getSelectionNode();\r\n\r\n            if (core._isBalloon && ((core._isBalloonAlways && keyCode !== 27) || !range.collapsed)) {\r\n                if (core._isBalloonAlways) {\r\n                    if (keyCode !== 27) event._showToolbarBalloonDelay();\r\n                } else {\r\n                    event._showToolbarBalloon();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            /** when format tag deleted */\r\n            if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '' && selectionNode.children.length === 0) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                selectionNode.innerHTML = '';\r\n\r\n                const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : 'P');\r\n                oFormatTag.innerHTML = '<br>';\r\n\r\n                selectionNode.appendChild(oFormatTag);\r\n                core.setRange(oFormatTag, 0, oFormatTag, 0);\r\n                event._applyTagEffects();\r\n\r\n                core.history.push(false);\r\n                return;\r\n            }\r\n\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if (((!formatEl && range.collapsed) || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\r\n                core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\r\n                selectionNode = core.getSelectionNode();\r\n            }\r\n\r\n            if (event._directionKeyCode.test(keyCode)) {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\r\n                let so = range.startOffset, eo = range.endOffset;\r\n                const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\r\n                so = range.startOffset - frontZeroWidthCnt;\r\n                eo = range.endOffset - frontZeroWidthCnt;\r\n                selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\r\n                core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\r\n            }\r\n\r\n            core._charCount('');\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n\r\n            if (typeof functions.onKeyUp === 'function') functions.onKeyUp(e, core);\r\n        },\r\n\r\n        onScroll_wysiwyg: function (e) {\r\n            core.controllersOff();\r\n            core._lineBreaker.style.display = 'none';\r\n            if (core._isBalloon) event._hideToolbar();\r\n            if (typeof functions.onScroll === 'function') functions.onScroll(e, core);\r\n        },\r\n\r\n        onFocus_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = true;\r\n            if (core._isInline) event._showToolbarInline();\r\n            if (typeof functions.onFocus === 'function') functions.onFocus(e, core);\r\n        },\r\n\r\n        onBlur_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = false;\r\n            core.controllersOff();\r\n            if (core._isInline || core._isBalloon) event._hideToolbar();\r\n            if (typeof functions.onBlur === 'function') functions.onBlur(e, core);\r\n\r\n            // active class reset of buttons\r\n            const commandMap = core.commandMap;\r\n            const activePlugins = core.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (!util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            core._variable.currentNodes = [];\r\n            core._variable.currentNodesMap = [];\r\n            if (options.showPathLabel) context.element.navigation.textContent = '';\r\n        },\r\n\r\n        onMouseDown_resizingBar: function (e) {\r\n            e.stopPropagation();\r\n\r\n            core._variable.resizeClientY = e.clientY;\r\n            context.element.resizeBackground.style.display = 'block';\r\n\r\n            function closureFunc() {\r\n                context.element.resizeBackground.style.display = 'none';\r\n                _d.removeEventListener('mousemove', event._resize_editor);\r\n                _d.removeEventListener('mouseup', closureFunc);\r\n            }\r\n\r\n            _d.addEventListener('mousemove', event._resize_editor);\r\n            _d.addEventListener('mouseup', closureFunc);\r\n        },\r\n\r\n        _resize_editor: function (e) {\r\n            const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\r\n            context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\r\n            core._variable.resizeClientY = e.clientY;\r\n        },\r\n\r\n        onResize_window: function () {\r\n            core.controllersOff();\r\n\r\n            const responsiveSize = event._responsiveButtonSize;\r\n            if (responsiveSize) {\r\n                const windowWidth = _w.innerWidth;\r\n                let responsiveWidth = 'default';\r\n                for (let i = 1, len = responsiveSize.length; i < len; i++) {\r\n                    if (windowWidth < responsiveSize[i]) {\r\n                        responsiveWidth = responsiveSize[i] + '';\r\n                    }\r\n                }\r\n\r\n                if (event._responsiveCurrentSize !== responsiveWidth) {\r\n                    event._responsiveCurrentSize = responsiveWidth;\r\n                    functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\r\n                }\r\n            }\r\n\r\n            if (context.element.toolbar.offsetWidth === 0) return;\r\n\r\n            if (context.fileBrowser && context.fileBrowser.area.style.display === 'block') {\r\n                context.fileBrowser.body.style.maxHeight = (_w.innerHeight - context.fileBrowser.header.offsetHeight - 50) + 'px';\r\n            }\r\n\r\n            if (core.submenuActiveButton && core.submenu) {\r\n                core._setMenuPosition(core.submenuActiveButton, core.submenu);\r\n            }\r\n\r\n            if (core._variable.isFullScreen) {\r\n                core._variable.innerHeight_fullScreen += (_w.innerHeight - context.element.toolbar.offsetHeight) - core._variable.innerHeight_fullScreen;\r\n                context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\r\n                return;\r\n            }\r\n\r\n            if (core._variable.isCodeView && core._isInline) {\r\n                event._showToolbarInline();\r\n                return;\r\n            }\r\n            \r\n            core._iframeAutoHeight();\r\n\r\n            if (core._sticky) {\r\n                context.element.toolbar.style.width = (context.element.topArea.offsetWidth - 2) + 'px';\r\n                event.onScroll_window();\r\n            }\r\n        },\r\n\r\n        onScroll_window: function () {\r\n            if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\r\n\r\n            const element = context.element;\r\n            const editorHeight = element.editorArea.offsetHeight;\r\n            const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\r\n            const editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\r\n            \r\n            if (y < editorTop) {\r\n                event._offStickyToolbar();\r\n            }\r\n            else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\r\n                if (!core._sticky) event._onStickyToolbar();\r\n                element.toolbar.style.top = (editorHeight + editorTop + options.stickyToolbar -y - core._variable.minResizingSize) + 'px';\r\n            }\r\n            else if (y >= editorTop) {\r\n                event._onStickyToolbar();\r\n            }\r\n        },\r\n\r\n        _getEditorOffsets: function (container) {\r\n            let offsetEl = container || context.element.topArea;\r\n            let t = 0, l = 0, s = 0;\r\n\r\n            while (offsetEl) {\r\n                t += offsetEl.offsetTop;\r\n                l += offsetEl.offsetLeft;\r\n                s += offsetEl.scrollTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            return {\r\n                top: t,\r\n                left: l,\r\n                scroll: s\r\n            };\r\n        },\r\n\r\n        _getPageBottomSpace: function () {\r\n            return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\r\n        },\r\n\r\n        _onStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            if (!core._isInline && !options.toolbarContainer) {\r\n                element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\r\n                element._stickyDummy.style.display = 'block';\r\n            }\r\n\r\n            element.toolbar.style.top = options.stickyToolbar + 'px';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\r\n            util.addClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = true;\r\n        },\r\n\r\n        _offStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            element._stickyDummy.style.display = 'none';\r\n            element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\r\n            element.editorArea.style.marginTop = '';\r\n\r\n            util.removeClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = false;\r\n        },\r\n\r\n        _codeViewAutoHeight: function () {\r\n            context.element.code.style.height = context.element.code.scrollHeight + 'px';\r\n        },\r\n\r\n        // FireFox - table delete, Chrome - image, video, audio\r\n        _hardDelete: function () {\r\n            const range = core.getRange();\r\n            const sc = range.startContainer;\r\n            const ec = range.endContainer;\r\n            \r\n            // table\r\n            const sCell = util.getRangeFormatElement(sc);\r\n            const eCell = util.getRangeFormatElement(ec);\r\n            const sIsCell = util.isCell(sCell);\r\n            const eIsCell = util.isCell(eCell);\r\n            if (((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling) || (eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling)) && sCell !== eCell) {\r\n                if (!sIsCell) {\r\n                    util.removeItem(util.getParentElement(eCell, util.isComponent));\r\n                } else if (!eIsCell) {\r\n                    util.removeItem(util.getParentElement(sCell, util.isComponent));\r\n                } else {\r\n                    util.removeItem(util.getParentElement(sCell, util.isComponent));\r\n                    core.nativeFocus();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            // component\r\n            const sComp = sc.nodeType === 1 ? util.getParentElement(sc, '.se-component') : null;\r\n            const eComp = ec.nodeType === 1 ? util.getParentElement(ec, '.se-component') : null;\r\n            if (sComp) util.removeItem(sComp);\r\n            if (eComp) util.removeItem(eComp);\r\n\r\n            return false;\r\n        },\r\n\r\n        onPaste_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (!clipboardData) return true;\r\n            return event._dataTransferAction('paste', e, clipboardData);\r\n        },\r\n\r\n        _setClipboardComponent: function (e, info, clipboardData) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            clipboardData.setData('text/html', info.component.outerHTML);\r\n        },\r\n\r\n        onCopy_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (typeof functions.onCopy === 'function' && !functions.onCopy(e, clipboardData, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.addClass(info.component, 'se-component-copy');\r\n                // copy effect\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(info.component, 'se-component-copy');\r\n                }, 150);\r\n            }\r\n        },\r\n\r\n        onCut_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (typeof functions.onCut === 'function' && !functions.onCut(e, clipboardData, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.removeItem(info.component);\r\n                core.controllersOff();\r\n            }\r\n\r\n            _w.setTimeout(function () {\r\n                // history stack\r\n                core.history.push(false);\r\n            });\r\n        },\r\n\r\n        onDrop_wysiwyg: function (e) {\r\n            const dataTransfer = e.dataTransfer;\r\n            if (!dataTransfer) return true;\r\n            if (util.isIE) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            core.removeNode();\r\n            event._setDropLocationSelection(e);\r\n            return event._dataTransferAction('drop', e, dataTransfer);\r\n        },\r\n\r\n        _setDropLocationSelection: function (e) {\r\n            if (e.rangeParent) {\r\n                core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\r\n            } else if (core._wd.caretRangeFromPoint) {\r\n                const r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\r\n                core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\r\n            } else {\r\n                const r = core.getRange();\r\n                core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\r\n            }\r\n        },\r\n\r\n        _dataTransferAction: function (type, e, data) {\r\n            let plainText, cleanData;\r\n            if (util.isIE) {\r\n                plainText = data.getData('Text');\r\n                \r\n                const range = core.getRange();\r\n                const tempDiv = util.createElement('DIV');\r\n                const tempRange = {\r\n                    sc: range.startContainer,\r\n                    so: range.startOffset,\r\n                    ec: range.endContainer,\r\n                    eo: range.endOffset\r\n                };\r\n\r\n                tempDiv.setAttribute('contenteditable', true);\r\n                tempDiv.style.cssText = 'position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;';\r\n                \r\n                context.element.relative.appendChild(tempDiv);\r\n                tempDiv.focus();\r\n\r\n                _w.setTimeout(function () {\r\n                    cleanData = tempDiv.innerHTML;\r\n                    util.removeItem(tempDiv);\r\n                    core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\r\n                    event._setClipboardData(type, e, plainText, cleanData, data);\r\n                });\r\n\r\n                return true;\r\n            } else {\r\n                plainText = data.getData('text/plain');\r\n                cleanData = data.getData('text/html');\r\n                if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n\r\n        _setClipboardData: function (type, e, plainText, cleanData, data) {\r\n            // MS word\r\n            if (/class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData)) {\r\n                cleanData = cleanData.replace(/\\n/g, ' ');\r\n                plainText = plainText.replace(/\\n/g, ' ');\r\n            } else {\r\n                plainText = plainText.replace(/\\n/g, '');\r\n            }\r\n\r\n            cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\r\n            const maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText);\r\n\r\n            // paste event\r\n            if (type === 'paste' && typeof functions.onPaste === 'function' && !functions.onPaste(e, cleanData, maxCharCount, core)) {\r\n                return false;\r\n            }\r\n            // drop event\r\n            if (type === 'drop' && typeof functions.onDrop === 'function' && !functions.onDrop(e, data, core)) {\r\n                return false;\r\n            }\r\n\r\n            // files\r\n            const files = data.files;\r\n            if (files.length > 0) {\r\n                if (/^image/.test(files[0].type) && core.plugins.image) {\r\n                    functions.insertImage(files);\r\n                }\r\n                return false;\r\n            }\r\n\r\n            if (!maxCharCount) {\r\n                return false;\r\n            }\r\n\r\n            if (cleanData) {\r\n                functions.insertHTML(cleanData, true, false);\r\n                return false;\r\n            }\r\n        },\r\n\r\n        onMouseMove_wysiwyg: function (e) {\r\n            if (core.isDisabled) return;\r\n            const component = util.getParentElement(e.target, util.isComponent);\r\n            const lineBreakerStyle = core._lineBreaker.style;\r\n\r\n            if (component && !core.currentControllerName) {\r\n                let scrollTop = 0;\r\n                let el = context.element.wysiwyg;\r\n                do {\r\n                    scrollTop += el.scrollTop;\r\n                    el = el.parentElement;\r\n                } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\r\n\r\n                const wScroll = context.element.wysiwyg.scrollTop;\r\n                const offsets = event._getEditorOffsets(null);\r\n                const componentTop = util.getOffset(component, context.element.wysiwygFrame).top + wScroll;\r\n                const y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? context.element.toolbar.offsetHeight : 0);\r\n                const c = componentTop + (options.iframe ? scrollTop : offsets.top);\r\n\r\n                const isList = util.isListCell(component.parentNode);\r\n                let dir = '', top = '';\r\n                if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < (c + 20)) {\r\n                    top = componentTop;\r\n                    dir = 't';\r\n                } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > (c + component.offsetHeight - 20)) {\r\n                    top = componentTop + component.offsetHeight;\r\n                    dir = 'b';\r\n                } else {\r\n                    lineBreakerStyle.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                core._variable._lineBreakComp = component;\r\n                core._variable._lineBreakDir = dir;\r\n                lineBreakerStyle.top = (top - wScroll) + 'px';\r\n                core._lineBreakerButton.style.left = (util.getOffset(component).left + (component.offsetWidth / 2) - 15) + 'px';\r\n                lineBreakerStyle.display = 'block';\r\n            } // off line breaker\r\n            else if (lineBreakerStyle.display !== 'none') {\r\n                lineBreakerStyle.display = 'none';\r\n            }\r\n        },\r\n\r\n        _onMouseDown_lineBreak: function (e) {\r\n            e.preventDefault();\r\n        },\r\n\r\n        _onLineBreak: function (e) {\r\n            e.preventDefault();\r\n            \r\n            const component = core._variable._lineBreakComp;\r\n            const dir = !this ? core._variable._lineBreakDir : this;\r\n            const isList = util.isListCell(component.parentNode);\r\n\r\n            const format = util.createElement(isList ? 'BR' : util.isCell(component.parentNode) ? 'DIV' : 'P');\r\n            if (!isList) format.innerHTML = '<br>';\r\n\r\n            if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, 'byte-html')) return;\r\n\r\n            component.parentNode.insertBefore(format, dir === 't' ? component : component.nextSibling);\r\n            core._lineBreaker.style.display = 'none';\r\n            core._variable._lineBreakComp = null;\r\n\r\n            const focusEl = isList ? format : format.firstChild;\r\n            core.setRange(focusEl, 1, focusEl, 1);\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        _addEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            /** toolbar event */\r\n            context.element.toolbar.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element._menuTray.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\r\n            /** editor area */\r\n            eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\r\n            eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('copy', event.onCopy_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\r\n\r\n            /** line breaker */\r\n            event._lineBreakerBind = { a: event._onLineBreak.bind(''), t: event._onLineBreak.bind('t'), b: event._onLineBreak.bind('b') };\r\n            eventWysiwyg.addEventListener('mousemove', event.onMouseMove_wysiwyg, false);\r\n            core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\r\n            core._lineBreakerButton.addEventListener('click', event._lineBreakerBind.a, false);\r\n            context.element.lineBreaker_t.addEventListener('mousedown', event._lineBreakerBind.t, false);\r\n            context.element.lineBreaker_b.addEventListener('mousedown', event._lineBreakerBind.b, false);\r\n\r\n            /** Events are registered only when there is a table plugin.  */\r\n            if (core.plugins.table) {\r\n                eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            }\r\n            \r\n            /** code view area auto line */\r\n            if (options.height === 'auto' && !options.codeMirrorEditor) {\r\n                context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\r\n            }\r\n\r\n            /** resizingBar */\r\n            if (context.element.resizingBar) {\r\n                if (/\\d+/.test(options.height)) {\r\n                    context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\r\n                } else {\r\n                    util.addClass(context.element.resizingBar, 'se-resizing-none');\r\n                }\r\n            }\r\n            \r\n            /** window event */\r\n            event._setResponsiveToolbar();\r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n\r\n            _w.addEventListener('resize', event.onResize_window, false);\r\n            if (options.stickyToolbar > -1) {\r\n                _w.addEventListener('scroll', event.onScroll_window, false);\r\n            }\r\n        },\r\n\r\n        _removeEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            context.element.toolbar.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element._menuTray.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\r\n\r\n            eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\r\n            eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\r\n            eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\r\n            eventWysiwyg.removeEventListener('copy', event.onCopy_wysiwyg);\r\n            eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\r\n            eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\r\n            eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\r\n\r\n            eventWysiwyg.removeEventListener('mousemove', event.onMouseMove_wysiwyg);\r\n            core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\r\n            core._lineBreakerButton.removeEventListener('click', event._lineBreakerBind.a);\r\n            context.element.lineBreaker_t.removeEventListener('mousedown', event._lineBreakerBind.t);\r\n            context.element.lineBreaker_b.removeEventListener('mousedown', event._lineBreakerBind.b);\r\n            event._lineBreakerBind = null;\r\n            \r\n            eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            \r\n            eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\r\n            eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\r\n\r\n            context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\r\n            \r\n            if (context.element.resizingBar) {\r\n                context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\r\n            }\r\n            \r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n        },\r\n\r\n        _setResponsiveToolbar: function () {\r\n            if (_responsiveButtons.length === 0) {\r\n                _responsiveButtons = null;\r\n                return;\r\n            }\r\n\r\n            const sizeArray = event._responsiveButtonSize = ['default'];\r\n            const buttonsObj = event._responsiveButtons = {default: _responsiveButtons[0]};\r\n            for (let i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\r\n                buttonGroup = _responsiveButtons[i];\r\n                size = buttonGroup[0] * 1;\r\n                sizeArray.push(size);\r\n                buttonsObj[size] = buttonGroup[1];\r\n            }\r\n        }\r\n    };\r\n\r\n    /** functions */\r\n    const functions = {\r\n        /**\r\n         * @description Core, Util object\r\n         */\r\n        core: core,\r\n        util: util,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {Object} e Event Object\r\n         * @param {Object} core Core object\r\n         */\r\n        onload: null,\r\n        onScroll: null,\r\n        onMouseDown: null,\r\n        onClick: null,\r\n        onInput: null,\r\n        onKeyDown: null,\r\n        onKeyUp: null,\r\n        onDrop: null,\r\n        onChange: null,\r\n        onCopy: null,\r\n        onCut: null,\r\n        onPaste: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n\r\n        /**\r\n         * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n         * @param {Element} toolbar Toolbar Element\r\n         * @param {Object} context The editor's context object (editor.getContext())\r\n         * @param {Object} core Core object\r\n         */\r\n        showInline: null,\r\n\r\n        /**\r\n         * @description Called just after the controller is positioned and displayed on the screen.\r\n         * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n         * @param {String} name The name of the plugin that called the controller\r\n         * @param {Array} controllers Array of Controller elements\r\n         * @param {Object} core Core object\r\n         */\r\n        showController: null,\r\n\r\n        /**\r\n         * @description An event when toggling between code view and wysiwyg view.\r\n         * @param {Boolean} isCodeView Whether the current code view mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleCodeView: null,\r\n\r\n        /**\r\n         * @description An event when toggling full screen.\r\n         * @param {Boolean} isFullScreen Whether the current full screen mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleFullScreen: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the image upload\r\n         * @param {Object} response Response object\r\n         * @param {Object} info Input information\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * @param {Object} core Core object\r\n         */\r\n        imageUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the video upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * @param core Core object\r\n         */\r\n        videoUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the audio upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * @param core Core object\r\n         */\r\n        audioUploadHandler: null,\r\n\r\n        /**\r\n         * @description Called before the image is uploaded\r\n         * If false is returned, no image upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onImageUploadBefore: null,\r\n        /**\r\n         * @description Called before the video is uploaded\r\n         * If false is returned, no video(iframe, video) upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onVideoUploadBefore: null,\r\n        /**\r\n         * @description Called before the audio is uploaded\r\n         * If false is returned, no audio upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onAudioUploadBefore: null,\r\n\r\n        /**\r\n         * @description Called when the image is uploaded, updated, deleted\r\n         * @param {Element} targetElement Target element\r\n         * @param {Number} index Uploaded index\r\n         * @param {String} state Upload status ('create', 'update', 'delete')\r\n         * @param {Object} info Image info object\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n         * @param {Object} core Core object\r\n         */\r\n        onImageUpload: null,\r\n         /**\r\n         * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n         * -- arguments is same \"onImageUpload\" --\r\n         */\r\n        onVideoUpload: null,\r\n         /**\r\n         * @description Called when the audio is is uploaded, updated, deleted\r\n         * -- arguments is same \"onImageUpload\" --\r\n         */\r\n        onAudioUpload: null,\r\n\r\n        /**\r\n         * @description Called when the image is upload failed\r\n         * @param {String} errorMessage Error message\r\n         * @param {Object} result Response Object\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean}\r\n         */\r\n        onImageUploadError: null,\r\n        /**\r\n         * @description Called when the video(iframe, video) upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onVideoUploadError: null,\r\n        /**\r\n         * @description Called when the audio upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onAudioUploadError: null,\r\n\r\n        /**\r\n         * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n         * You cannot set a new plugin for the button.\r\n         * @param {Array} buttonList Button list \r\n         */\r\n        setToolbarButtons: function (buttonList) {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            \r\n            const newToolbar = _Constructor._createToolBar(_d, buttonList, core.plugins, options);\r\n            _responsiveButtons = newToolbar.responsiveButtons;\r\n            core._moreLayerActiveButton = null;\r\n            event._setResponsiveToolbar();\r\n\r\n            context.element.toolbar.replaceChild(newToolbar._buttonTray, context.element._buttonTray);\r\n            const newContext = _Context(context.element.originElement, core._getConstructed(context.element), options);\r\n\r\n            context.element = newContext.element;\r\n            context.tool = newContext.tool;\r\n            if (options.iframe) context.element.wysiwyg = core._wd.body;\r\n            core._cachingButtons();\r\n            core.history._resetCachingButton();\r\n\r\n            core.activePlugins = [];\r\n            const oldCallButtons = pluginCallButtons;\r\n            pluginCallButtons = newToolbar.pluginCallButtons;\r\n            let plugin, button, oldButton;\r\n            for (let key in pluginCallButtons) {\r\n                if (!util.hasOwn(pluginCallButtons, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (plugin.active && button) {\r\n                    oldButton = oldCallButtons[key];\r\n                    core.callPlugin(key, null, oldButton || button);\r\n                    if (oldButton) {\r\n                        button.parentElement.replaceChild(oldButton, button);\r\n                        pluginCallButtons[key] = oldButton;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (core.hasFocus) event._applyTagEffects();\r\n\r\n            if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, 'active');\r\n            if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, 'active');\r\n            if (util.hasClass(context.element.wysiwyg, 'se-show-block')) util.addClass(core._styleCommandMap.showBlocks, 'active');\r\n        },\r\n\r\n        /**\r\n         * @description Add or reset option property (Editor is reloaded)\r\n         * @param {Object} _options Options\r\n         */\r\n        setOptions: function (_options) {\r\n            event._removeEvent();\r\n            core._resetComponents();\r\n            \r\n            util.removeClass(core._styleCommandMap.showBlocks, 'active');\r\n            util.removeClass(core._styleCommandMap.codeView, 'active');\r\n            core._variable.isCodeView = false;\r\n            core._iframeAuto = null;\r\n\r\n            core.plugins = _options.plugins || core.plugins;\r\n            const mergeOptions = [options, _options].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (!util.hasOwn(option, key)) continue;\r\n                    if (key === 'plugins' && option[key] && init[key]) {\r\n                        let i = init[key], o = option[key];\r\n                        i = i.length ? i : _w.Object.keys(i).map(function(name) { return i[name]; });\r\n                        o = o.length ? o : _w.Object.keys(o).map(function(name) { return o[name]; });\r\n                        init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                    } else {\r\n                        init[key] = option[key];\r\n                    }\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            const el = context.element;\r\n            const _initHTML = el.wysiwyg.innerHTML;\r\n\r\n            // set option\r\n            const cons = _Constructor._setOptions(mergeOptions, context, core.plugins, options);        \r\n\r\n            if (cons.callButtons) {\r\n                pluginCallButtons = cons.callButtons;\r\n                core.initPlugins = {};\r\n            }\r\n\r\n            if (cons.plugins) {\r\n                core.plugins = plugins = cons.plugins;\r\n            }\r\n\r\n            // reset context\r\n            if (el._menuTray.children.length === 0) this._menuTray = {};\r\n            _responsiveButtons = cons.toolbar.responsiveButtons;\r\n            options = mergeOptions;\r\n            core.lang = lang = options.lang;\r\n\r\n            if (options.iframe) {\r\n                el.wysiwygFrame.addEventListener('load', function () {\r\n                    util._setIframeDocument(this, options);\r\n                    core._setOptionsInit(el, _initHTML);\r\n                });\r\n            }\r\n\r\n            el.editorArea.appendChild(el.wysiwygFrame);\r\n\r\n            if (!options.iframe) {\r\n                core._setOptionsInit(el, _initHTML);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set \"options.defaultStyle\" style.\r\n         * Define the style of the edit area\r\n         * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n         * @param {String} style Style string\r\n         */\r\n        setDefaultStyle: function (style) {\r\n            const newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\r\n            const el = context.element;\r\n\r\n            // top area\r\n            el.topArea.style.cssText = newStyles.top;\r\n            // code view\r\n            el.code.style.cssText = options._editorStyles.frame;\r\n            el.code.style.display = 'none';\r\n            if (options.height === 'auto') {\r\n                el.code.style.overflow = 'hidden';\r\n            } else {\r\n                el.code.style.overflow = '';\r\n            }\r\n            // wysiwyg frame\r\n            if (!options.iframe) {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\r\n            } else {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame;\r\n                el.wysiwyg.style.cssText = newStyles.editor;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a notice area\r\n         * @param {String} message Notice message\r\n         */\r\n        noticeOpen: function (message) {\r\n            core.notice.open.call(core, message);\r\n        },\r\n\r\n        /**\r\n         * @description Close a notice area\r\n         */\r\n        noticeClose: function () {\r\n            core.notice.close.call(core);\r\n        },\r\n\r\n        /**\r\n         * @description Copying the contents of the editor to the original textarea\r\n         */\r\n        save: function () {\r\n            context.element.originElement.value = core.getContents(false);\r\n        },\r\n\r\n        /**\r\n         * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n         * @returns {Object}\r\n         */\r\n        getContext: function () {\r\n            return context;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the contents of the suneditor\r\n         * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {String}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            return core.getContents(onlyContents);\r\n        },\r\n\r\n        /**\r\n         * @description Gets only the text of the suneditor contents\r\n         * @returns {String}\r\n         */\r\n        getText: function () {\r\n            return context.element.wysiwyg.textContent;\r\n        },\r\n\r\n        /**\r\n         * @description Get the editor's number of characters or binary data size.\r\n         * You can use the \"charCounterType\" option format.\r\n         * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n         * If argument is no value, the currently set \"charCounterType\" option is used.\r\n         * @returns {Number}\r\n         */\r\n        getCharCount: function (charCounterType) {\r\n            charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\r\n            return core.getCharLength((core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent), charCounterType);\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded images informations\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @returns {Array}\r\n         */\r\n        getImagesInfo: function () {\r\n            return context.image ? context.image._infoList : [];\r\n        },\r\n        \r\n        /**\r\n         * @description Gets uploaded files(plugin using fileManager) information list.\r\n         * image: [img], video: [video, iframe], audio: [audio]\r\n         * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {String} pluginName Plugin name (image, video, audio)\r\n         * @returns {Array}\r\n         */\r\n        getFilesInfo: function (pluginName) {\r\n            return context[pluginName] ? context[pluginName]._infoList : [];\r\n        },\r\n\r\n        /**\r\n         * @description Upload images using image plugin\r\n         * @param {FileList} files FileList\r\n         */\r\n        insertImage: function (files) {\r\n            if (!core.plugins.image || !files) return;\r\n\r\n            if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);\r\n            else core.plugins.image.submitAction.call(core, files);\r\n            core.focus();\r\n        },\r\n\r\n        /**\r\n         * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n         * @param {Element|String} html HTML Element or HTML string or plain string\r\n         * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n         */\r\n        insertHTML: function (html, notCleaningData, checkCharCount, rangeSelection) {\r\n            if (typeof html === 'string') {\r\n                if (!notCleaningData) html = core.cleanHTML(html, null);\r\n                try {\r\n                    const dom = _d.createRange().createContextualFragment(html);\r\n                    const domTree = dom.childNodes;\r\n\r\n                    if (checkCharCount) {\r\n                        const type = core._charTypeHTML ? 'outerHTML' : 'textContent';\r\n                        let checkHTML = '';\r\n                        for (let i = 0, len = domTree.length; i < len; i++) {\r\n                            checkHTML += domTree[i][type];\r\n                        }\r\n                        if (!core.checkCharCount(checkHTML, null)) return;\r\n                    }\r\n\r\n                    let c, a, t, firstCon;\r\n                    while ((c = domTree[0])) {\r\n                        t = core.insertNode(c, a, false);\r\n                        a = t.container || t;\r\n                        if (!firstCon) firstCon = t;\r\n                    }\r\n\r\n                    const offset = a.nodeType === 3 ? (t.endOffset || a.textContent.length): a.childNodes.length;\r\n                    if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);\r\n                    else core.setRange(a, offset, a, offset);\r\n                } catch (error) {\r\n                    core.execCommand('insertHTML', false, html);\r\n                }\r\n            } else {\r\n                if (util.isComponent(html)) {\r\n                    core.insertComponent(html, false, checkCharCount, false);\r\n                } else {\r\n                    let afterNode = null;\r\n                    if (util.isFormatElement(html) || util.isMedia(html)) {\r\n                        afterNode = util.getFormatElement(core.getSelectionNode(), null);\t\r\n                    }\r\n                    core.insertNode(html, afterNode, checkCharCount);\r\n                }\r\n            }\r\n            \r\n            core.effectNode = null;\r\n            core.focus();\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Change the contents of the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        setContents: function (contents) {\r\n            core.setContents(contents);\r\n        },\r\n\r\n        /**\r\n         * @description Add contents to the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        appendContents: function (contents) {\r\n            const convertValue = core.convertContentsForEditor(contents);\r\n            \r\n            if (!core._variable.isCodeView) {\r\n                const temp = util.createElement('DIV');\r\n                temp.innerHTML = convertValue;\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const children = temp.children;\r\n                for (let i = 0, len = children.length; i < len; i++) {\r\n                    wysiwyg.appendChild(children[i]);\r\n                }\r\n            } else {\r\n                core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Disable the suneditor\r\n         */\r\n        disabled: function () {\r\n            context.tool.cover.style.display = 'block';\r\n            context.element.wysiwyg.setAttribute('contenteditable', false);\r\n            core.isDisabled = true;\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', true);\r\n            } else {\r\n                context.element.code.setAttribute('disabled', 'disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enable the suneditor\r\n         */\r\n        enabled: function () {\r\n            context.tool.cover.style.display = 'none';\r\n            context.element.wysiwyg.setAttribute('contenteditable', true);\r\n            core.isDisabled = false;\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', false);\r\n            } else {\r\n                context.element.code.removeAttribute('disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Show the suneditor\r\n         */\r\n        show: function () {\r\n            const topAreaStyle = context.element.topArea.style;\r\n            if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\r\n        },\r\n\r\n        /**\r\n         * @description Hide the suneditor\r\n         */\r\n        hide: function () {\r\n            context.element.topArea.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Destroy the suneditor\r\n         */\r\n        destroy: function () {\r\n            /** off menus */\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            if (core.notice) core.notice.close.call(core);\r\n            if (core.modalForm) core.plugins.dialog.close.call(core);\r\n\r\n            /** remove history */\r\n            core.history._destroy();\r\n\r\n            /** remove event listeners */\r\n            event._removeEvent();\r\n            \r\n            /** remove element */\r\n            util.removeItem(context.element.toolbar);\r\n            util.removeItem(context.element.topArea);\r\n\r\n            /** remove object reference */\r\n            for (let k in core) { if (util.hasOwn(core, k)) delete core[k]; }\r\n            for (let k in event) { if (util.hasOwn(event, k)) delete event[k]; }\r\n            for (let k in context) { if (util.hasOwn(context, k)) delete context[k]; }\r\n            for (let k in pluginCallButtons) { if (util.hasOwn(pluginCallButtons, k)) delete pluginCallButtons[k]; }\r\n            \r\n            /** remove user object */\r\n            for (let k in this) { if (util.hasOwn(this, k)) delete this[k]; }\r\n        },\r\n\r\n        /**\r\n         * @description Toolbar methods\r\n         */\r\n        toolbar: {\r\n            /**\r\n             * @description Disable the toolbar\r\n             */\r\n            disabled: function () {\r\n                context.tool.cover.style.display = 'block';\r\n            },\r\n\r\n            /**\r\n             * @description Enable the toolbar\r\n             */\r\n            enabled: function () {\r\n                context.tool.cover.style.display = 'none';\r\n            },\r\n\r\n            /**\r\n             * @description Show the toolbar\r\n             */\r\n            show: function () {\r\n                if (core._isInline) {\r\n                    event._showToolbarInline();\r\n                } else {\r\n                    context.element.toolbar.style.display = '';\r\n                    context.element._stickyDummy.style.display = '';\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @description Hide the toolbar\r\n             */\r\n            hide: function () {\r\n                if (core._isInline) {\r\n                    event._hideToolbar();\r\n                } else {\r\n                    context.element.toolbar.style.display = 'none';\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                }\r\n            },\r\n        }\r\n    };\r\n\r\n    /************ Core init ************/\r\n    // functions\r\n    core.functions = functions;\r\n\r\n    // Create to sibling node\r\n    let contextEl = context.element;\r\n    let originEl = contextEl.originElement;\r\n    let topEl = contextEl.topArea;\r\n    originEl.style.display = 'none';\r\n    topEl.style.display = 'block';\r\n\r\n    // init\r\n    if (options.iframe) {\r\n        contextEl.wysiwygFrame.addEventListener('load', function () {\r\n            util._setIframeDocument(this, options);\r\n            core._editorInit(false, options.value);\r\n            options.value = null;\r\n        });\r\n    }\r\n\r\n    // insert editor element\r\n    if (typeof originEl.nextElementSibling === 'object') {\r\n        originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\r\n    } else {\r\n        originEl.parentNode.appendChild(topEl);\r\n    }\r\n\r\n    contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\r\n    contextEl = originEl = topEl = null;\r\n\r\n    // init\r\n    if (!options.iframe) {\r\n        core._editorInit(false, options.value);\r\n        options.value = null;\r\n    }\r\n\r\n    return functions;\r\n}","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default function (core, change) {\r\n    const _w = core._w;\r\n    const util = core.util;\r\n    const delayTime = core.context.options.historyStackDelayTime;\r\n    let editor = core.context.element;\r\n    let undo = core.context.tool.undo;\r\n    let redo = core.context.tool.redo;\r\n\r\n    let pushDelay = null;\r\n    let stackIndex = 0;\r\n    let stack = [];\r\n\r\n    function setContentsFromStack () {\r\n        const item = stack[stackIndex];\r\n        editor.wysiwyg.innerHTML = item.contents;\r\n\r\n        core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\r\n        core.focus();\r\n\r\n        if (stackIndex === 0) {\r\n            if (undo) undo.setAttribute('disabled', true);\r\n            if (redo) redo.removeAttribute('disabled');\r\n        } else if (stackIndex === stack.length - 1) {\r\n            if (undo) undo.removeAttribute('disabled');\r\n            if (redo) redo.setAttribute('disabled', true);\r\n        } else {\r\n            if (undo) undo.removeAttribute('disabled');\r\n            if (redo) redo.removeAttribute('disabled');\r\n        }\r\n\r\n        core.controllersOff();\r\n        core._checkComponents();\r\n        core._setCharCount();\r\n        core._resourcesStateChange();\r\n        \r\n        // onChange\r\n        change();\r\n    }\r\n\r\n    function pushStack () {\r\n        core._checkComponents();\r\n        const current = core.getContents(true);\r\n        if (!!stack[stackIndex] && current === stack[stackIndex].contents) return;\r\n\r\n        stackIndex++;\r\n        const range = core._variable._range;\r\n\r\n        if (stack.length > stackIndex) {\r\n            stack = stack.slice(0, stackIndex);\r\n            if (redo) redo.setAttribute('disabled', true);\r\n        }\r\n\r\n        if (!range) {\r\n            stack[stackIndex] = {\r\n                contents: current,\r\n                s: { path: [0, 0], offset: [0, 0] },\r\n                e: { path: 0, offset: 0 }\r\n            };\r\n        } else {\r\n            stack[stackIndex] = {\r\n                contents: current,\r\n                s: {\r\n                    path: util.getNodePath(range.startContainer, null, null),\r\n                    offset: range.startOffset\r\n                },\r\n                e: {\r\n                    path: util.getNodePath(range.endContainer, null, null),\r\n                    offset: range.endOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\r\n\r\n        core._setCharCount();\r\n        // onChange\r\n        change();\r\n    }\r\n\r\n    return {\r\n        /**\r\n         * @description History stack\r\n         */\r\n        stack: stack,\r\n\r\n        /**\r\n         * @description Saving the current status to the history object stack\r\n         * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\r\n         * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\r\n         * You can specify the delay time by sending a number.\r\n         * @param {Boolean|Number} delay If true, Add stack without delay time.\r\n         */\r\n        push: function (delay) {\r\n            _w.setTimeout(core._resourcesStateChange.bind(core));\r\n            const time = typeof delay === 'number' ? (delay > 0 ? delay : 0) : (!delay ? 0 : delayTime);\r\n            \r\n            if (!time || pushDelay) {\r\n                _w.clearTimeout(pushDelay);\r\n                if (!time) {\r\n                    pushStack();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            pushDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(pushDelay);\r\n                pushDelay = null;\r\n                pushStack();\r\n            }, time);\r\n        },\r\n\r\n        /**\r\n         * @description Undo function\r\n         */\r\n        undo: function () {\r\n            if (stackIndex > 0) {\r\n                stackIndex--;\r\n                setContentsFromStack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Redo function\r\n         */\r\n        redo: function () {\r\n            if (stack.length - 1 > stackIndex) {\r\n                stackIndex++;\r\n                setContentsFromStack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Go to the history stack for that index.\r\n         * If \"index\" is -1, go to the last stack\r\n         * @param {Number} index Stack index\r\n         */\r\n        go: function (index) {\r\n            stackIndex = index < 0 ? (stack.length - 1) : index;\r\n            setContentsFromStack();\r\n        },\r\n        \r\n        /**\r\n         * @description Reset the history object\r\n         */\r\n        reset: function (ignoreChangeEvent) {\r\n            if (undo) undo.setAttribute('disabled', true);\r\n            if (redo) redo.setAttribute('disabled', true);\r\n            if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\r\n            \r\n            stack.splice(0);\r\n            stackIndex = 0;\r\n\r\n            // pushStack\r\n            stack[stackIndex] = {\r\n                contents: core.getContents(true),\r\n                s: {\r\n                    path: [0, 0],\r\n                    offset: 0\r\n                },\r\n                e: {\r\n                    path: [0, 0],\r\n                    offset: 0\r\n                }\r\n            };\r\n\r\n            if (!ignoreChangeEvent) change();\r\n        },\r\n\r\n        /**\r\n         * @description Reset the disabled state of the buttons to fit the current stack.\r\n         * @private\r\n         */\r\n        _resetCachingButton: function () {\r\n            editor = core.context.element;\r\n            undo = core.context.tool.undo;\r\n            redo = core.context.tool.redo;\r\n\r\n            if (stackIndex === 0) {\r\n                if (undo) undo.setAttribute('disabled', true);\r\n                if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\r\n                if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\r\n            } else if (stackIndex === stack.length - 1) {\r\n                if (redo) redo.setAttribute('disabled', true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove all stacks and remove the timeout function.\r\n         * @private\r\n         */\r\n        _destroy: function () {\r\n            if (pushDelay) _w.clearTimeout(pushDelay);\r\n            stack = null;\r\n        }\r\n    };\r\n}","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'horizontalRule',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const lang = this.lang;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-line';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' +\r\n                            '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' +\r\n                            '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' +\r\n                            '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                '</ul>' +\r\n            '</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    appendHr: function (className) {\r\n        const oHr = this.util.createElement('HR');\r\n        oHr.className = className;\r\n        this.focus();\r\n        return this.insertComponent(oHr, false, true, false);\r\n    },\r\n\r\n    horizontalRulePick: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let value = null;\r\n        \r\n        while (!value && !/UL/i.test(target.tagName)) {\r\n            value = target.getAttribute('data-value');\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!value) return;\r\n\r\n        const oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\r\n        if (oNode) {\r\n            this.setRange(oNode, 0, oNode, 0);\r\n            this.submenuOff();\r\n        }\r\n    }\r\n};\r\n","/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nexport default {\r\n    name: 'align',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const icons = core.icons;\r\n        const context = core.context;\r\n        context.align = {\r\n            targetButton: targetElement,\r\n            _alignList: null,\r\n            currentAlign: '',\r\n            icons: {\r\n                justify: icons.align_justify,\r\n                left: icons.align_left,\r\n                right: icons.align_right,\r\n                center: icons.align_center\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n        context.align._alignList = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-align';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' +\r\n                            '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' +\r\n                            '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' +\r\n                            '<span class=\"se-list-icon\">' + icons.align_right +'</span>' + lang.toolbar.alignRight +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' +\r\n                            '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                '</ul>' +\r\n            '</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        const targetButton = this.context.align.targetButton;\r\n        const target = targetButton.firstElementChild;\r\n\r\n        if (!element) {\r\n            this.util.changeElement(target, this.context.align.icons.left);\r\n            targetButton.removeAttribute('data-focus');\r\n        } else if (this.util.isFormatElement(element)) {\r\n            const textAlign = element.style.textAlign;\r\n            if (textAlign) {\r\n                this.util.changeElement(target, this.context.align.icons[textAlign]);\r\n                targetButton.setAttribute('data-focus', textAlign);\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const alignContext = this.context.align;\r\n        const alignList = alignContext._alignList;\r\n        const currentAlign = alignContext.targetButton.getAttribute('data-focus') || 'left';\r\n\r\n        if (currentAlign !== alignContext.currentAlign) {\r\n            for (let i = 0, len = alignList.length; i < len; i++) {\r\n                if (currentAlign === alignList[i].getAttribute('data-value')) {\r\n                    this.util.addClass(alignList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(alignList[i], 'active');\r\n                }\r\n            }\r\n\r\n            alignContext.currentAlign = currentAlign;\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let value = null;\r\n\r\n        while (!value && !/UL/i.test(target.tagName)) {\r\n            value = target.getAttribute('data-value');\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!value) return;\r\n\r\n        const selectedFormsts = this.getSelectedElements();\r\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\r\n            this.util.setStyle(selectedFormsts[i], 'textAlign', (value === 'left' ? '' : value));\r\n        }\r\n\r\n        this.effectNode = null;\r\n        this.submenuOff();\r\n        this.focus();\r\n        \r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n};\r\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","exports.f = Object.getOwnPropertySymbols;\n","module.exports = {};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n"],"sourceRoot":""}